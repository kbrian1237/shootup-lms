<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascript adventure</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link id="layout" rel="stylesheet" href="defaultStyle.css">
</head>
<body>
    <div id="loader-overlay" class="hidden">
        <div class="spinner"><p style="color: gold; justify-self: center;">learn</p></div>
    </div>
    <header>
        <h1>Javascript Adventure</h1>
        <p>Embark on an exciting journey to master JavaScript and build dynamic web experiences!</p>
        <button id="settingsButton">Settings</button>

    </header>
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span> <h2>Settings</h2>

            <div class="settings">
                 <div class="theme-select">
                    <label for="theme-select">Theme:</label>
                    <select id="theme-select">
                        <option value="default">Default</option>
                        <option value="dark">Dark</option>
                        <option value="light">Light</option>
                        <option value="ocean">Ocean</option>
                        <option value="forest">Forest</option>
                    </select>
                </div>
                <div class="font-select">
                    <label for="font-select">Font:</label>
                    <select id="font-select">
                        <option style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;" value="Segoe UI, Tahoma, Geneva, Verdana, sans-serif">Default</option>
                        <option style="font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;" value="Roboto, sans-serif">Roboto</option>
                        <option style="font-family: open sans, sans-serif;" value="Open Sans, sans-serif">Open Sans</option>
                        <option style="font-family: lato, sans-serif;" value="Lato, sans-serif">Lato</option>
                        <option style="font-family: montserrat;" value="Montserrat, sans-serif">Montserrat</option>
                        <option style="font-family: merriweather;" value="Merriweather, serif">Merriweather</option>
                    </select>
                </div>
                <div class="style-select">
                        <label for="style-select">Style:</label>
                        <select id="style-select">
                            <option value="default">Default</option>
                            <option value="retro">retro</option>
                            <option value="futuristic">futuristic</option>
                            <option value="cyber">cyberpunk</option>
                            <option value="lux">luxurious</option>
                            <option value="minimalistic">minimalistic</option>
                            
                        </select>
                    </div>
            </div>
        </div>

    </div>
    <div class="nav-container">
        <ul class="nav-tabs">
            <li data-target="intro">
                <button class="nav-btn active" data-target="intro">Introduction</button>
            </li>
            <li data-target="variables">
                <button class="nav-btn" data-target="variables">Variables</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="operators">
                <button class="nav-btn" data-target="operators">Operators</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="data-types">
                <button class="nav-btn" data-target="data-types">Data Types</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="functions">
                <button class="nav-btn" data-target="functions">Functions</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="arrays">
                <button class="nav-btn" data-target="arrays">Arrays</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="objects">
                <button class="nav-btn" data-target="objects">Objects</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="conditionals">
                <button class="nav-btn" data-target="conditionals">Conditionals</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="loops">
                <button class="nav-btn" data-target="loops">Loops</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="dom-manipulation">
                <button class="nav-btn" data-target="dom-manipulation">DOM Manipulation</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="events">
                <button class="nav-btn" data-target="events">Events</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="promises">
                <button class="nav-btn" data-target="promises">Promises</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="async-await">
                <button class="nav-btn" data-target="async-await">Async/Await</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="error-handling">
                <button class="nav-btn" data-target="error-handling">Error Handling</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="modules">
                <button class="nav-btn" data-target="modules">Modules</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="classes">
                <button class="nav-btn" data-target="classes">Classes</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="closures">
                <button class="nav-btn" data-target="closures">Closures</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="hoisting">
                <button class="nav-btn" data-target="hoisting">Hoisting</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="event-loop">
                <button class="nav-btn" data-target="event-loop">Event Loop</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="prototypes">
                <button class="nav-btn" data-target="prototypes">Prototypes</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="debugging">
                <button class="nav-btn" data-target="debugging">Debugging</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
            <li data-target="final">
                <button class="nav-btn" data-target="final">Final Project</button>
                <i class="fas fa-lock lock-icon"></i>
            </li>
        </ul>
    </div>

    <div class="container">
        <section id="intro" class="lesson-section active">
            <h2 class="lesson-title">Introduction to JavaScript</h2>
            <div class="lesson-content">
                <p>Welcome to this comprehensive course on Learning JavaScript! You've taken the first step towards mastering the language that powers the modern web and beyond.</p>
                <p>JavaScript is an incredibly versatile and essential programming language for anyone looking to build interactive websites, dynamic web applications, server-side services, mobile apps, and even games. It's a cornerstone technology alongside HTML and CSS, forming the "three pillars" of front-end web development. However, with the advent of Node.js, JavaScript has also become a major player in back-end development, allowing developers to use a single language across the entire stack.</p>
                <p>In this course, we will take you from the very basics to more advanced concepts, giving you the skills and confidence to start building your own projects. Here's a glimpse of the topics we'll cover:</p>
                <ul>
                    <li>Understanding JavaScript fundamentals: variables, data types, operators, and control flow (if/else, loops).</li>
                    <li>Working with functions: defining, calling, and understanding scope.</li>
                    <li>Exploring objects and arrays: essential data structures in JavaScript.</li>
                    <li>Manipulating the Document Object Model (DOM): making your web pages interactive.</li>
                    <li>Handling events: responding to user actions like clicks and keyboard input.</li>
                    <li>Asynchronous JavaScript: understanding callbacks, Promises, and async/await for non-blocking operations.</li>
                    <li>Introduction to modern JavaScript features (ES6+): arrow functions, classes, modules, and more.</li>
                    <li>Brief overview of popular JavaScript frameworks and libraries (like React, Vue, or Angular) and how they build upon core JavaScript.</li>
                    <li>Basic debugging techniques and best practices.</li>
                </ul>
                <p>This introductory section will ensure you have a solid grasp of what JavaScript is and its importance before we dive into the core programming concepts. Complete the introductory quizzes to test your initial understanding and unlock the next section of the course!</p>
            </div>
        
            <div class="exercise">
                <h3 class="exercise-title"><i>✓</i> Introduction Quizzes</h3>
                <p class="exercise-instruction">Answer the following questions to unlock the next section!</p>
        
                <div class="quiz" id="quiz-intro-1">
                    <p><strong>1. What is the primary role of JavaScript in web development?</strong></p>
                    <div class="quiz-options">
                        <label><input type="radio" name="intro-quiz-1" value="A"> Defining the structure of a webpage</label><br>
                        <label><input type="radio" name="intro-quiz-1" value="B"> Styling the appearance of a webpage</label><br>
                        <label><input type="radio" name="intro-quiz-1" value="C"> Adding interactivity and dynamic behavior to a webpage</label><br>
                        <label><input type="radio" name="intro-quiz-1" value="D"> Managing server-side databases</label>
                    </div>
                    <button class="check-btn" onclick="checkQuiz('intro-quiz-1', 'C')">Check Answer</button>
                    <div class="feedback" id="feedback-intro-quiz-1"></div>
                </div>
        
                <div class="quiz" id="quiz-intro-2">
                    <p><strong>2. Where does client-side JavaScript primarily run?</strong></p>
                    <div class="quiz-options">
                        <label><input type="radio" name="intro-quiz-2" value="A"> On the web server</label><br>
                        <label><input type="radio" name="intro-quiz-2" value="B"> In the user's web browser</label><br>
                        <label><input type="radio" name="intro-quiz-2" value="C"> In a mobile application</label><br>
                        <label><input type="radio" name="intro-quiz-2" value="D"> In a desktop operating system</label>
                    </div>
                    <button class="check-btn" onclick="checkQuiz('intro-quiz-2', 'B')">Check Answer</button>
                    <div class="feedback" id="feedback-intro-quiz-2"></div>
                </div>
        
                <div class="quiz" id="quiz-intro-3">
                    <p><strong>3. Which of the following is a common use case for JavaScript?</strong></p>
                    <div class="quiz-options">
                        <label><input type="radio" name="intro-quiz-3" value="A"> Validating form input before submission</label><br>
                        <label><input type="radio" name="intro-quiz-3" value="B"> Creating the basic layout of a page</label><br>
                        <label><input type="radio" name="intro-quiz-3" value="C"> Defining the content of a page</label><br>
                        <label><input type="radio" name="intro-quiz-3" value="D"> All of the above</label>
                    </div>
                    <button class="check-btn" onclick="checkQuiz('intro-quiz-3', 'A')">Check Answer</button>
                    <div class="feedback" id="feedback-intro-quiz-3"></div>
                </div>
        
                <div class="quiz" id="quiz-intro-4">
                    <p><strong>4. JavaScript is often used in conjunction with which other web technologies?</strong></p>
                    <div class="quiz-options">
                        <label><input type="radio" name="intro-quiz-4" value="A"> Python and Django</label><br>
                        <label><input type="radio" name="intro-quiz-4" value="B"> Ruby and Rails</label><br>
                        <label><input type="radio" name="intro-quiz-4" value="C"> HTML and CSS</label><br>
                        <label><input type="radio" name="intro-quiz-4" value="D"> SQL and Databases</label>
                    </div>
                    <button class="check-btn" onclick="checkQuiz('intro-quiz-4', 'C')">Check Answer</button>
                    <div class="feedback" id="feedback-intro-quiz-4"></div>
                </div>
        
                <div class="quiz" id="quiz-intro-5">
                    <p><strong>5. Is JavaScript considered a front-end or back-end language, or both?</strong></p>
                    <div class="quiz-options">
                        <label><input type="radio" name="intro-quiz-5" value="A"> Primarily back-end</label><br>
                        <label><input type="radio" name="intro-quiz-5" value="B"> Primarily front-end, but can be used for back-end (with Node.js)</label><br>
                        <label><input type="radio" name="intro-quiz-5" value="C"> Exclusively back-end</label><br>
                        <label><input type="radio" name="intro-quiz-5" value="D"> Neither front-end nor back-end</label>
                    </div>
                    <button class="check-btn" onclick="checkQuiz('intro-quiz-5', 'B')">Check Answer</button>
                    <div class="feedback" id="feedback-intro-quiz-5"></div>
                </div>
        
            </div>
        </section>
        

        <section id="variables" class="lesson-section">
            <h2 class="lesson-title">Variables and Data Types in JavaScript</h2>
            <div class="lesson-content">
                <p>Variables are essential containers for storing data in JavaScript. They allow us to label and refer to values, making our code dynamic and manageable. Beyond just declaring variables, understanding the different *types* of data they can hold is fundamental to programming in JavaScript.</p>
                <p>In this comprehensive section, we will dive deep into how variables are declared using <code>var</code>, <code>let</code>, and <code>const</code>, exploring their differences in scope and behavior. We will then thoroughly examine all the built-in JavaScript data types, understanding what kind of values they represent and how they are used.</p>
        
                <h3>Declaring Variables: `var`, `let`, and `const` Revisited</h3>
                <p>Modern JavaScript offers three primary keywords for declaring variables, each with distinct characteristics:</p>
        
                <h4>`let`: The Modern Standard</h4>
                <p>Introduced in ECMAScript 2015 (ES6), <code>let</code> is the preferred way to declare variables that may need to be reassigned. Variables declared with <code>let</code> are **block-scoped**. This means they are only accessible within the block (defined by curly braces <code>{}</code>) where they are declared.</p>
                <pre><code class="language-javascript">function greet() {
          let message = "Hello"; // message is block-scoped to the function
          if (true) {
            let greeting = "Hi"; // greeting is block-scoped to the if block
            console.log(greeting); // Output: Hi
          }
          // console.log(greeting); // This would cause a ReferenceError
          console.log(message); // Output: Hello
        }
        greet();
        // console.log(message); // This would also cause a ReferenceError
        </code></pre>
                <p><code>let</code> variables are also not subject to "hoisting" in the same way as <code>var</code>. While the declaration is technically hoisted, accessing the variable before its declaration results in a `ReferenceError`. This period between hoisting and declaration is known as the **Temporal Dead Zone (TDZ)**.</p>
        
                <h4>`const`: For Constants</h4>
                <p>Also introduced in ES6, <code>const</code> is used to declare variables whose value should not be reassigned after initialization. Like <code>let</code>, variables declared with <code>const</code> are **block-scoped** and are subject to the Temporal Dead Zone.</p>
                <pre><code class="language-javascript">const PI = 3.14159;
        // PI = 3.14; // TypeError: Assignment to constant variable.
        
        const person = { name: "Alice" };
        person.name = "Bob"; // This is allowed!
        console.log(person.name); // Output: Bob
        // The *value* of person (the object reference) cannot be reassigned,
        // but the *properties* of the object can be modified.
        
        // const city; // SyntaxError: Missing initializer in const declaration
        </code></pre>
                <p>It's important to note that <code>const</code> prevents reassignment of the variable itself, not the immutability of the value it holds (especially true for objects and arrays).</p>
        
                <h4>`var`: The Older Way (Use with Caution)</h4>
                <p>Before ES6, <code>var</code> was the only way to declare variables. Variables declared with <code>var</code> are **function-scoped** (or global-scoped if declared outside any function). This means they are accessible throughout the entire function in which they are declared, regardless of block structure.</p>
                <pre><code class="language-javascript">function exampleVar() {
          var count = 1; // count is function-scoped
          if (true) {
            var total = 10; // total is also function-scoped to exampleVar
            console.log(total); // Output: 10
          }
          console.log(total); // Output: 10 (Accessible outside the if block)
        }
        exampleVar();
        // console.log(count); // ReferenceError: count is not defined
        </code></pre>
                <p>Variables declared with <code>var</code> are subject to **hoisting**. This means the declaration (but not the assignment) is moved to the top of its scope during the compilation phase. This can lead to unexpected behavior if you use a variable before its declaration.</p>
                <pre><code class="language-javascript">console.log(hoistedVar); // Output: undefined
        var hoistedVar = "I am hoisted";
        console.log(hoistedVar); // Output: I am hoisted
        </code></pre>
                <p>Due to function scope and hoisting issues, <code>let</code> and <code>const</code> are generally preferred over <code>var</code> in modern JavaScript development.</p>
        
                <h3>JavaScript Data Types</h3>
                <p>JavaScript variables can hold different types of data. These data types determine the kind of value a variable can store and the operations that can be performed on it. JavaScript has two main categories of data types: Primitive and Object.</p>
        
                <h4>Primitive Data Types</h4>
                <p>Primitive data types represent single, immutable values (though the variable holding the primitive value can be reassigned). There are seven primitive data types in JavaScript:</p>
        
                <h5>String</h5>
                <p>Represents sequences of characters, used for text. Strings are enclosed in single quotes (<code>' '</code>), double quotes (<code>" "</code>), or backticks (<code>` `</code>).</p>
                <pre><code class="language-javascript">let greeting = "Hello";
        let name = 'World';
        let message = `The greeting is ${greeting} and the name is ${name}.`; // Template literal
        console.log(message); // Output: The greeting is Hello and the name is World.
        </code></pre>
        
                <h5>Number</h5>
                <p>Represents both integer and floating-point numbers. JavaScript uses a single type for all numbers.</p>
                <pre><code class="language-javascript">let age = 30; // Integer
        let price = 19.99; // Floating-point
        let result = age + price;
        console.log(result); // Output: 49.99
        </code></pre>
        
                <h5>Boolean</h5>
                <p>Represents a logical entity and can only have two values: <code>true</code> or <code>false</code>. Booleans are often used for conditional logic.</p>
                <pre><code class="language-javascript">let isAdult = true;
        let hasPermission = false;
        if (isAdult && hasPermission) {
          console.log("Access granted.");
        } else {
          console.log("Access denied."); // Output: Access denied.
        }
        </code></pre>
        
                <h5>`null`</h5>
                <p>Represents the intentional absence of any object value. It is a primitive value.</p>
                <pre><code class="language-javascript">let car = null; // The variable 'car' currently has no object value
        console.log(car); // Output: null
        console.log(typeof car); // Output: object (This is a historical bug in JavaScript)
        </code></pre>
        
                <h5>`undefined`</h5>
                <p>Represents a variable that has been declared but has not yet been assigned a value. It is the default value of variables that are not initialized.</p>
                <pre><code class="language-javascript">let quantity; // Declared but not assigned
        console.log(quantity); // Output: undefined
        // console.log(typeof quantity); // Output: undefined
        </code></pre>
        
                <h5>Symbol</h5>
                <p>Introduced in ES6, Symbols are unique and immutable primitive values often used as object property keys to avoid naming conflicts.</p>
                <pre><code class="language-javascript">const id1 = Symbol('id');
        const id2 = Symbol('id');
        console.log(id1 === id2); // Output: false (Symbols are unique)
        
        let user = {
          [id1]: 123,
          name: "Charlie"
        };
        console.log(user[id1]); // Output: 123
        </code></pre>
        
                <h5>BigInt</h5>
                <p>Introduced in ECMAScript 2020, BigInt is a primitive type used to represent whole numbers larger than <code>2<sup>53</sup> - 1</code>, which is the largest number JavaScript can reliably represent with the Number primitive.</p>
                <pre><code class="language-javascript">const largeNumber = 9007199254740991n; // Add 'n' for BigInt
        const anotherLargeNumber = BigInt(9007199254740991);
        console.log(largeNumber + 1n); // Output: 9007199254740992n
        // console.log(largeNumber + 1); // TypeError: Cannot mix BigInt and other types
        </code></pre>
        
                <h4>Object Data Type</h4>
                <p>The Object type is a complex data type that can store collections of data and more complex entities. Unlike primitives, objects are mutable. In JavaScript, almost everything that is not a primitive is an Object.</p>
        
                <h5>Object Literals</h5>
                <p>A fundamental way to create objects, representing a collection of key-value pairs.</p>
                <pre><code class="language-javascript">let person = {
          firstName: "Alice",
          lastName: "Smith",
          age: 25,
          isStudent: false
        };
        console.log(person.firstName); // Output: Alice
        console.log(person['age']); // Output: 25
        </code></pre>
        
                <h5>Arrays</h5>
                <p>Arrays are a special type of object used to store ordered collections of values.</p>
                <pre><code class="language-javascript">let colors = ["red", "green", "blue"];
        console.log(colors[0]); // Output: red
        colors.push("yellow"); // Add an element
        console.log(colors.length); // Output: 4
        </code></pre>
        
                <h5>Functions</h5>
                <p>Functions are first-class objects in JavaScript. They are blocks of reusable code that can be defined and executed. Functions can be assigned to variables, passed as arguments, and returned from other functions.</p>
                <pre><code class="language-javascript">function sayHello(name) {
          return "Hello, " + name + "!";
        }
        let greetingFunction = sayHello; // Assign function to a variable
        console.log(greetingFunction("David")); // Output: Hello, David!
        </code></pre>
        
                <p>Understanding the distinction between primitive and object types, and the behavior of <code>var</code>, <code>let</code>, and <code>const</code>, is crucial for writing correct and predictable JavaScript code.</p>
        
                <div class="playground">
                    <div class="code-editor">
                        <div class="code-editor-header">
                            <span class="code-editor-title">Variables and Data Types Playground</span>
                            <button class="run-btn" onclick="runCode('variables-code', 'variables-vis')">Run Code</button>
                            <button class="reset-btn" onclick="resetCode('variables-code')">Reset</button>
                        </div>
                        <textarea class="code-input" id="variables-code">// Experiment with different data types and variable declarations here!
        
        let myString = "This is a string.";
        const myNumber = 100;
        var myBoolean = true;
        let myNull = null;
        let myUndefined; // Value is undefined by default
        
        let myObject = { key: "value" };
        let myArray = [1, 2, 3];
        let myFunction = function() { console.log("I am a function!"); };
        
        console.log(typeof myString);
        console.log(typeof myNumber);
        console.log(typeof myBoolean);
        console.log(typeof myNull); // Note the typeof bug for null
        console.log(typeof myUndefined);
        console.log(typeof myObject);
        console.log(typeof myArray); // Arrays are objects
        console.log(typeof myFunction); // Functions are objects
        
        // Try reassigning variables:
        myString = "A new string";
        // myNumber = 200; // This would cause a TypeError (const)
        myBoolean = false;
        myObject.key = "new value"; // Modifying object property is allowed
        
        console.log("--- After Reassignment/Modification ---");
        console.log(myString);
        console.log(myObject.key);
        
        </textarea>
                    </div>
                    <div class="simulation-visual" id="variables-vis">
                         <div class="simulation-placeholder">Terminal Output Below</div>
                         <div class="terminal" id="variables-terminal"></div>
                    </div>
                </div>
                <h3 class="exercise-title"><i>✓</i> Variables and Data Types Challenge</h3>
                <p class="exercise-instruction">Modify the code in the playground to declare variables of different data types and observe their behavior:</p>
                <ol>
                    <li>Declare a `let` variable `score` and initialize it with a Number.</li>
                    <li>Declare a `const` variable `gameName` and initialize it with a String.</li>
                    <li>Declare a `var` variable `isGameOver` and initialize it with a Boolean.</li>
                    <li>Declare a `let` variable `highScore` but do not initialize it.</li>
                    <li>Declare a `let` variable `playerStats` and initialize it with an Object containing properties like `level` (Number) and `items` (Array).</li>
                    <li>Use `console.log()` to print the value and the `typeof` each variable.</li>
                    <li>Attempt to reassign `gameName` (it should cause an error).</li>
                    <li>Modify a property within the `playerStats` object.</li>
                </ol>
                <button class="check-btn" onclick="checkVariablesExercise()">Check Solution</button>
                 <div class="feedback" id="feedback-variables-challenge"></div>
            </div>

            
        
            <div class="exercise">
                <h3 class="exercise-title"><i>✓</i> Variables and Data Types Quizzes</h3>
                <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>
        
                <div class="quiz" id="quiz-variables-1">
                    <p><strong>1. Which keyword declares a block-scoped variable that can be reassigned?</strong></p>
                    <div class="quiz-options">
                        <label><input type="radio" name="variables-quiz-1" value="A"> `var`</label><br>
                        <label><input type="radio" name="variables-quiz-1" value="B"> `const`</label><br>
                        <label><input type="radio" name="variables-quiz-1" value="C"> `let`</label><br>
                        <label><input type="radio" name="variables-quiz-1" value="D"> `dynamic`</label>
                    </div>
                    <button class="check-btn" onclick="checkQuiz('variables-quiz-1', 'C')">Check Answer</button>
                    <div class="feedback" id="feedback-variables-quiz-1"></div>
                </div>
        
                <div class="quiz" id="quiz-variables-2">
                    <p><strong>2. What is the data type of the value `true`?</strong></p>
                    <div class="quiz-options">
                        <label><input type="radio" name="variables-quiz-2" value="A"> Number</label><br>
                        <label><input type="radio" name="variables-quiz-2" value="B"> String</label><br>
                        <label><input type="radio" name="variables-quiz-2" value="C"> Boolean</label><br>
                        <label><input type="radio" name="variables-quiz-2" value="D"> Undefined</label>
                    </div>
                    <button class="check-btn" onclick="checkQuiz('variables-quiz-2', 'C')">Check Answer</button>
                    <div class="feedback" id="feedback-variables-quiz-2"></div>
                </div>
        
                <div class="quiz" id="quiz-variables-3">
                    <p><strong>3. Which of the following is an example of an Object data type?</strong></p>
                    <div class="quiz-options">
                        <label><input type="radio" name="variables-quiz-3" value="A"> `"Hello"`</label><br>
                        <label><input type="radio" name="variables-quiz-3" value="B"> `123`</label><br>
                        <label><input type="radio" name="variables-quiz-3" value="C"> `null`</label><br>
                        <label><input type="radio" name="variables-quiz-3" value="D"> `[1, 2, 3]`</label>
                    </div>
                    <button class="check-btn" onclick="checkQuiz('variables-quiz-3', 'D')">Check Answer</button>
                    <div class="feedback" id="feedback-variables-quiz-3"></div>
                </div>
        
                <div class="quiz" id="quiz-variables-4">
                    <p><strong>4. What is the value of a variable that has been declared with `let` but not assigned a value?</strong></p>
                    <div class="quiz-options">
                        <label><input type="radio" name="variables-quiz-4" value="A"> `null`</label><br>
                        <label><input type="radio" name="variables-quiz-4" value="B"> `0`</label><br>
                        <label><input type="radio" name="variables-quiz-4" value="C"> `""` (an empty string)</label><br>
                        <label><input type="radio" name="variables-quiz-4" value="D"> `undefined`</label>
                    </div>
                    <button class="check-btn" onclick="checkQuiz('variables-quiz-4', 'D')">Check Answer</button>
                    <div class="feedback" id="feedback-variables-quiz-4"></div>
                </div>
        
                <div class="quiz" id="quiz-variables-5">
                    <p><strong>5. Which keyword is generally avoided in modern JavaScript due to its function scope and hoisting behavior?</strong></p>
                    <div class="quiz-options">
                        <label><input type="radio" name="variables-quiz-5" value="A"> `let`</label><br>
                        <label><input type="radio" name="variables-quiz-5" value="B"> `const`</label><br>
                        <label><input type="radio" name="variables-quiz-5" value="C"> `var`</label><br>
                        <label><input type="radio" name="variables-quiz-5" value="D"> `variable`</label>
                    </div>
                    <button class="check-btn" onclick="checkQuiz('variables-quiz-5', 'C')">Check Answer</button>
                    <div class="feedback" id="feedback-variables-quiz-5"></div>
                </div>
        
                
            </div>
        </section>

        <section id="operators" class="lesson-section">
    <h2 class="lesson-title">Operators in JavaScript</h2>
    <div class="lesson-content">
        <p>Operators are symbols that perform operations on values and variables. These operations can range from simple arithmetic like addition and subtraction to more complex logical evaluations and assignments. Understanding operators is fundamental to writing code that can perform calculations, make comparisons, and control program flow.</p>
        <p>In this section, we will explore the various categories of operators available in JavaScript, including arithmetic, assignment, comparison, logical, and more. We'll see how they are used to manipulate data and build expressions.</p>

        <h3>Arithmetic Operators</h3>
        <p>Arithmetic operators are used to perform mathematical operations.</p>
        <ul>
            <li>`+`: Addition</li>
            <li>`-`: Subtraction</li>
            <li>`*`: Multiplication</li>
            <li>`/`: Division</li>
            <li>`%`: Modulus (remainder)</li>
            <li>`++`: Increment (increments the value by 1)</li>
            <li>`--`: Decrement (decrements the value by 1)</li>
            <li>`**`: Exponentiation (ES6)</li>
        </ul>
        <pre><code class="language-javascript">let a = 10;
let b = 5;

console.log(a + b); // Output: 15
console.log(a - b); // Output: 5
console.log(a * b); // Output: 50
console.log(a / b); // Output: 2
console.log(a % b); // Output: 0

let counter = 0;
counter++;
console.log(counter); // Output: 1

let power = 2 ** 3;
console.log(power); // Output: 8
</code></pre>

        <h3>Assignment Operators</h3>
        <p>Assignment operators are used to assign values to variables. The most common is the simple assignment operator `=`. Compound assignment operators perform an operation and assign the result back to the variable.</p>
        <ul>
            <li>`=`: Assignment</li>
            <li>`+=`: Addition assignment</li>
            <li>`-=`: Subtraction assignment</li>
            <li>`*=`: Multiplication assignment</li>
            <li>`/=`: Division assignment</li>
            <li>`%=`: Modulus assignment</li>
            <li>`**=`: Exponentiation assignment (ES6)</li>
        </ul>
        <pre><code class="language-javascript">let x = 10;
x += 5; // Equivalent to x = x + 5;
console.log(x); // Output: 15

let y = 20;
y -= 2; // Equivalent to y = y - 2;
console.log(y); // Output: 18

let z = 5;
z *= 3; // Equivalent to z = z * 3;
console.log(z); // Output: 15
</code></pre>

        <h3>Comparison Operators</h3>
        <p>Comparison operators are used to compare two values and return a boolean result (`true` or `false`).</p>
        <ul>
            <li>`==`: Equal to (checks for equality, performs type coercion)</li>
            <li>`!=`: Not equal to (checks for inequality, performs type coercion)</li>
            <li>`===`: Strict equal to (checks for equality without type coercion)</li>
            <li>`!==`: Strict not equal to (checks for inequality without type coercion)</li>
            <li>`>`: Greater than</li>
            <li>`<`: Less than</li>
            <li>`>=`: Greater than or equal to</li>
            <li>`<=`: Less than or equal to</li>
        </ul>
        <pre><code class="language-javascript">console.log(10 == '10');  // Output: true (type coercion)
console.log(10 === '10'); // Output: false (strict comparison)
console.log(5 > 3);       // Output: true
console.log(8 <= 8);      // Output: true
</code></pre>

        <h3>Logical Operators</h3>
        <p>Logical operators are used to combine or manipulate boolean values.</p>
        <ul>
            <li>`&&`: Logical AND (returns true if both operands are true)</li>
            <li>`||`: Logical OR (returns true if at least one operand is true)</li>
            <li>`!`: Logical NOT (inverts the boolean value)</li>
        </ul>
        <pre><code class="language-javascript">let isSunny = true;
let isWarm = false;

console.log(isSunny && isWarm); // Output: false
console.log(isSunny || isWarm); // Output: true
console.log(!isWarm);           // Output: true
</code></pre>

        <h3>Other Operators</h3>
        <p>JavaScript has several other useful operators:</p>
        <ul>
            <li>`typeof`: Returns the data type of a variable.</li>
            <li>`instanceof`: Checks if an object is an instance of a particular class or constructor function.</li>
            <li>`?:`: Ternary operator (a shorthand for if-else statements).</li>
        </ul>
         <pre><code class="language-javascript">let myVariable = "hello";
console.log(typeof myVariable); // Output: string

let myDate = new Date();
console.log(myDate instanceof Date); // Output: true

let age = 18;
let status = (age >= 18) ? "Adult" : "Minor";
console.log(status); // Output: Adult
</code></pre>


        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Operators Playground</span>
                    <button class="run-btn" onclick="runCode('operators-code', 'operators-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('operators-code')">Reset</button>
                </div>
                <textarea class="code-input" id="operators-code">// Experiment with different operators here!

let num1 = 25;
let num2 = 7;

let sum = num1 + num2;
let remainder = num1 % num2;

console.log("Sum:", sum);
console.log("Remainder:", remainder);

let isEqual = (num1 == '25');
let isStrictEqual = (num1 === '25');

console.log("Equal:", isEqual);
console.log("Strict Equal:", isStrictEqual);

let condition1 = true;
let condition2 = false;

console.log("AND:", condition1 && condition2);
console.log("OR:", condition1 || condition2);

</textarea>
            </div>
            <div class="simulation-visual" id="operators-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="operators-terminal"></div>
            </div>
        </div>

        <h3 class="exercise-title"><i>✓</i> Operators Challenge</h3>
        <p class="exercise-instruction">Use the playground to perform the following operations and log the results:</p>
        <ol>
            <li>Declare two variables, `numA` with a value of 20 and `numB` with a value of 6.</li>
            <li>Calculate the product of `numA` and `numB` and store it in a variable called `product`.</li>
            <li>Calculate the remainder when `numA` is divided by `numB` and store it in a variable called `remainder`.</li>
            <li>Check if `numA` is strictly greater than `numB` and store the boolean result in `isAGreater`.</li>
            <li>Check if `numB` is less than or equal to 6 and store the boolean result in `isBLessOrEqual`.</li>
            <li>Use the logical AND operator to combine `isAGreater` and `isBLessOrEqual` and store the result in `finalCondition`.</li>
            <li>Log the values of `product`, `remainder`, `isAGreater`, `isBLessOrEqual`, and `finalCondition` to the terminal.</li>
        </ol>
        <button class="check-btn" onclick="checkOperatorsExercise()">Check Solution</button>
         <div class="feedback" id="feedback-operators-challenge"></div>

    </div>

    <div class="exercise">

        

        <h3 class="exercise-title"><i>✓</i> Operators Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-operators-1">
            <p><strong>1. Which operator is used to check for strict equality (value and type)?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="operators-quiz-1" value="A"> `==`</label><br>
                <label><input type="radio" name="operators-quiz-1" value="B"> `!=`</label><br>
                <label><input type="radio" name="operators-quiz-1" value="C"> `===`</label><br>
                <label><input type="radio" name="operators-quiz-1" value="D"> `=`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('operators-quiz-1', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-operators-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-operators-2">
            <p><strong>2. What is the result of the expression `15 % 4`?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="operators-quiz-2" value="A"> `3.75`</label><br>
                <label><input type="radio" name="operators-quiz-2" value="B"> `3`</label><br>
                <label><input type="radio" name="operators-quiz-2" value="C"> `4`</label><br>
                <label><input type="radio" name="operators-quiz-2" value="D"> `0`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('operators-quiz-2', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-operators-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-operators-3">
            <p><strong>3. Which operator is used for logical AND?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="operators-quiz-3" value="A"> `||`</label><br>
                <label><input type="radio" name="operators-quiz-3" value="B"> `&&`</label><br>
                <label><input type="radio" name="operators-quiz-3" value="C"> `!`</label><br>
                <label><input type="radio" name="operators-quiz-3" value="D"> `&`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('operators-quiz-3', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-operators-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-operators-4">
            <p><strong>4. What will be the value of `count` after this code runs? `let count = 10; count -= 3;`</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="operators-quiz-4" value="A"> `13`</label><br>
                <label><input type="radio" name="operators-quiz-4" value="B"> `7`</label><br>
                <label><input type="radio" name="operators-quiz-4" value="C"> `30`</label><br>
                <label><input type="radio" name="operators-quiz-4" value="D"> `10`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('operators-quiz-4', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-operators-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-operators-5">
            <p><strong>5. Which operator is a shorthand for a simple if-else statement?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="operators-quiz-5" value="A"> `typeof`</label><br>
                <label><input type="radio" name="operators-quiz-5" value="B"> `instanceof`</label><br>
                <label><input type="radio" name="operators-quiz-5" value="C"> `?:`</label><br>
                <label><input type="radio" name="operators-quiz-5" value="D"> `&&`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('operators-quiz-5', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-operators-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="data-types" class="lesson-section">
    <h2 class="lesson-title">Data Types in JavaScript</h2>
    <div class="lesson-content">
        <p>As we touched upon briefly in the Variables section, data types are a fundamental concept in JavaScript. They classify the different kinds of values that variables can hold. Understanding data types is crucial because they dictate what operations you can perform on a value and how that value behaves in your code.</p>
        <p>JavaScript is a dynamically-typed language, which means you don't explicitly declare the data type of a variable when you declare it (unlike statically-typed languages like Java or C++). The data type is determined automatically at runtime based on the value assigned to the variable.</p>
        <p>JavaScript's built-in data types fall into two main categories: Primitive and Object.</p>

        <h3>Primitive Data Types</h3>
        <p>Primitive data types represent single, simple values. They are immutable, meaning their value cannot be changed after creation (though the variable holding the primitive value can be reassigned to a new value). There are seven primitive data types:</p>

        <h4>String</h4>
        <p>Used to represent text. Strings are sequences of characters and can be enclosed in single quotes (`'...'`), double quotes (`"..."`), or backticks (```...```) for template literals.</p>
        <pre><code class="language-javascript">let greeting = "Hello, world!"; // Double quotes
let name = 'Alice'; // Single quotes
let message = `The name is ${name}.`; // Template literal with interpolation
console.log(typeof greeting); // Output: string
</code></pre>

        <h4>Number</h4>
        <p>Used for both integer and floating-point numbers. JavaScript uses a single `Number` type. It can represent very large and very small numbers, but has limitations for extremely large integers (where `BigInt` is needed).</p>
        <pre><code class="language-javascript">let age = 30;
let price = 99.99;
let temperature = -5;
console.log(typeof age); // Output: number
console.log(typeof price); // Output: number
</code></pre>

        <h4>Boolean</h4>
        <p>Represents a logical value, either `true` or `false`. Booleans are essential for making decisions and controlling the flow of your program.</p>
        <pre><code class="language-javascript">let isComplete = true;
let hasErrors = false;
console.log(typeof isComplete); // Output: boolean
</code></pre>

        <h4>`null`</h4>
        <p>A special primitive value that represents an intentional absence of any object value. It is often used to indicate that a variable points to no object.</p>
        <pre><code class="language-javascript">let selectedUser = null;
console.log(selectedUser); // Output: null
console.log(typeof selectedUser); // Output: object (Historical bug - typeof null is object)
</code></pre>

        <h4>`undefined`</h4>
        <p>Represents a variable that has been declared but has not been assigned a value. It is the default value of uninitialized variables and function parameters that haven't been provided arguments.</p>
        <pre><code class="language-javascript">let quantity; // Declared but not initialized
console.log(quantity); // Output: undefined
console.log(typeof quantity); // Output: undefined
</code></pre>

        <h4>Symbol</h4>
        <p>Introduced in ES6, Symbols are unique and immutable primitive values. They are primarily used as unique property keys in objects to prevent naming conflicts.</p>
        <pre><code class="language-javascript">const uniqueId = Symbol('description');
const anotherId = Symbol('description');
console.log(uniqueId === anotherId); // Output: false
console.log(typeof uniqueId); // Output: symbol
</code></pre>

        <h4>BigInt</h4>
        <p>Introduced in ES2020, BigInt is a primitive type that can represent integers with arbitrary precision. It's used for numbers that exceed the safe integer limit of the `Number` type (`2^53 - 1`).</p>
        <pre><code class="language-javascript">const veryLargeNumber = 9007199254740991n; // 'n' suffix denotes a BigInt
const sum = veryLargeNumber + 1n;
console.log(sum); // Output: 9007199254740992n
console.log(typeof veryLargeNumber); // Output: bigint
</code></pre>

        <h3>Object Data Type</h3>
        <p>The Object type is a complex data type. It is used to store collections of data and more complex entities. Unlike primitives, objects are mutable, meaning their properties and values can be changed after creation.</p>
        <p>In JavaScript, almost everything that is not a primitive is an Object. This includes:</p>
        <ul>
            <li><strong>Object Literals:</strong> Simple key-value pairs enclosed in curly braces `{}`.</li>
            <li><strong>Arrays:</strong> Ordered collections of values, enclosed in square brackets `[]`. Arrays are a special type of object.</li>
            <li><strong>Functions:</strong> Blocks of reusable code. Functions are first-class objects in JavaScript.</li>
            <li><strong>Dates:</strong> Objects representing dates and times.</li>
            <li><strong>Regular Expressions:</strong> Objects used for pattern matching.</li>
            <li><strong>Built-in Objects:</strong> Like `Math`, `JSON`, `Error`, etc.</li>
        </ul>
        <pre><code class="language-javascript">// Object Literal
let person = {
  name: "Bob",
  age: 40
};
console.log(typeof person); // Output: object

// Array
let colors = ["red", "green", "blue"];
console.log(typeof colors); // Output: object (Arrays are objects)

// Function
function greet() {
  console.log("Hello!");
}
console.log(typeof greet); // Output: function (Functions are objects)
</code></pre>
        <p>Understanding the difference between primitive and object types is crucial, especially when dealing with variable assignment and comparisons, as objects are compared by reference, while primitives are compared by value.</p>


        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Data Types Playground</span>
                    <button class="run-btn" onclick="runCode('data-types-code', 'data-types-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('data-types-code')">Reset</button>
                </div>
                <textarea class="code-input" id="data-types-code">// Experiment with different data types and the typeof operator!

let myString = "Learning is fun!";
let myNumber = 108.5;
let myBoolean = false;
let myNull = null;
let myUndefined;
const mySymbol = Symbol('unique');
const myBigInt = 12345678901234567890n;

let myObject = { course: "JavaScript" };
let myArray = [10, 20, 30];
let myFunction = function() { return "I am a function"; };

console.log("Type of myString:", typeof myString);
console.log("Type of myNumber:", typeof myNumber);
console.log("Type of myBoolean:", typeof myBoolean);
console.log("Type of myNull:", typeof myNull); // Watch out for this!
console.log("Type of myUndefined:", typeof myUndefined);
console.log("Type of mySymbol:", typeof mySymbol);
console.log("Type of myBigInt:", typeof myBigInt);

console.log("Type of myObject:", typeof myObject);
console.log("Type of myArray:", typeof myArray);
console.log("Type of myFunction:", typeof myFunction);

</textarea>
            </div>
            <div class="simulation-visual" id="data-types-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="data-types-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Data Types Challenge</h3>
        <p class="exercise-instruction">Use the playground to declare variables of each of the 7 primitive data types and one variable for each of the 3 main object types (Object literal, Array, Function). Use `console.log()` and `typeof` to display their values and types in the terminal:</p>
        <ol>
            <li>Declare and initialize variables for String, Number, Boolean, null, undefined, Symbol, and BigInt.</li>
            <li>Declare and initialize an Object literal.</li>
            <li>Declare and initialize an Array.</li>
            <li>Declare and initialize a Function.</li>
            <li>For each variable, log its value and its type using `console.log(variableName, typeof variableName);`.</li>
        </ol>
        <button class="check-btn" onclick="checkDataTypesExercise()">Check Solution</button>
         <div class="feedback" id="feedback-data-types-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Data Types Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-data-types-1">
            <p><strong>1. Which data type represents a sequence of characters?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="data-types-quiz-1" value="A"> Number</label><br>
                <label><input type="radio" name="data-types-quiz-1" value="B"> Boolean</label><br>
                <label><input type="radio" name="data-types-quiz-1" value="C"> String</label><br>
                <label><input type="radio" name="data-types-quiz-1" value="D"> Object</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('data-types-quiz-1', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-data-types-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-data-types-2">
            <p><strong>2. What is the result of `typeof null` in JavaScript?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="data-types-quiz-2" value="A"> `null`</label><br>
                <label><input type="radio" name="data-types-quiz-2" value="B"> `undefined`</label><br>
                <label><input type="radio" name="data-types-quiz-2" value="C"> `object`</label><br>
                <label><input type="radio" name="data-types-quiz-2" value="D"> `string`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('data-types-quiz-2', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-data-types-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-data-types-3">
            <p><strong>3. Which data type is used for whole numbers larger than the standard Number type can safely handle?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="data-types-quiz-3" value="A"> Number</label><br>
                <label><input type="radio" name="data-types-quiz-3" value="B"> BigInt</label><br>
                <label><input type="radio" name="data-types-quiz-3" value="C"> Integer</label><br>
                <label><input type="radio" name="data-types-quiz-3" value="D"> LongNum</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('data-types-quiz-3', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-data-types-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-data-types-4">
            <p><strong>4. Are primitive data types mutable or immutable?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="data-types-quiz-4" value="A"> Mutable</label><br>
                <label><input type="radio" name="data-types-quiz-4" value="B"> Immutable</label><br>
                <label><input type="radio" name="data-types-quiz-4" value="C"> It depends on the specific type</label><br>
                <label><input type="radio" name="data-types-quiz-4" value="D"> Only strings are immutable</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('data-types-quiz-4', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-data-types-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-data-types-5">
            <p><strong>5. Which of the following is considered an Object data type in JavaScript?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="data-types-quiz-5" value="A"> `Symbol('id')`</label><br>
                <label><input type="radio" name="data-types-quiz-5" value="B"> `undefined`</label><br>
                <label><input type="radio" name="data-types-quiz-5" value="C"> `[1, 2, 3]`</label><br>
                <label><input type="radio" name="data-types-quiz-5" value="D"> `true`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('data-types-quiz-5', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-data-types-quiz-5"></div>
        </div>

        
    </div>
</section>
<section id="functions" class="lesson-section">
    <h2 class="lesson-title">Functions in JavaScript</h2>
    <div class="lesson-content">
        <p>Functions are one of the core concepts in JavaScript. They are blocks of reusable code that perform a specific task. Defining and using functions allows you to organize your code, make it more readable, avoid repetition (following the DRY - Don't Repeat Yourself - principle), and make it easier to maintain.</p>
        <p>In this section, we will learn how to define functions using different syntaxes, how to pass data into them using parameters, how to get data back out using the <code>return</code> statement, and explore the concept of function scope.</p>

        <h3>Defining Functions</h3>
        <p>There are several ways to define functions in JavaScript:</p>

        <h4>Function Declarations</h4>
        <p>This is the traditional way to define a function. Function declarations are "hoisted," meaning they can be called before they are defined in the code.</p>
        <pre><code class="language-javascript">function greet(name) {
  return "Hello, " + name + "!";
}

// Calling the function
let message = greet("Alice");
console.log(message); // Output: Hello, Alice!
</code></pre>

        <h4>Function Expressions</h4>
        <p>A function expression defines a function as a part of an expression, typically assigning it to a variable. Function expressions are not hoisted in the same way as declarations; they can only be called after they have been defined.</p>
        <pre><code class="language-javascript">const sayHello = function(name) {
  return "Hello, " + name + "!";
};

// Calling the function expression
let message2 = sayHello("Bob");
console.log(message2); // Output: Hello, Bob!
</code></pre>

        <h4>Arrow Functions</h4>
        <p>Introduced in ES6, arrow functions provide a more concise syntax for writing function expressions. They are particularly useful for short, simple functions and have different behavior regarding the `this` keyword (which we will cover in a later section).</p>
        <pre><code class="language-javascript">const add = (a, b) => {
  return a + b;
};

// Concise body for single expressions
const multiply = (a, b) => a * b;

console.log(add(5, 3)); // Output: 8
console.log(multiply(4, 2)); // Output: 8
</code></pre>
        <p>If an arrow function has only one parameter, the parentheses around the parameter can be omitted. If the body is a single expression, the curly braces and `return` keyword can be omitted.</p>

        <h3>Parameters and Arguments</h3>
        <p><strong>Parameters</strong> are placeholders listed in the function definition. <strong>Arguments</strong> are the actual values passed to the function when it is called.</p>
        <pre><code class="language-javascript">function calculateArea(width, height) { // width and height are parameters
  return width * height;
}

let area = calculateArea(10, 5); // 10 and 5 are arguments
console.log(area); // Output: 50
</code></pre>

        <h3>The `return` Statement</h3>
        <p>The <code>return</code> statement is used to send a value back from the function to the code that called it. When a <code>return</code> statement is encountered, the function stops executing, and the specified value is returned.</p>
        <p>If a function does not have a <code>return</code> statement, or if it has an empty <code>return;</code>, it will return <code>undefined</code> by default.</p>
        <pre><code class="language-javascript">function checkAge(age) {
  if (age >= 18) {
    return "Adult";
  } else {
    return "Minor";
  }
}

let status = checkAge(20);
console.log(status); // Output: Adult

let status2 = checkAge(16);
console.log(status2); // Output: Minor
</code></pre>

        <h3>Function Scope</h3>
        <p>Variables declared inside a function (using `var`, `let`, or `const`) are local to that function and cannot be accessed from outside the function. This is known as function scope (for `var`) or block scope (for `let` and `const` within function blocks). This helps prevent variable naming conflicts in your code.</p>

        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Functions Playground</span>
                    <button class="run-btn" onclick="runCode('functions-code', 'functions-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('functions-code')">Reset</button>
                </div>
                <textarea class="code-input" id="functions-code">// Define and call your own functions here!

function welcome(userName) {
  console.log("Welcome, " + userName + "!");
}

welcome("Learner");

const subtract = (x, y) => x - y;

let difference = subtract(100, 45);
console.log("Difference:", difference);

// Try defining a function that returns a value:
// function isEven(number) {
//   return number % 2 === 0;
// }
// console.log("Is 7 even?", isEven(7));

</textarea>
            </div>
            <div class="simulation-visual" id="functions-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="functions-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Functions Challenge</h3>
        <p class="exercise-instruction">In the playground, create a function that takes two numbers as parameters and returns their sum. Then, call the function with two different numbers and log the returned result to the terminal:</p>
        <ol>
            <li>Define a function named `addNumbers` that accepts two parameters, `num1` and `num2`.</li>
            <li>Inside the function, return the sum of `num1` and `num2`.</li>
            <li>Call the `addNumbers` function with any two numbers.</li>
            <li>Store the returned value in a variable.</li>
            <li>Use `console.log()` to print the value of the variable to the terminal.</li>
        </ol>
        <button class="check-btn" onclick="checkFunctionsExercise()">Check Solution</button>
         <div class="feedback" id="feedback-functions-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Functions Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-functions-1">
            <p><strong>1. What is the primary purpose of using functions in JavaScript?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="functions-quiz-1" value="A"> To declare variables</label><br>
                <label><input type="radio" name="functions-quiz-1" value="B"> To store data permanently</label><br>
                <label><input type="radio" name="functions-quiz-1" value="C"> To organize and reuse code</label><br>
                <label><input type="radio" name="functions-quiz-1" value="D"> To style HTML elements</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('functions-quiz-1', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-functions-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-functions-2">
            <p><strong>2. Which keyword is used to send a value back from a function?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="functions-quiz-2" value="A"> `console.log`</label><br>
                <label><input type="radio" name="functions-quiz-2" value="B"> `return`</label><br>
                <label><input type="radio" name="functions-quiz-2" value="C"> `output`</label><br>
                <label><input type="radio" name="functions-quiz-2" value="D"> `display`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('functions-quiz-2', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-functions-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-functions-3">
            <p><strong>3. What is the term for the values passed to a function when it is called?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="functions-quiz-3" value="A"> Parameters</label><br>
                <label><input type="radio" name="functions-quiz-3" value="B"> Variables</label><br>
                <label><input type="radio" name="functions-quiz-3" value="C"> Arguments</label><br>
                <label><input type="radio" name="functions-quiz-3" value="D"> Properties</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('functions-quiz-3', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-functions-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-functions-4">
            <p><strong>4. Which type of function definition is hoisted?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="functions-quiz-4" value="A"> Function Expressions</label><br>
                <label><input type="radio" name="functions-quiz-4" value="B"> Arrow Functions</label><br>
                <label><input type="radio" name="functions-quiz-4" value="C"> Function Declarations</label><br>
                <label><input type="radio" name="functions-quiz-4" value="D"> All function types are hoisted</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('functions-quiz-4', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-functions-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-functions-5">
            <p><strong>5. What value does a function return if it does not have a `return` statement?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="functions-quiz-5" value="A"> `null`</label><br>
                <label><input type="radio" name="functions-quiz-5" value="B"> `0`</label><br>
                <label><input type="radio" name="functions-quiz-5" value="C"> `""` (an empty string)</label><br>
                <label><input type="radio" name="functions-quiz-5" value="D"> `undefined`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('functions-quiz-5', 'D')">Check Answer</button>
            <div class="feedback" id="feedback-functions-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="arrays" class="lesson-section">
    <h2 class="lesson-title">Arrays in JavaScript</h2>
    <div class="lesson-content">
        <p>Arrays are a fundamental data structure in JavaScript used to store ordered collections of values. These values can be of any data type (numbers, strings, objects, even other arrays), and they are stored in a contiguous block of memory, accessible by an index.</p>
        <p>Arrays are incredibly versatile and are used extensively in JavaScript for managing lists of items, iterating over collections, and performing various data manipulation tasks. In this section, we will learn how to create, access, modify, and iterate over arrays, as well as explore some of the most common built-in array methods.</p>

        <h3>Creating Arrays</h3>
        <p>There are two primary ways to create arrays in JavaScript:</p>

        <h4>Array Literal (Recommended)</h4>
        <p>The easiest and most common way to create an array is using square brackets `[]`.</p>
        <pre><code class="language-javascript">let fruits = ["Apple", "Banana", "Cherry"]; // Array of strings
let numbers = [1, 2, 3, 4, 5]; // Array of numbers
let mixed = [1, "Hello", true, { name: "Alice" }]; // Array with mixed data types
let emptyArray = []; // An empty array
</code></pre>

        <h4>Using the `Array` Constructor</h4>
        <p>You can also create arrays using the `Array` constructor, although this is less common than using array literals.</p>
        <pre><code class="language-javascript">let colors = new Array("Red", "Green", "Blue"); // Creating with elements
let size = new Array(10); // Creating an array with a specified length (empty slots)
console.log(size.length); // Output: 10
console.log(size[0]); // Output: undefined
</code></pre>
        <p>Be cautious when using the `Array` constructor with a single number argument, as it creates an array with that many empty slots, not an array containing that number.</p>

        <h3>Accessing Array Elements</h3>
        <p>Array elements are accessed using zero-based indexing. The first element is at index 0, the second at index 1, and so on. You use square brackets `[]` with the index number to access an element.</p>
        <pre><code class="language-javascript">let animals = ["Dog", "Cat", "Bird"];
console.log(animals[0]); // Output: Dog (the first element)
console.log(animals[1]); // Output: Cat (the second element)
console.log(animals[2]); // Output: Bird (the third element)
console.log(animals[3]); // Output: undefined (index out of bounds)
</code></pre>
        <p>The `length` property of an array returns the number of elements in the array. The index of the last element is always `array.length - 1`.</p>
        <pre><code class="language-javascript">let cars = ["Ford", "BMW", "Audi"];
console.log(cars.length); // Output: 3
console.log(cars[cars.length - 1]); // Output: Audi (the last element)
</code></pre>

        <h3>Modifying Arrays</h3>
        <p>Arrays are mutable, meaning you can change their elements, add new elements, or remove existing ones.</p>

        <h4>Changing Elements</h4>
        <p>You can change an element by accessing it with its index and assigning a new value.</p>
        <pre><code class="language-javascript">let scores = [10, 20, 30];
scores[1] = 25; // Change the second element
console.log(scores); // Output: [10, 25, 30]
</code></pre>

        <h4>Adding Elements</h4>
        <p>You can add elements to the end of an array using the `push()` method or by assigning a value to an index beyond the current length.</p>
        <pre><code class="language-javascript">let items = ["Pen", "Paper"];
items.push("Eraser"); // Add to the end
console.log(items); // Output: ["Pen", "Paper", "Eraser"]

items[3] = "Notebook"; // Add by assigning to a new index
console.log(items); // Output: ["Pen", "Paper", "Eraser", "Notebook"]
</code></pre>
        <p>You can add elements to the beginning of an array using the `unshift()` method.</p>
         <pre><code class="language-javascript">let queue = ["Person A", "Person B"];
queue.unshift("Person C"); // Add to the beginning
console.log(queue); // Output: ["Person C", "Person A", "Person B"]
</code></pre>

        <h4>Removing Elements</h4>
        <p>You can remove elements from the end of an array using the `pop()` method, which also returns the removed element.</p>
        <pre><code class="language-javascript">let stack = ["Item 1", "Item 2", "Item 3"];
let lastItem = stack.pop(); // Remove from the end
console.log(stack); // Output: ["Item 1", "Item 2"]
console.log(lastItem); // Output: Item 3
</code></pre>
        <p>You can remove elements from the beginning of an array using the `shift()` method, which also returns the removed element.</p>
         <pre><code class="language-javascript">let line = ["Task 1", "Task 2", "Task 3"];
let firstTask = line.shift(); // Remove from the beginning
console.log(line); // Output: ["Task 2", "Task 3"]
console.log(firstTask); // Output: Task 1
</code></pre>
        <p>The `splice()` method is a powerful way to add, remove, or replace elements at any position in an array.</p>
        <pre><code class="language-javascript">let fruits = ["Apple", "Banana", "Cherry", "Date"];
// Remove 1 element starting from index 2
let removed = fruits.splice(2, 1);
console.log(fruits); // Output: ["Apple", "Banana", "Date"]
console.log(removed); // Output: ["Cherry"]

// Add 2 elements starting from index 1, removing 0
fruits.splice(1, 0, "Blueberry", "Strawberry");
console.log(fruits); // Output: ["Apple", "Blueberry", "Strawberry", "Banana", "Date"]
</code></pre>

        <h3>Iterating Over Arrays</h3>
        <p>You can loop through array elements using various methods:</p>
        <ul>
            <li><strong>`for` loop:</strong> The classic way to iterate using an index.</li>
            <li><strong>`for...of` loop:</strong> Iterates over the values of an iterable object (like an array).</li>
            <li><strong>`forEach()` method:</strong> Executes a provided function once for each array element.</li>
        </ul>
        <pre><code class="language-javascript">let colors = ["Red", "Green", "Blue"];

// Using a for loop
for (let i = 0; i < colors.length; i++) {
  console.log(colors[i]);
}
// Output: Red, Green, Blue

// Using a for...of loop
for (const color of colors) {
  console.log(color);
}
// Output: Red, Green, Blue

// Using forEach()
colors.forEach(function(color, index) {
  console.log(`${index}: ${color}`);
});
// Output: 0: Red, 1: Green, 2: Blue
</code></pre>

        <h3>Common Array Methods</h3>
        <p>JavaScript arrays come with many built-in methods for common operations:</p>
        <ul>
            <li>`indexOf()`: Returns the first index at which a given element can be found in the array, or -1 if it is not present.</li>
            <li>`includes()`: Checks if an array includes a certain value, returning `true` or `false`.</li>
            <li>`join()`: Joins all elements of an array into a string.</li>
            <li>`slice()`: Returns a shallow copy of a portion of an array into a new array.</li>
            <li>`concat()`: Joins two or more arrays.</li>
            <li>`map()`: Creates a new array populated with the results of calling a provided function on every element in the calling array.</li>
            <li>`filter()`: Creates a new array with all elements that pass the test implemented by the provided function.</li>
            <li>`reduce()`: Executes a reducer function on each element of the array, resulting in a single output value.</li>
        </ul>
        <pre><code class="language-javascript">let numbers = [10, 20, 30, 40, 50];

console.log(numbers.indexOf(30)); // Output: 2
console.log(numbers.includes(25)); // Output: false

let numberString = numbers.join('-');
console.log(numberString); // Output: "10-20-30-40-50"

let slicedArray = numbers.slice(1, 4); // Elements from index 1 up to (but not including) index 4
console.log(slicedArray); // Output: [20, 30, 40]

let moreNumbers = [60, 70];
let combinedArray = numbers.concat(moreNumbers);
console.log(combinedArray); // Output: [10, 20, 30, 40, 50, 60, 70]

// Using map to double each number
let doubledNumbers = numbers.map(num => num * 2);
console.log(doubledNumbers); // Output: [20, 40, 60, 80, 100]

// Using filter to get numbers greater than 30
let filteredNumbers = numbers.filter(num => num > 30);
console.log(filteredNumbers); // Output: [40, 50]

// Using reduce to calculate the sum
let sum = numbers.reduce((accumulator, currentValue) => accumulator + currentValue, 0);
console.log(sum); // Output: 150
</code></pre>


        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Arrays Playground</span>
                    <button class="run-btn" onclick="runCode('arrays-code', 'arrays-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('arrays-code')">Reset</button>
                </div>
                <textarea class="code-input" id="arrays-code">// Experiment with arrays and array methods here!

let myShoppingList = ["Milk", "Bread", "Eggs"];
console.log("Initial list:", myShoppingList);

// Add an item
myShoppingList.push("Cheese");
console.log("After adding Cheese:", myShoppingList);

// Remove the last item
let removedItem = myShoppingList.pop();
console.log("Removed item:", removedItem);
console.log("After removing last item:", myShoppingList);

// Access an element
console.log("First item:", myShoppingList[0]);

// Change an element
myShoppingList[1] = "Butter";
console.log("After changing Bread to Butter:", myShoppingList);

// Iterate over the array
console.log("Iterating over the list:");
myShoppingList.forEach(item => {
  console.log("- " + item);
});

// Try using other methods like slice, join, map, filter!
// let numbers = [1, 2, 3, 4, 5, 6];
// let evenNumbers = numbers.filter(num => num % 2 === 0);
// console.log("Even numbers:", evenNumbers);

</textarea>
            </div>
            <div class="simulation-visual" id="arrays-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="arrays-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Arrays Challenge</h3>
        <p class="exercise-instruction">Use the playground to create an array of your favorite hobbies, add a new hobby, remove the first hobby, and then iterate over the modified array to print each hobby to the terminal:</p>
        <ol>
            <li>Declare a variable `myHobbies` and initialize it with an array of at least three strings representing your favorite hobbies.</li>
            <li>Use an array method to add one more hobby to the end of the `myHobbies` array.</li>
            <li>Use an array method to remove the first hobby from the `myHobbies` array.</li>
            <li>Use a loop (like `forEach` or `for...of`) to iterate over the modified `myHobbies` array.</li>
            <li>Inside the loop, use `console.log()` to print each hobby.</li>
        </ol>
        <button class="check-btn" onclick="checkArraysExercise()">Check Solution</button>
         <div class="feedback" id="feedback-arrays-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Arrays Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-arrays-1">
            <p><strong>1. How do you access the third element of an array named `myArray`?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="arrays-quiz-1" value="A"> `myArray[3]`</label><br>
                <label><input type="radio" name="arrays-quiz-1" value="B"> `myArray.get(2)`</label><br>
                <label><input type="radio" name="arrays-quiz-1" value="C"> `myArray[2]`</label><br>
                <label><input type="radio" name="arrays-quiz-1" value="D"> `myArray(3)`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('arrays-quiz-1', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-arrays-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-arrays-2">
            <p><strong>2. Which method is used to add an element to the end of an array?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="arrays-quiz-2" value="A"> `shift()`</label><br>
                <label><input type="radio" name="arrays-quiz-2" value="B"> `unshift()`</label><br>
                <label><input type="radio" name="arrays-quiz-2" value="C"> `push()`</label><br>
                <label><input type="radio" name="arrays-quiz-2" value="D"> `pop()`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('arrays-quiz-2', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-arrays-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-arrays-3">
            <p><strong>3. What does the `length` property of an array return?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="arrays-quiz-3" value="A"> The index of the last element</label><br>
                <label><input type="radio" name="arrays-quiz-3" value="B"> The number of elements in the array</label><br>
                <label><input type="radio" name="arrays-quiz-3" value="C"> The total size of the array in bytes</label><br>
                <label><input type="radio" name="arrays-quiz-3" value="D"> The value of the first element</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('arrays-quiz-3', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-arrays-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-arrays-4">
            <p><strong>4. Which array method creates a new array by applying a function to each element of the original array?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="arrays-quiz-4" value="A"> `filter()`</label><br>
                <label><input type="radio" name="arrays-quiz-4" value="B"> `reduce()`</label><br>
                <label><input type="radio" name="arrays-quiz-4" value="C"> `forEach()`</label><br>
                <label><input type="radio" name="arrays-quiz-4" value="D"> `map()`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('arrays-quiz-4', 'D')">Check Answer</button>
            <div class="feedback" id="feedback-arrays-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-arrays-5">
            <p><strong>5. What is the result of `["a", "b", "c"].join("-")`?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="arrays-quiz-5" value="A"> `["a-b-c"]`</label><br>
                <label><input type="radio" name="arrays-quiz-5" value="B"> `"a,b,c"`</label><br>
                <label><input type="radio" name="arrays-quiz-5" value="C"> `"a-b-c"`</label><br>
                <label><input type="radio" name="arrays-quiz-5" value="D"> `["a", "-", "b", "-", "c"]`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('arrays-quiz-5', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-arrays-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="objects" class="lesson-section">
    <h2 class="lesson-title">Objects in JavaScript</h2>
    <div class="lesson-content">
        <p>Objects are a fundamental concept in JavaScript and are used to store collections of related data and functionality. Unlike primitive data types (like strings, numbers, or booleans), objects can hold multiple values as properties, and these properties can even be functions (which are then called methods).</p>
        <p>Objects are central to how JavaScript works, representing everything from simple data structures to complex entities like browser windows, DOM elements, and custom data types. In this section, we'll explore how to create, access, modify, and work with objects.</p>

        <h3>What are Objects?</h3>
        <p>An object is a collection of key-value pairs. Each key is a string (or a Symbol), and the value can be any data type, including other objects or functions.</p>
        <pre><code class="language-javascript">let person = {
  firstName: "John", // firstName is a key (or property name), "John" is the value
  lastName: "Doe",
  age: 30,
  isStudent: false,
  greet: function() { // greet is a key, the function is the value (a method)
    console.log("Hello, my name is " + this.firstName);
  }
};
</code></pre>
        <p>In the example above, `person` is an object with properties like `firstName`, `lastName`, `age`, and `isStudent`, and a method `greet`.</p>

        <h3>Creating Objects</h3>
        <p>The most common ways to create objects are:</p>

        <h4>Object Literal (Recommended)</h4>
        <p>Using curly braces `{}` is the simplest way to create a single object.</p>
        <pre><code class="language-javascript">let car = {
  make: "Toyota",
  model: "Camry",
  year: 2020,
  start: function() {
    console.log("Engine started!");
  }
};
</code></pre>

        <h4>Using the `new Object()` Constructor</h4>
        <p>You can create an empty object using the `Object` constructor and then add properties to it.</p>
        <pre><code class="language-javascript">let book = new Object();
book.title = "The Hobbit";
book.author = "J.R.R. Tolkien";
book.year = 1937;
</code></pre>

        <h4>Using Constructor Functions</h4>
        <p>Constructor functions are used to create multiple objects of the same type. They are typically defined with a capitalized name and use the `this` keyword to assign properties.</p>
        <pre><code class="language-javascript">function Dog(name, breed) {
  this.name = name;
  this.breed = breed;
  this.bark = function() {
    console.log(this.name + " barks!");
  };
}

let myDog = new Dog("Buddy", "Golden Retriever");
let yourDog = new Dog("Lucy", "Beagle");

console.log(myDog.name); // Output: Buddy
myDog.bark(); // Output: Buddy barks!
</code></pre>

        <h4>Using Classes (ES6)</h4>
        <p>Classes provide a more structured and cleaner way to create objects using constructor functions and methods. They are syntactic sugar over JavaScript's prototype-based inheritance (which we'll cover later).</p>
        <pre><code class="language-javascript">class Rectangle {
  constructor(height, width) {
    this.height = height;
    this.width = width;
  }

  getArea() {
    return this.height * this.width;
  }
}

let myRectangle = new Rectangle(10, 5);
console.log(myRectangle.getArea()); // Output: 50
</code></pre>

        <h3>Accessing Object Properties</h3>
        <p>You can access object properties using two main methods:</p>

        <h4>Dot Notation (Recommended)</h4>
        <p>This is the most common and readable way to access properties when you know the property name.</p>
        <pre><code class="language-javascript">let person = { name: "Alice", age: 25 };
console.log(person.name); // Output: Alice
console.log(person.age);  // Output: 25
</code></pre>

        <h4>Bracket Notation</h4>
        <p>This is useful when the property name is stored in a variable, contains special characters, or starts with a number.</p>
        <pre><code class="language-javascript">let person = { name: "Bob", age: 35 };
let propertyName = "name";
console.log(person[propertyName]); // Output: Bob

let anotherPerson = { "first name": "Charlie" };
console.log(anotherPerson["first name"]); // Output: Charlie (property name has a space)
</code></pre>

        <h3>Modifying Objects</h3>
        <p>Objects are mutable, allowing you to add, change, or delete properties.</p>

        <h4>Adding Properties</h4>
        <p>You can add a new property by assigning a value to a new key using either dot or bracket notation.</p>
        <pre><code class="language-javascript">let user = { name: "David" };
user.email = "david@example.com"; // Add email property using dot notation
user['city'] = "New York"; // Add city property using bracket notation
console.log(user); // Output: { name: "David", email: "david@example.com", city: "New York" }
</code></pre>

        <h4>Changing Properties</h4>
        <p>You can change the value of an existing property by assigning a new value to its key.</p>
        <pre><code class="language-javascript">let product = { name: "Laptop", price: 1000 };
product.price = 950; // Change the price
console.log(product.price); // Output: 950
</code></pre>

        <h4>Deleting Properties</h4>
        <p>You can remove a property from an object using the `delete` keyword.</p>
        <pre><code class="language-javascript">let settings = { theme: "dark", notifications: true };
delete settings.notifications; // Remove the notifications property
console.log(settings); // Output: { theme: "dark" }
</code></pre>

        <h3>Iterating Over Object Properties</h3>
        <p>You can loop through the properties of an object using a `for...in` loop:</p>
        <pre><code class="language-javascript">let scores = { math: 90, science: 85, history: 78 };

for (const key in scores) {
  console.log(`${key}: ${scores[key]}`);
}
// Output:
// math: 90
// science: 85
// history: 78
</code></pre>
        <p>You can also get an array of an object's keys, values, or key-value pairs and then iterate over the array using methods like `forEach`, `map`, etc.:</p>
        <pre><code class="language-javascript">let student = { name: "Eve", major: "Computer Science" };

const keys = Object.keys(student); // Get an array of keys
console.log(keys); // Output: ["name", "major"]

const values = Object.values(student); // Get an array of values
console.log(values); // Output: ["Eve", "Computer Science"]

const entries = Object.entries(student); // Get an array of [key, value] pairs
console.log(entries); // Output: [["name", "Eve"], ["major", "Computer Science"]]

// Iterate over entries
entries.forEach(([key, value]) => {
  console.log(`${key} => ${value}`);
});
// Output:
// name => Eve
// major => Computer Science
</code></pre>

        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Objects Playground</span>
                    <button class="run-btn" onclick="runCode('objects-code', 'objects-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('objects-code')">Reset</button>
                </div>
                <textarea class="code-input" id="objects-code">// Experiment with objects here!

let myBook = {
  title: "The Great Novel",
  author: "A. Writer",
  year: 2023
};

console.log("Initial Book:", myBook);

// Access properties
console.log("Book Title:", myBook.title);
console.log("Book Author:", myBook["author"]);

// Add a property
myBook.genre = "Fiction";
console.log("After adding genre:", myBook);

// Change a property
myBook.year = 2024;
console.log("After changing year:", myBook);

// Delete a property
delete myBook.author;
console.log("After deleting author:", myBook);

// Iterate over properties
console.log("Iterating over remaining properties:");
for (const key in myBook) {
  console.log(`${key}: ${myBook[key]}`);
}

</textarea>
            </div>
            <div class="simulation-visual" id="objects-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="objects-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Objects Challenge</h3>
        <p class="exercise-instruction">Use the playground to create an object representing a product, add a new property, change an existing property, and then iterate over the object to print each property and its value to the terminal:</p>
        <ol>
            <li>Declare a variable `product` and initialize it with an object literal containing at least `name` (string) and `price` (number) properties.</li>
            <li>Add a new property `inStock` (boolean) to the `product` object.</li>
            <li>Change the value of the `price` property to a new number.</li>
            <li>Use a `for...in` loop to iterate over the `product` object's properties.</li>
            <li>Inside the loop, use `console.log()` to print each property name and its value in the format "key: value".</li>
        </ol>
        <button class="check-btn" onclick="checkObjectsExercise()">Check Solution</button>
         <div class="feedback" id="feedback-objects-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Objects Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-objects-1">
            <p><strong>1. How do you access the value of the `city` property in an object named `address` using dot notation?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="objects-quiz-1" value="A"> `address['city']`</label><br>
                <label><input type="radio" name="objects-quiz-1" value="B"> `address.city`</label><br>
                <label><input type="radio" name="objects-quiz-1" value="C"> `address->city`</label><br>
                <label><input type="radio" name="objects-quiz-1" value="D"> `address(city)`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('objects-quiz-1', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-objects-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-objects-2">
            <p><strong>2. Which notation is useful for accessing object properties when the property name is stored in a variable?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="objects-quiz-2" value="A"> Dot notation</label><br>
                <label><input type="radio" name="objects-quiz-2" value="B"> Bracket notation</label><br>
                <label><input type="radio" name="objects-quiz-2" value="C"> Hyphen notation</label><br>
                <label><input type="radio" name="objects-quiz-2" value="D"> Parentheses notation</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('objects-quiz-2', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-objects-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-objects-3">
            <p><strong>3. What keyword is used to remove a property from an object?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="objects-quiz-3" value="A"> `remove`</label><br>
                <label><input type="radio" name="objects-quiz-3" value="B"> `delete`</label><br>
                <label><input type="radio" name="objects-quiz-3" value="C"> `unset`</label><br>
                <label><input type="radio" name="objects-quiz-3" value="D"> `splice`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('objects-quiz-3', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-objects-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-objects-4">
            <p><strong>4. Which loop is commonly used to iterate over the properties of an object?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="objects-quiz-4" value="A"> `for` loop</label><br>
                <label><input type="radio" name="objects-quiz-4" value="B"> `while` loop</label><br>
                <label><input type="radio" name="objects-quiz-4" value="C"> `for...of` loop</label><br>
                <label><input type="radio" name="objects-quiz-4" value="D"> `for...in` loop</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('objects-quiz-4', 'D')">Check Answer</button>
            <div class="feedback" id="feedback-objects-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-objects-5">
            <p><strong>5. What does `Object.keys(myObject)` return?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="objects-quiz-5" value="A"> An array of the object's values</label><br>
                <label><input type="radio" name="objects-quiz-5" value="B"> The number of properties in the object</label><br>
                <label><input type="radio" name="objects-quiz-5" value="C"> An array of the object's property names (keys)</label><br>
                <label><input type="radio" name="objects-quiz-5" value="D"> A string representation of the object</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('objects-quiz-5', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-objects-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="dom-manipulation" class="lesson-section">
    <h2 class="lesson-title">DOM Manipulation in JavaScript</h2>
    <div class="lesson-content">
        <p>The Document Object Model (DOM) is a programming interface for web documents. It represents the page so that programs can change the document structure, style, and content. JavaScript connects to the web page's HTML structure through the DOM, allowing you to dynamically update the page in response to user actions, data changes, or other events.</p>
        <p>Think of the DOM as a tree-like structure where each HTML element, attribute, and piece of text is a node. JavaScript can traverse this tree, find specific nodes, and modify them. This section will teach you the essential techniques for selecting elements and manipulating their content, attributes, and styles.</p>

        <h3>Selecting HTML Elements</h3>
        <p>Before you can manipulate an element, you need to select it. JavaScript provides several methods for finding elements in the DOM:</p>

        <h4>`getElementById()`</h4>
        <p>Selects a single element by its unique `id` attribute.</p>
        <pre><code class="language-javascript">// HTML: &lt;div id="myElement"&gt;&lt;/div&gt;
const myElement = document.getElementById('myElement');
console.log(myElement); // Logs the div element
</code></pre>

        <h4>`getElementsByClassName()`</h4>
        <p>Selects all elements with a specific `class` name. It returns an HTMLCollection (which is similar to an array but not a true array).</p>
        <pre><code class="language-javascript">// HTML: &lt;p class="myClass"&gt;&lt;/p&gt;&lt;p class="myClass"&gt;&lt;/p&gt;
const elements = document.getElementsByClassName('myClass');
console.log(elements[0]); // Logs the first element with class "myClass"
</code></pre>

        <h4>`getElementsByTagName()`</h4>
        <p>Selects all elements with a specific tag name (e.g., `p`, `div`, `a`). It also returns an HTMLCollection.</p>
        <pre><code class="language-javascript">// HTML: &lt;li&gt;Item 1&lt;/li&gt;&lt;li&gt;Item 2&lt;/li&gt;
const listItems = document.getElementsByTagName('li');
console.log(listItems.length); // Logs the number of list items
</code></pre>

        <h4>`querySelector()`</h4>
        <p>Selects the first element that matches a specified CSS selector. This is a modern and flexible method.</p>
        <pre><code class="language-javascript">// Selects the first paragraph inside a div with id "content"
const firstParagraph = document.querySelector('#content p');
console.log(firstParagraph);
</code></pre>

        <h4>`querySelectorAll()`</h4>
        <p>Selects all elements that match a specified CSS selector. It returns a NodeList (which is also similar to an array).</p>
        <pre><code class="language-javascript">// Selects all elements with class "item" inside a ul
const items = document.querySelectorAll('ul .item');
items.forEach(item => {
  console.log(item.textContent);
});
</code></pre>

        <h3>Changing HTML Content</h3>
        <p>Once you have selected an element, you can modify its content:</p>

        <h4>`innerHTML`</h4>
        <p>Gets or sets the HTML content of an element. Be cautious when using this with user input, as it can expose you to cross-site scripting (XSS) vulnerabilities.</p>
        <pre><code class="language-javascript">// HTML: &lt;div id="myDiv"&gt;Original Content&lt;/div&gt;
const myDiv = document.getElementById('myDiv');
myDiv.innerHTML = '&lt;strong&gt;New Content&lt;/strong&gt;'; // Changes the content to bold text
console.log(myDiv.innerHTML); // Output: &lt;strong&gt;New Content&lt;/strong&gt;
</code></pre>

        <h4>`textContent`</h4>
        <p>Gets or sets the text content of an element, ignoring HTML tags. This is safer than `innerHTML` when dealing with plain text.</p>
        <pre><code class="language-javascript">// HTML: &lt;p id="myPara"&gt;Some &lt;strong&gt;Text&lt;/strong&gt;&lt;/p&gt;
const myPara = document.getElementById('myPara');
myPara.textContent = 'Updated Text'; // Changes the content to plain text
console.log(myPara.textContent); // Output: Updated Text
</code></pre>

        <h3>Changing HTML Attributes</h3>
        <p>You can get, set, or remove attributes of an element:</p>

        <h4>`getAttribute()`</h4>
        <p>Gets the value of a specified attribute.</p>
        <pre><code class="language-javascript">// HTML: &lt;img id="myImg" src="image.jpg" alt="A picture"&gt;
const myImg = document.getElementById('myImg');
const altText = myImg.getAttribute('alt');
console.log(altText); // Output: A picture
</code></pre>

        <h4>`setAttribute()`</h4>
        <p>Sets the value of a specified attribute. If the attribute does not exist, it is created.</p>
        <pre><code class="language-javascript">// HTML: &lt;a id="myLink" href="#"&gt;Link&lt;/a&gt;
const myLink = document.getElementById('myLink');
myLink.setAttribute('href', 'https://www.example.com');
myLink.setAttribute('target', '_blank'); // Add a new attribute
</code></pre>

        <h4>`removeAttribute()`</h4>
        <p>Removes a specified attribute.</p>
        <pre><code class="language-javascript">// HTML: &lt;button id="myBtn" disabled&gt;Click Me&lt;/button&gt;
const myBtn = document.getElementById('myBtn');
myBtn.removeAttribute('disabled'); // Enable the button
</code></pre>

        <h3>Changing CSS Styles</h3>
        <p>You can modify the inline styles of an element using the `style` property.</p>
        <pre><code class="language-javascript">// HTML: &lt;p id="styledPara"&gt;Hello&lt;/p&gt;
const styledPara = document.getElementById('styledPara');
styledPara.style.color = 'blue';
styledPara.style.fontSize = '20px';
styledPara.style.backgroundColor = 'lightgray'; // Note camelCase for CSS properties
</code></pre>
        <p>For more complex styling or applying multiple styles, it's often better to add or remove CSS classes using the `classList` property.</p>
        <pre><code class="language-javascript">// CSS: .highlight { color: red; font-weight: bold; }
// HTML: &lt;div id="myBox"&gt;Content&lt;/div&gt;
const myBox = document.getElementById('myBox');
myBox.classList.add('highlight'); // Add the 'highlight' class
// myBox.classList.remove('highlight'); // Remove the class
// myBox.classList.toggle('highlight'); // Toggle the class (add if not present, remove if present)
</code></pre>

        <h3>Creating and Removing Elements</h3>
        <p>You can dynamically add new elements to the page or remove existing ones.</p>

        <h4>`createElement()`</h4>
        <p>Creates a new HTML element node.</p>
        <pre><code class="language-javascript">const newParagraph = document.createElement('p');
newParagraph.textContent = "This is a new paragraph.";
</code></pre>

        <h4>`appendChild()`</h4>
        <p>Adds a node (like a newly created element or text node) as the last child of a specified parent node.</p>
        <pre><code class="language-javascript">// HTML: &lt;div id="container"&gt;&lt;/div&gt;
const container = document.getElementById('container');
const newElement = document.createElement('span');
newElement.textContent = "Added text.";
container.appendChild(newElement); // Adds the span inside the div
</code></pre>

        <h4>`removeChild()`</h4>
        <p>Removes a specified child node from its parent node.</p>
        <pre><code class="language-javascript">// HTML: &lt;ul id="myList"&gt;&lt;li id="itemToRemove"&gt;Remove Me&lt;/li&gt;&lt;/ul&gt;
const myList = document.getElementById('myList');
const itemToRemove = document.getElementById('itemToRemove');
myList.removeChild(itemToRemove); // Removes the list item
</code></pre>

        <h4>`parentNode.removeChild(element)`</h4>
        <p>A common pattern to remove an element is to access its parent node and then call `removeChild` on the parent, passing the element to remove.</p>
        <pre><code class="language-javascript">// HTML: &lt;div&gt;&lt;p id="paraToRemove"&gt;Remove This&lt;/p&gt;&lt;/div&gt;
const paraToRemove = document.getElementById('paraToRemove');
paraToRemove.parentNode.removeChild(paraToRemove); // Removes the paragraph
</code></pre>
        <p>Alternatively, the `element.remove()` method (supported in modern browsers) provides a simpler way to remove an element directly.</p>
         <pre><code class="language-javascript">// HTML: &lt;span id="spanToRemove"&gt;Remove This Too&lt;/span&gt;
const spanToRemove = document.getElementById('spanToRemove');
spanToRemove.remove(); // Removes the span
</code></pre>


        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">DOM Manipulation Playground</span>
                    <button class="run-btn" onclick="runCode('dom-manipulation-code', 'dom-manipulation-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('dom-manipulation-code')">Reset</button>
                </div>
                <textarea class="code-input" id="dom-manipulation-code">// Experiment with selecting and manipulating DOM elements here!

// Assume you have an HTML element with id="output"

// 1. Select the element
const outputDiv = document.getElementById('output');

// 2. Change its content
outputDiv.innerHTML = '&lt;h3&gt;Hello from JavaScript!&lt;/h3&gt;';

// 3. Change its style
outputDiv.style.color = 'green';
outputDiv.style.border = '1px solid green';
outputDiv.style.padding = '10px';

// 4. Create a new element
const newParagraph = document.createElement('p');
newParagraph.textContent = "This paragraph was added by JS.";

// 5. Append the new element to the output div
outputDiv.appendChild(newParagraph);

// You'll need an HTML structure with an element having id="output"
// for this code to work when integrated into your page.
// Example HTML: <div id="output"></div>

</textarea>
            </div>
            <div class="simulation-visual" id="dom-manipulation-vis">
                 <div class="simulation-placeholder">Visualize DOM Changes Here</div>
                 <div id="output" style="margin-top: 20px; padding: 10px; border: 1px dashed #ccc;">Initial content of the output div.</div>
                 <div class="terminal" id="dom-manipulation-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> DOM Manipulation Challenge</h3>
        <p class="exercise-instruction">Use the playground to select the `div` with the id "output", change its text content, add a new paragraph element to it, and change the background color of the new paragraph:</p>
        <ol>
            <li>Select the HTML element with the id "output" using `getElementById()`.</li>
            <li>Change the `textContent` of the selected element to "Content updated by the challenge!".</li>
            <li>Create a new paragraph element using `createElement('p')`.</li>
            <li>Set the `textContent` of the new paragraph to "This paragraph was dynamically added.".</li>
            <li>Append the new paragraph element as a child to the "output" div using `appendChild()`.</li>
            <li>Change the `style.backgroundColor` of the new paragraph to "yellow".</li>
        </ol>
        <button class="check-btn" onclick="checkDOMManipulationExercise()">Check Solution</button>
         <div class="feedback" id="feedback-dom-manipulation-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> DOM Manipulation Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-dom-manipulation-1">
            <p><strong>1. Which JavaScript method is used to select a single HTML element by its unique `id`?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="dom-manipulation-quiz-1" value="A"> `getElementsByClassName()`</label><br>
                <label><input type="radio" name="dom-manipulation-quiz-1" value="B"> `querySelector()`</label><br>
                <label><input type="radio" name="dom-manipulation-quiz-1" value="C"> `getElementById()`</label><br>
                <label><input type="radio" name="dom-manipulation-quiz-1" value="D"> `getElementsByTagName()`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('dom-manipulation-quiz-1', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-dom-manipulation-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-dom-manipulation-2">
            <p><strong>2. What property is used to get or set the HTML content of an element?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="dom-manipulation-quiz-2" value="A"> `textContent`</label><br>
                <label><input type="radio" name="dom-manipulation-quiz-2" value="B"> `style`</label><br>
                <label><input type="radio" name="dom-manipulation-quiz-2" value="C"> `innerHTML`</label><br>
                <label><input type="radio" name="dom-manipulation-quiz-2" value="D"> `attributes`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('dom-manipulation-quiz-2', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-dom-manipulation-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-dom-manipulation-3">
            <p><strong>3. Which method is used to add a new CSS class to an element?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="dom-manipulation-quiz-3" value="A"> `style.addClass()`</label><br>
                <label><input type="radio" name="dom-manipulation-quiz-3" value="B"> `classList.add()`</label><br>
                <label><input type="radio" name="dom-manipulation-quiz-3" value="C"> `setAttribute('class', '...')`</label><br>
                <label><input type="radio" name="dom-manipulation-quiz-3" value="D"> `className.add()`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('dom-manipulation-quiz-3', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-dom-manipulation-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-dom-manipulation-4">
            <p><strong>4. How do you create a new HTML element (e.g., a `div`) using JavaScript?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="dom-manipulation-quiz-4" value="A"> `document.newElement('div')`</label><br>
                <label><input type="radio" name="dom-manipulation-quiz-4" value="B"> `document.createElement('div')`</label><br>
                <label><input type="radio" name="dom-manipulation-quiz-4" value="C"> `document.buildElement('div')`</label><br>
                <label><input type="radio" name="dom-manipulation-quiz-4" value="D"> `document.makeElement('div')`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('dom-manipulation-quiz-4', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-dom-manipulation-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-dom-manipulation-5">
            <p><strong>5. Which method is used to add a newly created element as a child to an existing element?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="dom-manipulation-quiz-5" value="A"> `insertChild()`</label><br>
                <label><input type="radio" name="dom-manipulation-quiz-5" value="B"> `addChild()`</label><br>
                <label><input type="radio" name="dom-manipulation-quiz-5" value="C"> `appendChild()`</label><br>
                <label><input type="radio" name="dom-manipulation-quiz-5" value="D"> `attachNode()`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('dom-manipulation-quiz-5', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-dom-manipulation-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="conditionals" class="lesson-section">
    <h2 class="lesson-title">Conditionals in JavaScript</h2>
    <div class="lesson-content">
        <p>In programming, we often need to make decisions based on certain conditions. Conditional statements allow us to execute different blocks of code depending on whether a specified condition evaluates to `true` or `false`. This is essential for creating dynamic and responsive programs.</p>
        <p>JavaScript provides several ways to handle conditional logic. In this section, we will explore the most common ones: <code>if</code>, <code>else if</code>, <code>else</code>, and the <code>switch</code> statement.</p>

        <h3>The `if` Statement</h3>
        <p>The <code>if</code> statement is the most basic conditional statement. It executes a block of code if a specified condition is true.</p>
        <pre><code class="language-javascript">let age = 20;

if (age >= 18) {
  console.log("You are an adult."); // This line will execute because age is >= 18
}
</code></pre>
        <p>The condition inside the parentheses `()` is evaluated. If it's true, the code inside the curly braces `{}` is executed. If it's false, the code block is skipped.</p>

        <h3>The `else` Statement</h3>
        <p>The <code>else</code> statement is used in conjunction with an <code>if</code> statement. It executes a block of code if the condition in the preceding <code>if</code> statement is false.</p>
        <pre><code class="language-javascript">let temperature = 15;

if (temperature > 25) {
  console.log("It's warm.");
} else {
  console.log("It's not warm."); // This line will execute because temperature is not > 25
}
</code></pre>
        <p>The <code>else</code> block provides an alternative path of execution when the `if` condition is not met.</p>

        <h3>The `else if` Statement</h3>
        <p>The <code>else if</code> statement allows you to check multiple conditions sequentially. If the initial `if` condition is false, the `else if` condition is checked. You can have multiple `else if` blocks.</p>
        <pre><code class="language-javascript">let score = 75;

if (score >= 90) {
  console.log("Excellent!");
} else if (score >= 70) {
  console.log("Very Good."); // This line will execute because score is >= 70
} else if (score >= 50) {
  console.log("Good.");
} else {
  console.log("Needs Improvement.");
}
</code></pre>
        <p>The conditions are checked from top to bottom. The first condition that evaluates to true will have its corresponding code block executed, and the rest of the `else if` and `else` blocks in that chain will be skipped.</p>

        <h3>The `switch` Statement</h3>
        <p>The <code>switch</code> statement is used to perform different actions based on different conditions, often when you have a single expression to test against multiple possible values. It can be a more readable alternative to a long chain of `else if` statements.</p>
        <pre><code class="language-javascript">let day = "Monday";
let activity;

switch (day) {
  case "Monday":
    activity = "Start of the week";
    break; // Important: Exits the switch block
  case "Friday":
    activity = "End of the week";
    break;
  default: // Executes if none of the cases match
    activity = "Mid-week";
}

console.log(activity); // Output: Start of the week
</code></pre>
        <p>The `switch` expression (<code>day</code> in this case) is evaluated, and its value is compared against the values in each `case`. If a match is found, the code within that `case` is executed. The `break` keyword is crucial to prevent the code from "falling through" to the next case. The `default` case is optional and executes if no case matches.</p>

        <h3>Ternary Operator (`?:`)</h3>
        <p>As seen in the Operators section, the ternary operator provides a concise way to write simple `if...else` statements.</p>
        <pre><code class="language-javascript">let isMember = true;
let discount = isMember ? 10 : 0; // If isMember is true, discount is 10, otherwise 0
console.log(discount); // Output: 10
</code></pre>

        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Conditionals Playground</span>
                    <button class="run-btn" onclick="runCode('conditionals-code', 'conditionals-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('conditionals-code')">Reset</button>
                </div>
                <textarea class="code-input" id="conditionals-code">// Experiment with conditional statements here!

let userLoggedIn = true;
let itemCount = 5;

if (userLoggedIn) {
  console.log("Welcome back!");
} else {
  console.log("Please log in.");
}

if (itemCount > 0) {
  console.log("You have items in your cart.");
} else if (itemCount === 0) {
  console.log("Your cart is empty.");
} else {
  console.log("Invalid item count.");
}

let dayOfWeek = "Tuesday";
switch (dayOfWeek) {
  case "Monday":
    console.log("It's the start of the week.");
    break;
  case "Tuesday":
    console.log("It's Tuesday."); // This will be logged
    break;
  default:
    console.log("It's some other day.");
}

// Try changing the values of userLoggedIn, itemCount, and dayOfWeek!

</textarea>
            </div>
            <div class="simulation-visual" id="conditionals-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="conditionals-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Conditionals Challenge</h3>
        <p class="exercise-instruction">Use the playground to write code that checks a user's age and prints a message based on different age ranges:</p>
        <ol>
            <li>Declare a variable `userAge` and assign it a number value (e.g., 17, 25, 60).</li>
            <li>Use an `if...else if...else` chain to check the following conditions:
                <ul>
                    <li>If `userAge` is less than 18, log "You are a minor."</li>
                    <li>If `userAge` is between 18 and 64 (inclusive), log "You are an adult."</li>
                    <li>If `userAge` is 65 or older, log "You are a senior citizen."</li>
                </ul>
            </li>
            <li>Test your code by changing the value of `userAge`.</li>
        </ol>
        <button class="check-btn" onclick="checkConditionalsExercise()">Check Solution</button>
         <div class="feedback" id="feedback-conditionals-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Conditionals Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-conditionals-1">
            <p><strong>1. Which statement executes a block of code if a condition is true?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="conditionals-quiz-1" value="A"> `else`</label><br>
                <label><input type="radio" name="conditionals-quiz-1" value="B"> `if`</label><br>
                <label><input type="radio" name="conditionals-quiz-1" value="C"> `switch`</label><br>
                <label><input type="radio" name="conditionals-quiz-1" value="D"> `for`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('conditionals-quiz-1', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-conditionals-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-conditionals-2">
            <p><strong>2. What keyword is used to provide an alternative code block if the `if` condition is false?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="conditionals-quiz-2" value="A"> `else if`</label><br>
                <label><input type="radio" name="conditionals-quiz-2" value="B"> `default`</label><br>
                <label><input type="radio" name="conditionals-quiz-2" value="C"> `otherwise`</label><br>
                <label><input type="radio" name="conditionals-quiz-2" value="D"> `else`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('conditionals-quiz-2', 'D')">Check Answer</button>
            <div class="feedback" id="feedback-conditionals-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-conditionals-3">
            <p><strong>3. Which statement is often used to test a single expression against multiple possible values?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="conditionals-quiz-3" value="A"> `if...else if` chain</label><br>
                <label><input type="radio" name="conditionals-quiz-3" value="B"> `while` loop</label><br>
                <label><input type="radio" name="conditionals-quiz-3" value="C"> `switch` statement</label><br>
                <label><input type="radio" name="conditionals-quiz-3" value="D"> Ternary operator</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('conditionals-quiz-3', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-conditionals-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-conditionals-4">
            <p><strong>4. What is the purpose of the `break` keyword in a `switch` statement?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="conditionals-quiz-4" value="A"> To end the program execution</label><br>
                <label><input type="radio" name="conditionals-quiz-4" value="B"> To skip the current case and go to the next</label><br>
                <label><input type="radio" name="conditionals-quiz-4" value="C"> To exit the `switch` block after a match is found</label><br>
                <label><input type="radio" name="conditionals-quiz-4" value="D"> To define the default case</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('conditionals-quiz-4', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-conditionals-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-conditionals-5">
            <p><strong>5. The ternary operator (`?:`) is a shorthand for which conditional structure?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="conditionals-quiz-5" value="A"> `switch` statement</label><br>
                <label><input type="radio" name="conditionals-quiz-5" value="B"> `if...else` statement</label><br>
                <label><input type="radio" name="conditionals-quiz-5" value="C"> `for` loop</label><br>
                <label><input type="radio" name="conditionals-quiz-5" value="D"> `while` loop</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('conditionals-quiz-5', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-conditionals-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="loops" class="lesson-section">
    <h2 class="lesson-title">Loops in JavaScript</h2>
    <div class="lesson-content">
        <p>Loops are essential control flow structures in programming that allow you to repeat a block of code multiple times. This is incredibly useful for tasks that involve processing lists of data, performing actions a set number of times, or continuing an operation until a certain condition is met.</p>
        <p>JavaScript provides several types of loops, each suited for different scenarios. In this section, we will explore the most common loop constructs and how to use them effectively.</p>

        <h3>The `for` Loop</h3>
        <p>The <code>for</code> loop is one of the most widely used loops. It's ideal when you know exactly how many times you want to loop. It has a clear structure consisting of three parts: initialization, condition, and increment/decrement.</p>
        <pre><code class="language-javascript">for (let i = 0; i < 5; i++) {
  // Initialization: let i = 0 (runs once at the start)
  // Condition: i < 5 (checked before each iteration)
  // Increment: i++ (runs after each iteration)
  console.log("Iteration number: " + i);
}
// Output:
// Iteration number: 0
// Iteration number: 1
// Iteration number: 2
// Iteration number: 3
// Iteration number: 4
</code></pre>
        <ul>
            <li><strong>Initialization:</strong> Executed once before the loop starts. Typically used to initialize a counter variable.</li>
            <li><strong>Condition:</strong> Evaluated before each loop iteration. If the condition is true, the loop continues; if false, the loop terminates.</li>
            <li><strong>Increment/Decrement:</strong> Executed after each loop iteration. Typically used to update the counter variable.</li>
        </ul>

        <h3>The `while` Loop</h3>
        <p>The <code>while</code> loop executes a block of code as long as a specified condition is true. It's useful when you don't know the exact number of iterations beforehand, but rather have a condition that needs to be met to stop the loop.</p>
        <pre><code class="language-javascript">let count = 0;

while (count < 3) {
  console.log("Count is: " + count);
  count++; // Remember to update the condition variable to avoid infinite loops!
}
// Output:
// Count is: 0
// Count is: 1
// Count is: 2
</code></pre>
        <p>The condition is checked *before* the loop body is executed. If the condition is initially false, the loop body will never run.</p>

        <h3>The `do...while` Loop</h3>
        <p>The <code>do...while</code> loop is similar to the <code>while</code> loop, but it guarantees that the loop body will be executed at least once, because the condition is checked *after* the loop body is executed.</p>
        <pre><code class="language-javascript">let i = 0;

do {
  console.log("Value of i: " + i);
  i++;
} while (i < 0); // Condition is false, but the loop runs once
// Output:
// Value of i: 0
</code></pre>
        <p>This loop is less common than `for` or `while` but can be useful when you need to perform an action at least once regardless of the condition.</p>

        <h3>The `for...in` Loop</h3>
        <p>The <code>for...in</code> loop iterates over the properties (keys) of an object. It's primarily used for iterating over object properties, not array elements (although it can be used with arrays, it's generally discouraged due to potential issues with array indexes and inherited properties).</p>
        <pre><code class="language-javascript">let person = { name: "Alice", age: 30, city: "London" };

for (const key in person) {
  console.log(key + ": " + person[key]);
}
// Output:
// name: Alice
// age: 30
// city: London
</code></pre>

        <h3>The `for...of` Loop (ES6)</h3>
        <p>The <code>for...of</code> loop iterates over the values of iterable objects like Arrays, Strings, Maps, Sets, and more. This is the preferred way to iterate over array elements in modern JavaScript.</p>
        <pre><code class="language-javascript">let colors = ["Red", "Green", "Blue"];

for (const color of colors) {
  console.log(color);
}
// Output:
// Red
// Green
// Blue

let myString = "Hello";
for (const char of myString) {
  console.log(char);
}
// Output:
// H
// e
// l
// l
// o
</code></pre>

        <h3>Controlling Loop Execution: `break` and `continue`</h3>
        <p>You can control the flow within loops using <code>break</code> and <code>continue</code>:</p>
        <ul>
            <li><strong>`break`:</strong> Exits the loop entirely.</li>
            <li><strong>`continue`:</strong> Skips the current iteration and proceeds to the next iteration of the loop.</li>
        </ul>
        <pre><code class="language-javascript">// Using break
for (let i = 0; i < 10; i++) {
  if (i === 5) {
    break; // Exit the loop when i is 5
  }
  console.log("Number (break): " + i);
}
// Output:
// Number (break): 0
// Number (break): 1
// Number (break): 2
// Number (break): 3
// Number (break): 4

// Using continue
for (let i = 0; i < 5; i++) {
  if (i === 2) {
    continue; // Skip the rest of the loop body when i is 2
  }
  console.log("Number (continue): " + i);
}
// Output:
// Number (continue): 0
// Number (continue): 1
// Number (continue): 3
// Number (continue): 4
</code></pre>


        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Loops Playground</span>
                    <button class="run-btn" onclick="runCode('loops-code', 'loops-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('loops-code')">Reset</button>
                </div>
                <textarea class="code-input" id="loops-code">// Experiment with different types of loops here!

// Example: Using a for loop to print numbers
for (let i = 1; i <= 5; i++) {
  console.log("For loop count: " + i);
}

console.log("---");

// Example: Using a while loop
let j = 0;
while (j < 3) {
  console.log("While loop count: " + j);
  j++;
}

console.log("---");

// Example: Using for...of with an array
let fruits = ["Apple", "Banana", "Cherry"];
for (const fruit of fruits) {
  console.log("Fruit: " + fruit);
}

// Try modifying the loops, conditions, or using break/continue!

</textarea>
            </div>
            <div class="simulation-visual" id="loops-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="loops-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Loops Challenge</h3>
        <p class="exercise-instruction">Use the playground to write a `for` loop that iterates from 1 to 10 and prints only the even numbers to the terminal:</p>
        <ol>
            <li>Write a `for` loop that starts with a counter at 1 and continues as long as the counter is less than or equal to 10.</li>
            <li>Inside the loop, use a conditional statement (`if`) to check if the current value of the counter is an even number (Hint: use the modulus operator `%`).</li>
            <li>If the number is even, use `console.log()` to print the number to the terminal.</li>
        </ol>
        <button class="check-btn" onclick="checkLoopsExercise()">Check Solution</button>
         <div class="feedback" id="feedback-loops-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Loops Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-loops-1">
            <p><strong>1. Which loop is best suited when you know exactly how many times you want to iterate?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="loops-quiz-1" value="A"> `while` loop</label><br>
                <label><input type="radio" name="loops-quiz-1" value="B"> `do...while` loop</label><br>
                <label><input type="radio" name="loops-quiz-1" value="C"> `for` loop</label><br>
                <label><input type="radio" name="loops-quiz-1" value="D"> `for...in` loop</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('loops-quiz-1', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-loops-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-loops-2">
            <p><strong>2. Which loop guarantees that its body will execute at least once?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="loops-quiz-2" value="A"> `for` loop</label><br>
                <label><input type="radio" name="loops-quiz-2" value="B"> `while` loop</label><br>
                <label><input type="radio" name="loops-quiz-2" value="C"> `do...while` loop</label><br>
                <label><input type="radio" name="loops-quiz-2" value="D"> `for...of` loop</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('loops-quiz-2', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-loops-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-loops-3">
            <p><strong>3. Which keyword is used to exit a loop entirely before its condition is met?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="loops-quiz-3" value="A"> `continue`</label><br>
                <label><input type="radio" name="loops-quiz-3" value="B"> `stop`</label><br>
                <label><input type="radio" name="loops-quiz-3" value="C"> `break`</label><br>
                <label><input type="radio" name="loops-quiz-3" value="D"> `exit`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('loops-quiz-3', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-loops-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-loops-4">
            <p><strong>4. Which loop is the preferred way to iterate over the elements of an array in modern JavaScript?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="loops-quiz-4" value="A"> `for` loop</label><br>
                <label><input type="radio" name="loops-quiz-4" value="B"> `for...in` loop</label><br>
                <label><input type="radio" name="loops-quiz-4" value="C"> `while` loop</label><br>
                <label><input type="radio" name="loops-quiz-4" value="D"> `for...of` loop</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('loops-quiz-4', 'D')">Check Answer</button>
            <div class="feedback" id="feedback-loops-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-loops-5">
            <p><strong>5. What keyword is used to skip the current iteration of a loop and move to the next?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="loops-quiz-5" value="A"> `break`</label><br>
                <label><input type="radio" name="loops-quiz-5" value="B"> `skip`</label><br>
                <label><input type="radio" name="loops-quiz-5" value="C"> `next`</label><br>
                <label><input type="radio" name="loops-quiz-5" value="D"> `continue`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('loops-quiz-5', 'D')">Check Answer</button>
            <div class="feedback" id="feedback-loops-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="events" class="lesson-section">
    <h2 class="lesson-title">Events in JavaScript</h2>
    <div class="lesson-content">
        <p>Web pages are not static; they are interactive. Events are actions or occurrences that happen in the browser, such as a user clicking a button, typing into an input field, a page finishing loading, or a video starting to play. JavaScript allows you to detect these events and run code in response to them, making your web pages dynamic and engaging.</p>
        <p>Event handling is a core part of front-end web development. In this section, we will learn how to listen for various events, execute functions when events occur, and understand the flow of events in the DOM.</p>

        <h3>What are Events?</h3>
        <p>Events represent moments in time when something happens on a web page. Common examples include:</p>
        <ul>
            <li>User actions: clicking a mouse button, typing on a keyboard, submitting a form, hovering over an element.</li>
            <li>Browser actions: a page loading, an image resizing, a video playing or pausing.</li>
            <li>DOM changes: elements being added or removed.</li>
        </ul>
        <p>When an event occurs on an HTML element, the browser creates an "event object" that contains information about the event (like the type of event, where it occurred, etc.).</p>

        <h3>Event Handling</h3>
        <p>To respond to an event, you need to attach an "event handler" (a function) to the element that will perform an action when the event happens. The most modern and recommended way to do this is using `addEventListener()`.</p>

        <h4>`addEventListener()`</h4>
        <p>The `addEventListener()` method attaches an event handler function to an element without overwriting existing handlers. You can add multiple handlers of the same type to a single element.</p>
        <pre><code class="language-javascript">// Select an element (assuming you have a button with id="myButton")
const myButton = document.getElementById('myButton');

// Define the function to run when the button is clicked
function handleClick() {
  console.log("Button was clicked!");
}

// Attach the event listener
myButton.addEventListener('click', handleClick);

// You can add another handler for the same event
myButton.addEventListener('click', function() {
  console.log("Another click handler ran!");
});
</code></pre>
        <p>The `addEventListener()` method takes three arguments:</p>
        <ol>
            <li>The event type (a string, e.g., `'click'`, `'mouseover'`, `'keydown'`).</li>
            <li>The event handler function to run when the event occurs.</li>
            <li>An optional boolean or options object (e.g., for event capturing or passive listeners).</li>
        </ol>

        <h4>`removeEventListener()`</h4>
        <p>If you need to remove an event handler that was added with `addEventListener()`, you use `removeEventListener()`. It requires the same event type and the *same function reference* that was used to add the listener.</p>
        <pre><code class="language-javascript">// To remove the handleClick function from the button's click event:
myButton.removeEventListener('click', handleClick);

// You cannot remove an anonymous function added as a handler using removeEventListener
// because you don't have a reference to that specific function instance.
// myButton.removeEventListener('click', function() { ... }); // This would NOT work
</code></pre>

        <h3>Common Event Types</h3>
        <p>There are many types of events you can listen for. Here are some common ones:</p>
        <ul>
            <li><strong>Mouse Events:</strong> `click`, `dblclick`, `mousedown`, `mouseup`, `mouseover`, `mouseout`, `mousemove`.</li>
            <li><strong>Keyboard Events:</strong> `keydown`, `keypress`, `keyup`.</li>
            <li><strong>Form Events:</strong> `submit` (on a form), `input` (on input fields), `change` (on input fields, selects, checkboxes, radios), `focus`, `blur`.</li>
            <li><strong>Document/Window Events:</strong> `load` (when the page/resource finishes loading), `DOMContentLoaded` (when the initial HTML is fully loaded and parsed), `resize`, `scroll`.</li>
        </ul>

        <h3>Event Object</h3>
        <p>When an event occurs and triggers a handler function, the browser automatically passes an event object as the first argument to that function. This object contains useful information about the event.</p>
        <pre><code class="language-javascript">const myInput = document.getElementById('myInput'); // Assuming an input field with id="myInput"

myInput.addEventListener('input', function(event) {
  console.log("Event type:", event.type); // Output: input
  console.log("Target element:", event.target); // Output: the input element
  console.log("Current value:", event.target.value); // Output: the current text in the input
});
</code></pre>
        <p>The `event.target` property is particularly useful as it refers to the element on which the event originally occurred.</p>

        <h3>Event Propagation (Bubbling and Capturing)</h3>
        <p>When an event occurs on an element, it can trigger handlers on that element and its ancestors in the DOM tree. This process is called event propagation. By default, most events "bubble" up the tree from the target element to the document root. Capturing is the opposite phase, where the event travels down the tree from the root to the target element.</p>
        <p>You can control this behavior and stop propagation using methods like `event.stopPropagation()`.</p>

        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Events Playground</span>
                    <button class="run-btn" onclick="runCode('events-code', 'events-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('events-code')">Reset</button>
                </div>
                <textarea class="code-input" id="events-code">// Experiment with adding event listeners here!

// Assume you have an HTML button with id="myEventButton"
// and a div with id="eventOutput" in the simulation area.

const eventButton = document.getElementById('myEventButton');
const eventOutput = document.getElementById('eventOutput');

// Add a click event listener to the button
eventButton.addEventListener('click', function(event) {
  eventOutput.textContent = "Button Clicked! Event type: " + event.type;
  console.log("Button clicked!");
});

// Add a mouseover event listener to the button
eventButton.addEventListener('mouseover', function(event) {
  eventOutput.textContent = "Mouse over button! Event type: " + event.type;
  console.log("Mouse over button!");
});

// Add a mouseout event listener to the button
eventButton.addEventListener('mouseout', function(event) {
  eventOutput.textContent = "Mouse left button! Event type: " + event.type;
  console.log("Mouse left button!");
});

// Try adding event listeners to other elements or for different event types!
// Example: Add a keydown listener to the document body
// document.body.addEventListener('keydown', function(event) {
//   console.log("Key pressed:", event.key);
// });

</textarea>
            </div>
            <div class="simulation-visual" id="events-vis">
                 <div class="simulation-placeholder">Interact with Elements Below</div>
                 <button id="myEventButton" style="padding: 10px 20px; margin-top: 20px; cursor: pointer;">Click or Hover Me!</button>
                 <div id="eventOutput" style="margin-top: 20px; padding: 10px; border: 1px dashed #ccc; min-height: 30px;">Event output will appear here.</div>
                 <div class="terminal" id="events-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Events Challenge</h3>
        <p class="exercise-instruction">Use the playground to add a click event listener to the button and a mouseover event listener to the output div. When the button is clicked, change the text content of the output div. When the mouse hovers over the output div, change its background color:</p>
        <ol>
            <li>Select the button with the id "myEventButton" and the div with the id "eventOutput".</li>
            <li>Add a `click` event listener to the button. Inside the handler function, set the `textContent` of the `eventOutput` div to "Button Clicked!".</li>
            <li>Add a `mouseover` event listener to the `eventOutput` div. Inside the handler function, set the `style.backgroundColor` of the `eventOutput` div to "lightblue".</li>
            <li>(Optional) Add a `mouseout` event listener to the `eventOutput` div to change the background color back when the mouse leaves.</li>
        </ol>
        <button class="check-btn" onclick="checkEventsExercise()">Check Solution</button>
         <div class="feedback" id="feedback-events-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Events Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-events-1">
            <p><strong>1. What is an event in JavaScript?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="events-quiz-1" value="A"> A variable declaration</label><br>
                <label><input type="radio" name="events-quiz-1" value="B"> An action or occurrence in the browser</label><br>
                <label><input type="radio" name="events-quiz-1" value="C"> A way to style HTML elements</label><br>
                <label><input type="radio" name="events-quiz-1" value="D"> A type of loop</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('events-quiz-1', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-events-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-events-2">
            <p><strong>2. Which method is the recommended way to attach an event handler to an element?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="events-quiz-2" value="A"> `onclick = function(...)`</label><br>
                <label><input type="radio" name="events-quiz-2" value="B"> `attachEvent()`</label><br>
                <label><input type="radio" name="events-quiz-2" value="C"> `addEventListener()`</label><br>
                <label><input type="radio" name="events-quiz-2" value="D"> `handleEvent()`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('events-quiz-2', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-events-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-events-3">
            <p><strong>3. What is the first argument automatically passed to an event handler function?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="events-quiz-3" value="A"> The target element</label><br>
                <label><input type="radio" name="events-quiz-3" value="B"> The event type (string)</label><br>
                <label><input type="radio" name="events-quiz-3" value="C"> The event object</label><br>
                <label><input type="radio" name="events-quiz-3" value="D"> The current time</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('events-quiz-3', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-events-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-events-4">
            <p><strong>4. Which property of the event object refers to the element on which the event originally occurred?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="events-quiz-4" value="A"> `event.currentTarget`</label><br>
                <label><input type="radio" name="events-quiz-4" value="B"> `event.target`</label><br>
                <label><input type="radio" name="events-quiz-4" value="C"> `event.element`</label><br>
                <label><input type="radio" name="events-quiz-4" value="D"> `event.srcElement`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('events-quiz-4', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-events-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-events-5">
            <p><strong>5. What does `event.stopPropagation()` do?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="events-quiz-5" value="A"> Stops the default action of the event</label><br>
                <label><input type="radio" name="events-quiz-5" value="B"> Prevents the event from bubbling up or capturing down the DOM tree</label><br>
                <label><input type="radio" name="events-quiz-5" value="C"> Reloads the page</label><br>
                <label><input type="radio" name="events-quiz-5" value="D"> Removes the event listener</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('events-quiz-5', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-events-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="promises" class="lesson-section">
    <h2 class="lesson-title">Promises in JavaScript</h2>
    <div class="lesson-content">
        <p>JavaScript is often used in environments where operations don't happen instantly. For example, fetching data from a server, reading a file, or setting a timer are all asynchronous operations. Traditionally, these were handled with callbacks, which could lead to complex and hard-to-manage code known as "callback hell."</p>
        <p>Promises provide a cleaner and more structured way to deal with asynchronous code. A Promise represents the eventual result of an asynchronous operation. It's a placeholder for a value that is not yet known but will be available in the future, or for an error that might occur.</p>
        <p>In this section, we will learn about the states of a Promise, how to create and consume Promises, and how they help manage asynchronous workflows more effectively.</p>

        <h3>What is a Promise?</h3>
        <p>A Promise is an object that represents the eventual completion (or failure) of an asynchronous operation and its resulting value. A Promise can be in one of three states:</p>
        <ul>
            <li><strong>Pending:</strong> The initial state; the asynchronous operation is still in progress.</li>
            <li><strong>Fulfilled (Resolved):</strong> The operation completed successfully, and the Promise has a resulting value.</li>
            <li><strong>Rejected:</strong> The operation failed, and the Promise has a reason for the failure (an error).</li>
        </ul>
        <p>Once a Promise is fulfilled or rejected, it is considered <strong>settled</strong>. A settled Promise cannot change its state again.</p>

        <h3>Creating Promises</h3>
        <p>You can create a new Promise using the `Promise` constructor. The constructor takes one argument: a function called the "executor function." The executor function itself takes two arguments: `resolve` and `reject`.</p>
        <pre><code class="language-javascript">const myPromise = new Promise((resolve, reject) => {
  // Simulate an asynchronous operation (e.g., a network request)
  const success = true; // Simulate success or failure

  if (success) {
    // If the operation is successful, call resolve with the result
    setTimeout(() => { // Simulate delay
      resolve("Operation successful!");
    }, 1000); // Resolve after 1 second
  } else {
    // If the operation fails, call reject with the error
    setTimeout(() => { // Simulate delay
      reject("Operation failed!");
    }, 1000); // Reject after 1 second
  }
});
</code></pre>
        <p>The `resolve` function is called when the asynchronous operation completes successfully, passing the resulting value. The `reject` function is called when the operation fails, passing the reason for the failure (usually an Error object).</p>

        <h3>Consuming Promises: `.then()`, `.catch()`, `.finally()`</h3>
        <p>To handle the outcome of a Promise, you use its `.then()`, `.catch()`, and `.finally()` methods.</p>

        <h4>`.then()`</h4>
        <p>The `.then()` method is used to handle a fulfilled Promise. It takes up to two arguments: a callback function for the fulfillment case and an optional callback function for the rejection case.</p>
        <pre><code class="language-javascript">myPromise.then(
  function(result) {
    // This function runs if the promise is fulfilled
    console.log("Success:", result); // Output: Success: Operation successful!
  },
  function(error) {
    // This function runs if the promise is rejected (optional in .then)
    console.error("Error:", error);
  }
);
</code></pre>
        <p>You can chain multiple `.then()` calls to perform sequential asynchronous operations or transformations on the result.</p>

        <h4>`.catch()`</h4>
        <p>The `.catch()` method is used specifically to handle rejected Promises. It's a more readable way to handle errors compared to providing the rejection handler in `.then()`.</p>
        <pre><code class="language-javascript">myPromise
  .then(function(result) {
    console.log("Success:", result);
  })
  .catch(function(error) {
    // This function runs if the promise is rejected anywhere in the chain
    console.error("Caught Error:", error); // Output: Caught Error: Operation failed!
  });
</code></pre>

        <h4>`.finally()`</h4>
        <p>The `.finally()` method is executed regardless of whether the Promise is fulfilled or rejected. It's useful for performing cleanup tasks that should happen after the Promise is settled.</p>
        <pre><code class="language-javascript">myPromise
  .then(function(result) {
    console.log("Success:", result);
  })
  .catch(function(error) {
    console.error("Caught Error:", error);
  })
  .finally(function() {
    // This function always runs after the promise is settled
    console.log("Promise settled (finished)."); // Output: Promise settled (finished).
  });
</code></pre>

        <h3>Promises and Asynchronous Operations</h3>
        <p>Many built-in JavaScript functions and modern APIs return Promises, such as `fetch` for making network requests, and asynchronous functions created with `async`/`await` (which we'll cover next) implicitly use Promises.</p>
        <pre><code class="language-javascript">// Using fetch (returns a Promise)
fetch('https://api.example.com/data')
  .then(response => response.json()) // Process the response (returns another Promise)
  .then(data => {
    console.log("Fetched data:", data); // Handle the final data
  })
  .catch(error => {
    console.error("Fetch error:", error); // Handle any errors in the chain
  });
</code></pre>
        <p>Promises significantly improve the readability and maintainability of asynchronous JavaScript code compared to deeply nested callbacks.</p>


        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Promises Playground</span>
                    <button class="run-btn" onclick="runCode('promises-code', 'promises-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('promises-code')">Reset</button>
                </div>
                <textarea class="code-input" id="promises-code">// Experiment with creating and consuming Promises here!

// Create a simple Promise that resolves after a delay
const delayedGreeting = new Promise((resolve, reject) => {
  setTimeout(() => {
    const name = "World";
    if (name) {
      resolve("Hello, " + name + "!");
    } else {
      reject("Name not provided.");
    }
  }, 1500); // Resolve or reject after 1.5 seconds
});

console.log("Promise created, pending...");

// Consume the Promise
delayedGreeting
  .then(result => {
    console.log("Promise fulfilled:", result);
  })
  .catch(error => {
    console.error("Promise rejected:", error);
  })
  .finally(() => {
    console.log("Promise finished.");
  });

// Try changing the logic inside the Promise to cause a rejection!

</textarea>
            </div>
            <div class="simulation-visual" id="promises-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="promises-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Promises Challenge</h3>
        <p class="exercise-instruction">Use the playground to create a Promise that simulates fetching data. Make it resolve with a success message after 2 seconds, and then consume it using `.then()` and `.finally()`:</p>
        <ol>
            <li>Create a new Promise using `new Promise()`.</li>
            <li>Inside the executor function, use `setTimeout()` to simulate a delay of 2000 milliseconds (2 seconds).</li>
            <li>Inside the `setTimeout` callback, call the `resolve()` function with a success message string (e.g., "Data fetched successfully!").</li>
            <li>Outside the Promise creation, call the `.then()` method on your Promise. Inside the `.then()` callback, log the success message received from `resolve()`.</li>
            <li>Chain a `.finally()` method after `.then()`. Inside the `.finally()` callback, log a message indicating that the Promise process is complete (e.g., "Promise process finished.").</li>
        </ol>
        <button class="check-btn" onclick="checkPromisesExercise()">Check Solution</button>
         <div class="feedback" id="feedback-promises-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Promises Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-promises-1">
            <p><strong>1. Which state indicates that an asynchronous operation represented by a Promise is still ongoing?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="promises-quiz-1" value="A"> Fulfilled</label><br>
                <label><input type="radio" name="promises-quiz-1" value="B"> Rejected</label><br>
                <label><input type="radio" name="promises-quiz-1" value="C"> Settled</label><br>
                <label><input type="radio" name="promises-quiz-1" value="D"> Pending</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('promises-quiz-1', 'D')">Check Answer</button>
            <div class="feedback" id="feedback-promises-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-promises-2">
            <p><strong>2. Which method is used to handle a Promise that has been successfully completed?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="promises-quiz-2" value="A"> `.catch()`</label><br>
                <label><input type="radio" name="promises-quiz-2" value="B"> `.then()`</label><br>
                <label><input type="radio" name="promises-quiz-2" value="C"> `.finally()`</label><br>
                <label><input type="radio" name="promises-quiz-2" value="D"> `.resolve()`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('promises-quiz-2', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-promises-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-promises-3">
            <p><strong>3. What is the purpose of the `.catch()` method on a Promise?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="promises-quiz-3" value="A"> To define the initial asynchronous operation</label><br>
                <label><input type="radio" name="promises-quiz-3" value="B"> To handle errors if the Promise is rejected</label><br>
                <label><input type="radio" name="promises-quiz-3" value="C"> To execute code regardless of the Promise outcome</label><br>
                <label><input type="radio" name="promises-quiz-3" value="D"> To chain multiple successful operations</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('promises-quiz-3', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-promises-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-promises-4">
            <p><strong>4. What are the two arguments passed to the executor function when creating a new Promise?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="promises-quiz-4" value="A"> `request`, `response`</label><br>
                <label><input type="radio" name="promises-quiz-4" value="B"> `success`, `failure`</label><br>
                <label><input type="radio" name="promises-quiz-4" value="C"> `resolve`, `reject`</label><br>
                <label><input type="radio" name="promises-quiz-4" value="D"> `data`, `error`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('promises-quiz-4', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-promises-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-promises-5">
            <p><strong>5. Which method is guaranteed to execute after a Promise is settled (either fulfilled or rejected)?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="promises-quiz-5" value="A"> `.then()`</label><br>
                <label><input type="radio" name="promises-quiz-5" value="B"> `.catch()`</label><br>
                <label><input type="radio" name="promises-quiz-5" value="C"> `.done()`</label><br>
                <label><input type="radio" name="promises-quiz-5" value="D"> `.finally()`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('promises-quiz-5', 'D')">Check Answer</button>
            <div class="feedback" id="feedback-promises-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="async-await" class="lesson-section">
    <h2 class="lesson-title">Async/Await in JavaScript</h2>
    <div class="lesson-content">
        <p>Building on the foundation of Promises, JavaScript introduced the <code>async</code> and <code>await</code> keywords in ES2017. These keywords provide a more concise and readable way to write asynchronous code, making it look and behave more like synchronous code while still being non-blocking.</p>
        <p><code>async</code> functions and <code>await</code> expressions are essentially syntactic sugar over Promises. They don't introduce new asynchronous capabilities but make working with existing Promise-based asynchronous code much easier to understand and manage, especially when dealing with sequences of asynchronous operations.</p>

        <h3>The `async` Keyword</h3>
        <p>The <code>async</code> keyword is used to declare an asynchronous function. An <code>async</code> function always returns a Promise. If the function returns a non-Promise value, it will be automatically wrapped in a resolved Promise. If the function throws an error, the Promise it returns will be rejected.</p>
        <pre><code class="language-javascript">// An async function declaration
async function fetchData() {
  // This function will implicitly return a Promise
  return "Data received!";
}

fetchData().then(result => {
  console.log(result); // Output: Data received!
});

// An async function that throws an error
async function fetchDataError() {
  throw new Error("Failed to fetch data!");
}

fetchDataError().catch(error => {
  console.error(error.message); // Output: Failed to fetch data!
});
</code></pre>

        <h3>The `await` Keyword</h3>
        <p>The <code>await</code> keyword can only be used inside an <code>async</code> function. It is placed before a Promise, and it pauses the execution of the `async` function until the Promise settles (either resolves or rejects).</p>
        <ul>
            <li>If the Promise resolves, `await` returns the resolved value.</li>
            <li>If the Promise rejects, `await` throws the rejected value (error), which can then be caught using a `try...catch` block.</li>
        </ul>
        <pre><code class="language-javascript">// Simulate a Promise-based asynchronous operation
function resolveAfter2Seconds() {
  return new Promise(resolve => {
    setTimeout(() => {
      resolve("Resolved after 2 seconds");
    }, 2000);
  });
}

async function demonstrateAwait() {
  console.log("Calling the asynchronous operation...");
  const result = await resolveAfter2Seconds(); // Pause execution until the Promise resolves
  console.log(result); // This line runs after the Promise resolves
  console.log("Async function continues execution.");
}

demonstrateAwait();
// Output (after 2 seconds):
// Calling the asynchronous operation...
// Resolved after 2 seconds
// Async function continues execution.
</code></pre>

        <h3>Using `async`/`await` with Promises</h3>
        <p><code>async</code>/<code>await</code> makes working with sequences of Promises much cleaner. Instead of chaining multiple `.then()` calls, you can use `await` for each asynchronous step.</p>
        <pre><code class="language-javascript">// Simulate two sequential asynchronous operations
function step1() {
  return new Promise(resolve => {
    setTimeout(() => {
      console.log("Step 1 complete");
      resolve(1);
    }, 1000);
  });
}

function step2(valueFromStep1) {
  return new Promise(resolve => {
    setTimeout(() => {
      console.log("Step 2 complete with value:", valueFromStep1);
      resolve(valueFromStep1 + 1);
    }, 1000);
  });
}

async function performSteps() {
  console.log("Starting steps...");
  const result1 = await step1(); // Wait for step 1
  const result2 = await step2(result1); // Wait for step 2, using result from step 1
  console.log("All steps complete. Final result:", result2);
}

performSteps();
// Output (with 1-second delays between logs):
// Starting steps...
// Step 1 complete
// Step 2 complete with value: 1
// All steps complete. Final result: 2
</code></pre>

        <h3>Error Handling with `async`/`await` and `try...catch`</h3>
        <p>Error handling in `async` functions is straightforward using standard `try...catch` blocks. If an `await`ed Promise rejects, the error is thrown and can be caught in a `catch` block.</p>
        <pre><code class="language-javascript">// Simulate a Promise that rejects
function mightFail() {
  return new Promise((resolve, reject) => {
    const success = false; // Simulate failure
    setTimeout(() => {
      if (success) {
        resolve("Operation succeeded");
      } else {
        reject(new Error("Something went wrong!"));
      }
    }, 1000);
  });
}

async function handleFailure() {
  try {
    console.log("Attempting operation...");
    const result = await mightFail(); // This will throw an error
    console.log("Operation result:", result); // This line will not be reached
  } catch (error) {
    console.error("Caught an error:", error.message); // Output: Caught an error: Something went wrong!
  } finally {
     console.log("Operation attempt finished."); // This will always run
  }
}

handleFailure();
</code></pre>
        <p>Using `try...catch` with `async`/`await` provides a familiar and clean way to manage errors in asynchronous code.</p>

        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Async/Await Playground</span>
                    <button class="run-btn" onclick="runCode('async-await-code', 'async-await-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('async-await-code')">Reset</button>
                </div>
                <textarea class="code-input" id="async-await-code">// Experiment with async and await here!

// Simulate an asynchronous task that resolves after a delay
function delayedTask(message, delay) {
  return new Promise(resolve => {
    setTimeout(() => {
      console.log(message);
      resolve(message + " (completed)");
    }, delay);
  });
}

// Use an async function to run tasks sequentially
async function runSequentialTasks() {
  console.log("Starting sequential tasks...");
  const result1 = await delayedTask("First task", 1000); // Wait for 1 second
  const result2 = await delayedTask("Second task", 500); // Wait for 0.5 seconds
  console.log("All sequential tasks finished.");
  console.log("Results:", result1, result2);
}

runSequentialTasks();

// Try creating an async function that uses try...catch to handle a rejected promise!

</textarea>
            </div>
            <div class="simulation-visual" id="async-await-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="async-await-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Async/Await Challenge</h3>
        <p class="exercise-instruction">Use the playground to create an `async` function that calls the provided `delayedTask` function twice sequentially, waiting for each call to complete before proceeding:</p>
        <ol>
            <li>Inside the provided `async function runSequentialTasks()`, use `await` before the first call to `delayedTask("First task", 1000)`.</li>
            <li>After the first `await`, add another line that uses `await` before the second call to `delayedTask("Second task", 500)`.</li>
            <li>Observe the terminal output to see that the tasks run in sequence with the specified delays.</li>
        </ol>
        <button class="check-btn" onclick="checkAsyncAwaitExercise()">Check Solution</button>
         <div class="feedback" id="feedback-async-await-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Async/Await Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-async-await-1">
            <p><strong>1. What does the `async` keyword do when placed before a function declaration?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="async-await-quiz-1" value="A"> Makes the function run faster</label><br>
                <label><input type="radio" name="async-await-quiz-1" value="B"> Guarantees the function will not throw errors</label><br>
                <label><input type="radio" name="async-await-quiz-1" value="C"> Ensures the function always returns a Promise</label><br>
                <label><input type="radio" name="async-await-quiz-1" value="D"> Allows the function to be called synchronously</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('async-await-quiz-1', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-async-await-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-async-await-2">
            <p><strong>2. Where can the `await` keyword be used?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="async-await-quiz-2" value="A"> Anywhere in your JavaScript code</label><br>
                <label><input type="radio" name="async-await-quiz-2" value="B"> Only inside a regular function</label><br>
                <label><input type="radio" name="async-await-quiz-2" value="C"> Only inside an `async` function</label><br>
                <label><input type="radio" name="async-await-quiz-2" value="D"> Only in the global scope</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('async-await-quiz-2', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-async-await-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-async-await-3">
            <p><strong>3. What happens when `await` is placed before a Promise that resolves?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="async-await-quiz-3" value="A"> The `async` function immediately throws an error</label><br>
                <label><input type="radio" name="async-await-quiz-3" value="B"> The `async` function pauses until the Promise resolves and returns the resolved value</label><br>
                <label><input type="radio" name="async-await-quiz-3" value="C"> The Promise is ignored, and the function continues immediately</label><br>
                <label><input type="radio" name="async-await-quiz-3" value="D"> The Promise is automatically rejected</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('async-await-quiz-3', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-async-await-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-async-await-4">
            <p><strong>4. How can you handle errors when using `async`/`await`?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="async-await-quiz-4" value="A"> Using `.catch()` on the `async` function call</label><br>
                <label><input type="radio" name="async-await-quiz-4" value="B"> Using a `try...catch` block inside the `async` function</label><br>
                <label><input type="radio" name="async-await-quiz-4" value="C"> Both A and B are valid methods</label><br>
                <label><input type="radio" name="async-await-quiz-4" value="D"> Errors cannot be handled with `async`/`await`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('async-await-quiz-4', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-async-await-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-async-await-5">
            <p><strong>5. `async` functions and `await` expressions are primarily syntactic sugar over what?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="async-await-quiz-5" value="A"> Callbacks</label><br>
                <label><input type="radio" name="async-await-quiz-5" value="B"> Events</label><br>
                <label><input type="radio" name="async-await-quiz-5" value="C"> Promises</label><br>
                <label><input type="radio" name="async-await-quiz-5" value="D"> Synchronous code</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('async-await-quiz-5', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-async-await-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="error-handling" class="lesson-section">
    <h2 class="lesson-title">Error Handling in JavaScript</h2>
    <div class="lesson-content">
        <p>Errors are an inevitable part of programming. They can occur due to mistakes in syntax, logical flaws, unexpected input, or issues with external resources. Effective error handling is crucial for building robust and reliable JavaScript applications that don't crash unexpectedly and can gracefully recover from problems.</p>
        <p>In JavaScript, errors are typically represented by Error objects. When an error occurs during script execution, it is "thrown." We can then "catch" these thrown errors and handle them appropriately. This section will introduce you to the `try...catch` statement, the `throw` keyword, and best practices for dealing with errors.</p>

        <h3>Types of Errors</h3>
        <p>JavaScript errors can be broadly categorized:</p>
        <ul>
            <li><strong>Syntax Errors:</strong> Errors that occur when the code violates JavaScript's syntax rules (e.g., missing a semicolon, mismatched parentheses). These are usually caught during the parsing phase before the code even runs.</li>
            <li><strong>Runtime Errors (Exceptions):</strong> Errors that occur during the execution of the code. These include:
                <ul>
                    <li>`ReferenceError`: Trying to access a variable that hasn't been declared.</li>
                    <li>`TypeError`: An operation is performed on a value of an inappropriate type (e.g., calling a method on `null`).</li>
                    <li>`RangeError`: A number is outside its allowed range.</li>
                    <li>`URIError`: Invalid parameters are used in URI functions like `decodeURI()`.</li>
                    <li>`EvalError`: Errors related to the global `eval()` function (less common).</li>
                </ul>
            </li>
        </ul>

        <h3>The `try...catch` Statement</h3>
        <p>The `try...catch` statement is used to handle runtime errors. Code that might potentially throw an error is placed inside the `try` block. If an error occurs within the `try` block, the code execution jumps to the `catch` block.</p>
        <pre><code class="language-javascript">try {
  // Code that might throw an error
  let result = mightNotExist * 10; // This will cause a ReferenceError
  console.log(result); // This line will not be reached
} catch (error) {
  // Code to handle the error
  console.error("An error occurred:", error.message); // Output: An error occurred: mightNotExist is not defined
  console.log("Error type:", error.name); // Output: Error type: ReferenceError
}

console.log("Program continues after error handling."); // This line will execute
</code></pre>
        <p>The `catch` block receives an argument, typically named `error` or `err`, which is the Error object containing information about the error that occurred.</p>

        <h3>The `finally` Block</h3>
        <p>The `finally` block is optional and can be used with `try...catch`. The code inside the `finally` block is always executed, regardless of whether an error occurred or was caught.</p>
        <pre><code class="language-javascript">function processData() {
  try {
    console.log("Attempting to process data...");
    // Simulate an operation that might succeed or fail
    const success = Math.random() > 0.5; // 50% chance of success

    if (success) {
      console.log("Data processed successfully.");
      return "Success"; // Return value from try block
    } else {
      throw new Error("Failed to process data."); // Throw an error
    }
  } catch (error) {
    console.error("Caught error during processing:", error.message);
    return "Failure"; // Return value from catch block
  } finally {
    console.log("Processing attempt finished."); // This always runs
  }
}

let status1 = processData(); // Will log "Processing attempt finished." regardless of success/failure
console.log("Process 1 status:", status1); // Logs "Success" or "Failure"

console.log("---");

// Example where no error occurs
try {
  console.log("Another attempt...");
  console.log("This will succeed.");
} catch (error) {
  console.error("This catch block will not run.");
} finally {
  console.log("Finally block always runs."); // Output: Finally block always runs.
}
</code></pre>
        <p>The `finally` block is useful for cleanup tasks, such as closing file connections or releasing resources, that should happen regardless of the outcome of the `try` block.</p>

        <h3>Throwing Custom Errors</h3>
        <p>You can use the `throw` keyword to create and throw your own custom errors. This is useful for signaling specific error conditions in your code.</p>
        <pre><code class="language-javascript">function divide(a, b) {
  if (b === 0) {
    // Throw a new Error object if the divisor is 0
    throw new Error("Division by zero is not allowed.");
  }
  return a / b;
}

try {
  let result = divide(10, 0);
  console.log(result);
} catch (error) {
  console.error("Caught a custom error:", error.message); // Output: Caught a custom error: Division by zero is not allowed.
}
</code></pre>
        <p>You can throw any value, but it's best practice to throw `Error` objects or instances of built-in error types, as they provide useful properties like `name` and `message`.</p>

        <h3>Error Handling in Asynchronous Code</h3>
        <p>Handling errors in asynchronous code (callbacks, Promises, async/await) requires specific approaches:</p>
        <ul>
            <li><strong>Callbacks:</strong> Errors are typically passed as the first argument to the callback function (Node.js convention).</li>
            <li><strong>Promises:</strong> Errors are handled using the `.catch()` method.</li>
            <li><strong>Async/Await:</strong> Errors from `await`ed Promises are caught using `try...catch` blocks within the `async` function.</li>
        </ul>
        <p>Understanding how errors propagate through asynchronous operations is key to implementing robust error handling in modern JavaScript applications.</p>


        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Error Handling Playground</span>
                    <button class="run-btn" onclick="runCode('error-handling-code', 'error-handling-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('error-handling-code')">Reset</button>
                </div>
                <textarea class="code-input" id="error-handling-code">// Experiment with try...catch and throw here!

function checkPositive(number) {
  if (number < 0) {
    // Throw an error if the number is negative
    throw new Error("Input must be a positive number.");
  }
  console.log("Number is positive:", number);
}

try {
  console.log("Testing with a positive number:");
  checkPositive(10); // This will succeed

  console.log("---");

  console.log("Testing with a negative number:");
  checkPositive(-5); // This will throw an error

  console.log("This line will not be reached if an error is thrown above.");

} catch (error) {
  console.error("Caught an error:", error.message);
} finally {
  console.log("Finally block executed.");
}

// Try modifying the checkPositive function or the try block
// to see how errors are caught and finally block behaves.

</textarea>
            </div>
            <div class="simulation-visual" id="error-handling-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="error-handling-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Error Handling Challenge</h3>
        <p class="exercise-instruction">Use the playground to create a function that divides two numbers, but throws an error if the second number is zero. Then, use a `try...catch` block to call this function and handle the potential error:</p>
        <ol>
            <li>Define a function `safeDivide(a, b)` that takes two numbers.</li>
            <li>Inside `safeDivide`, check if `b` is strictly equal to 0. If it is, `throw new Error("Cannot divide by zero.");`.</li>
            <li>If `b` is not zero, return `a / b`.</li>
            <li>Outside the function, create a `try` block.</li>
            <li>Inside the `try` block, call `safeDivide()` with a divisor of 0 (e.g., `safeDivide(10, 0)`) and log the result if successful (this line won't be reached if an error is thrown).</li>
            <li>Create a `catch` block that catches the error. Inside the `catch` block, log the error message using `console.error()`.</li>
            <li>(Optional) Add a `finally` block that logs "Division attempt finished."</li>
        </ol>
        <button class="check-btn" onclick="checkErrorHandlingExercise()">Check Solution</button>
         <div class="feedback" id="feedback-error-handling-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Error Handling Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-error-handling-1">
            <p><strong>1. Which statement is used to handle potential runtime errors in JavaScript?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="error-handling-quiz-1" value="A"> `if...else`</label><br>
                <label><input type="radio" name="error-handling-quiz-1" value="B"> `try...catch`</label><br>
                <label><input type="radio" name="error-handling-quiz-1" value="C"> `switch`</label><br>
                <label><input type="radio" name="error-handling-quiz-1" value="D"> `for` loop</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('error-handling-quiz-1', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-error-handling-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-error-handling-2">
            <p><strong>2. Code that you suspect might throw an error should be placed inside which block?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="error-handling-quiz-2" value="A"> `catch`</label><br>
                <label><input type="radio" name="error-handling-quiz-2" value="B"> `finally`</label><br>
                <label><input type="radio" name="error-handling-quiz-2" value="C"> `try`</label><br>
                <label><input type="radio" name="error-handling-quiz-2" value="D"> `throw`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('error-handling-quiz-2', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-error-handling-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-error-handling-3">
            <p><strong>3. Which keyword is used to create and trigger a custom error?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="error-handling-quiz-3" value="A"> `catch`</label><br>
                <label><input type="radio" name="error-handling-quiz-3" value="B"> `finally`</label><br>
                <label><input type="radio" name="error-handling-quiz-3" value="C"> `try`</label><br>
                <label><input type="radio" name="error-handling-quiz-3" value="D"> `throw`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('error-handling-quiz-3', 'D')">Check Answer</button>
            <div class="feedback" id="feedback-error-handling-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-error-handling-4">
            <p><strong>4. Which block in a `try...catch...finally` statement is always executed?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="error-handling-quiz-4" value="A"> `try`</label><br>
                <label><input type="radio" name="error-handling-quiz-4" value="B"> `catch`</label><br>
                <label><input type="radio" name="error-handling-quiz-4" value="C"> `finally`</label><br>
                <label><input type="radio" name="error-handling-quiz-4" value="D"> None of the above</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('error-handling-quiz-4', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-error-handling-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-error-handling-5">
            <p><strong>5. What type of error occurs when you try to access a variable that has not been declared?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="error-handling-quiz-5" value="A"> `TypeError`</label><br>
                <label><input type="radio" name="error-handling-quiz-5" value="B"> `SyntaxError`</label><br>
                <label><input type="radio" name="error-handling-quiz-5" value="C"> `ReferenceError`</label><br>
                <label><input type="radio" name="error-handling-quiz-5" value="D"> `RangeError`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('error-handling-quiz-5', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-error-handling-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="modules" class="lesson-section">
    <h2 class="lesson-title">Modules in JavaScript</h2>
    <div class="lesson-content">
        <p>As JavaScript applications grow larger and more complex, organizing code becomes increasingly important. Modules provide a way to break down your code into smaller, self-contained files, each with its own scope. This helps prevent naming conflicts in the global scope, improves code organization, and makes it easier to manage dependencies between different parts of your application.</p>
        <p>JavaScript's native module system, introduced in ECMAScript 2015 (ES6), uses the <code>import</code> and <code>export</code> keywords to explicitly share functionality between files. This section will guide you through creating and consuming modules using these keywords.</p>

        <h3>Exporting Functionality</h3>
        <p>The <code>export</code> keyword is used within a module file to specify which variables, functions, classes, or other values should be accessible from outside that module.</p>

        <h4>Named Exports</h4>
        <p>You can export multiple distinct items from a module using named exports. When importing these items in another file, you must refer to them by their exact names (or use aliasing).</p>
        <pre><code class="language-javascript">// In a file named 'utils.js'

// Exporting a constant
export const APP_VERSION = '1.0.0';

// Exporting a function
export function capitalizeString(str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
}

// Exporting a class
export class DataProcessor {
  process(data) {
    console.log('Processing data:', data);
  }
}

// You can also export multiple items together at the end:
const secretKey = 'abc123'; // Not exported
const publicMethod = () => console.log('This is public');
const privateMethod = () => console.log('This is private'); // Not exported

export { publicMethod }; // Exporting a specific variable/function
</code></pre>

        <h4>Default Exports</h4>
        <p>Each module can have at most one default export. This is typically used to export the main entity or functionality that the module provides. When importing a default export, you can give it any name you choose.</p>
        <pre><code class="language-javascript">// In a file named 'config.js'

const defaultConfig = {
  apiUrl: 'https://api.example.com',
  timeout: 5000
};

// Exporting defaultConfig as the default export
export default defaultConfig;

// You can also export a function or class as default:
// export default function() { console.log('Default function'); }
// export default class AppConfig { ... }
</code></pre>

        <h3>Importing Functionality</h3>
        <p>The <code>import</code> keyword is used in a module file to access the functionality that has been exported from other modules.</p>

        <h4>Named Imports</h4>
        <p>To import named exports, you use curly braces `{}` around the names of the items you want to import, matching the names used in the `export` statement.</p>
        <pre><code class="language-javascript">// In your main application file (e.g., 'main.js')

// Importing specific named exports from 'utils.js'
import { APP_VERSION, capitalizeString } from './utils.js'; // Path is relative

console.log('App Version:', APP_VERSION); // Output: App Version: 1.0.0
console.log(capitalizeString('hello')); // Output: Hello

// Importing with an alias
import { DataProcessor as Processor } from './utils.js';
const myProcessor = new Processor();
myProcessor.process('some data'); // Output: Processing data: some data
</code></pre>

        <h4>Importing Default Exports</h4>
        <p>To import a default export, you use the `import` keyword followed by the name you want to assign to the imported value (without curly braces).</p>
        <pre><code class="language-javascript">// In your main application file (e.g., 'main.js')

// Importing the default export from 'config.js'
import appConfig from './config.js'; // 'appConfig' can be any name

console.log('API URL:', appConfig.apiUrl); // Output: API URL: https://api.example.com
</code></pre>

        <h4>Importing Everything as an Object</h4>
        <p>You can import all named exports from a module into a single object using the `import * as name` syntax.</p>
        <pre><code class="language-javascript">// In your main application file (e.g., 'main.js')

// Importing all named exports from 'utils.js' into an object called 'Utilities'
import * as Utilities from './utils.js';

console.log('Version from Utilities:', Utilities.APP_VERSION); // Output: Version from Utilities: 1.0.0
Utilities.publicMethod(); // Output: This is public
// Utilities.privateMethod(); // Error: privateMethod is not defined
</code></pre>

        <h3>Using Modules in the Browser</h3>
        <p>To enable the JavaScript module system in a web browser, you need to include your main script file using a <code>&lt;script&gt;</code> tag with the attribute <code>type="module"</code>.</p>
        <pre><code class="language-html">&lt;!-- In your HTML file (e.g., 'index.html') --&gt;
&lt;script type="module" src="./main.js"&gt;&lt;/script&gt;
</code></pre>
        <p>When using <code>type="module"</code>, the browser treats the script and any imported scripts as modules. Note that:</p>
        <ul>
            <li>Module scripts are deferred by default (they don't block HTML parsing).</li>
            <li>Module scripts are executed in strict mode automatically.</li>
            <li>You typically need to specify the relative or absolute path to the module file, including the file extension (e.g., `./main.js`).</li>
            <li>For production environments with many modules, you would commonly use a module bundler (like Webpack, Parcel, or Rollup) to combine and optimize your module files.</li>
        </ul>


        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Modules Playground</span>
                    <button class="run-btn" onclick="runCode('modules-code', 'modules-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('modules-code')">Reset</button>
                </div>
                <textarea class="code-input" id="modules-code">// This playground is limited to a single file, so it cannot fully
// simulate multi-file module imports/exports directly.
// However, you can use it to practice the syntax and see how
// console.log statements would behave if the imports were successful.

// --- Practice Syntax Below ---

// Example: Imagine this is 'data.js'
// export const userData = { name: 'Guest', id: 0 };
// export function getUser() { return userData; }

// Example: Imagine this is 'app.js' importing from 'data.js'
// import { userData, getUser } from './data.js';
// console.log(userData);
// console.log(getUser());

// --- Your Syntax Practice Area ---

// Practice exporting a constant:
// export const MAX_ITEMS = 50;

// Practice exporting a function:
// export function processItem(item) {
//   console.log('Processing:', item);
// }

// Practice a default export:
// const appSettings = { theme: 'dark' };
// export default appSettings;

// Practice importing named exports:
// import { MAX_ITEMS, processItem } from './myModule.js';
// console.log(MAX_ITEMS);

// Practice importing a default export:
// import settings from './settings.js';
// console.log(settings.theme);

console.log("Module syntax practice area.");

</textarea>
            </div>
            <div class="simulation-visual" id="modules-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="modules-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Modules Challenge</h3>
        <p class="exercise-instruction">Use the playground (keeping in mind its single-file limitation) to write out the syntax for exporting and importing:</p>
        <ol>
            <li>Write the syntax for exporting a constant named `MAX_RETRIES` using a named export.</li>
            <li>Write the syntax for exporting a function expression named `formatDate` using a named export.</li>
            <li>Write the syntax for exporting an object literal as the default export.</li>
            <li>Write the syntax for importing `MAX_RETRIES` and `formatDate` using a single named import statement.</li>
            <li>Write the syntax for importing the default export and naming it `appConfiguration`.</li>
        </ol>
        <button class="check-btn" onclick="checkModulesExercise()">Check Solution</button>
         <div class="feedback" id="feedback-modules-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Modules Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-modules-1">
            <p><strong>1. What is the primary benefit of using JavaScript modules?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="modules-quiz-1" value="A"> They make your code run faster.</label><br>
                <label><input type="radio" name="modules-quiz-1" value="B"> They automatically handle asynchronous operations.</label><br>
                <label><input type="radio" name="modules-quiz-1" value="C"> They help organize code and prevent global scope pollution.</label><br>
                <label><input type="radio" name="modules-quiz-1" value="D"> They are only used for front-end development.</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('modules-quiz-1', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-modules-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-modules-2">
            <p><strong>2. Which keyword is used to make specific parts of a module accessible from other files?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="modules-quiz-2" value="A"> `import`</label><br>
                <label><input type="radio" name="modules-quiz-2" value="B"> `export`</label><br>
                <label><input type="radio" name="modules-quiz-2" value="C"> `require`</label><br>
                <label><input type="radio" name="modules-quiz-2" value="D"> `include`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('modules-quiz-2', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-modules-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-modules-3">
            <p><strong>3. How do you import a named export called `utilityFunction` from a file named `helpers.js`?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="modules-quiz-3" value="A"> `import utilityFunction from './helpers.js';`</label><br>
                <label><input type="radio" name="modules-quiz-3" value="B"> `import { utilityFunction } from './helpers.js';`</label><br>
                <label><input type="radio" name="modules-quiz-3" value="C"> `import * as helpers from './helpers.js';`</label><br>
                <label><input type="radio" name="modules-quiz-3" value="D"> `require('./helpers.js').utilityFunction;`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('modules-quiz-3', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-modules-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-modules-4">
            <p><strong>4. A module can have how many default exports?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="modules-quiz-4" value="A"> Zero or one</label><br>
                <label><input type="radio" name="modules-quiz-4" value="B"> Exactly one</label><br>
                <label><input type="radio" name="modules-quiz-4" value="C"> Any number</label><br>
                <label><input type="radio" name="modules-quiz-4" value="D"> Zero or more</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('modules-quiz-4', 'A')">Check Answer</button>
            <div class="feedback" id="feedback-modules-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-modules-5">
            <p><strong>5. What HTML attribute is required on a `&lt;script&gt;` tag to load a JavaScript file as a module in the browser?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="modules-quiz-5" value="A"> `src`</label><br>
                <label><input type="radio" name="modules-quiz-5" value="B"> `type="text/javascript"`</label><br>
                <label><input type="radio" name="modules-quiz-5" value="C"> `defer`</label><br>
                <label><input type="radio" name="modules-quiz-5" value="D"> `type="module"`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('modules-quiz-5', 'D')">Check Answer</button>
            <div class="feedback" id="feedback-modules-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="classes" class="lesson-section">
    <h2 class="lesson-title">Classes in JavaScript</h2>
    <div class="lesson-content">
        <p>Introduced in ECMAScript 2015 (ES6), JavaScript classes are a syntactic sugar over JavaScript's existing prototype-based inheritance. They provide a cleaner and more structured way to create objects and handle inheritance, making the code look more similar to class-based languages like Java or Python.</p>
        <p>While classes don't change the underlying prototypal inheritance model, they offer a more intuitive syntax for defining constructors, methods, and handling inheritance. This section will guide you through defining classes, creating instances, and implementing inheritance.</p>

        <h3>Defining Classes</h3>
        <p>Classes are defined using the `class` keyword, followed by the class name (conventionally capitalized) and a block of code enclosed in curly braces `{}`.</p>
        <pre><code class="language-javascript">// Class declaration
class Person {
  // Class body
}

// Class expression (less common)
const Animal = class {
  // Class body
};
</code></pre>
        <p>Class declarations are not hoisted in the same way as function declarations. You must declare a class before you can use it.</p>

        <h3>The `constructor` Method</h3>
        <p>The `constructor` is a special method within a class that is executed when a new object (an instance) is created from the class. It's typically used to initialize the object's properties.</p>
        <pre><code class="language-javascript">class Person {
  constructor(name, age) {
    this.name = name; // 'this' refers to the new instance being created
    this.age = age;
  }
}

// Creating an instance of the Person class
const person1 = new Person("Alice", 30);
console.log(person1.name); // Output: Alice
console.log(person1.age);  // Output: 30
</code></pre>
        <p>A class can have only one `constructor` method. If you don't define a constructor, JavaScript provides a default empty one.</p>

        <h3>Adding Methods</h3>
        <p>Methods are functions defined within the class body. They represent the behaviors or actions that objects created from the class can perform.</p>
        <pre><code class="language-javascript">class Dog {
  constructor(name, breed) {
    this.name = name;
    this.breed = breed;
  }

  // Method definition
  bark() {
    console.log(`${this.name} says Woof!`);
  }

  // Another method
  getDetails() {
    return `${this.name} is a ${this.breed}.`;
  }
}

const myDog = new Dog("Buddy", "Golden Retriever");
myDog.bark(); // Output: Buddy says Woof!
console.log(myDog.getDetails()); // Output: Buddy is a Golden Retriever.
</code></pre>
        <p>Inside class methods, the `this` keyword refers to the instance of the class on which the method is called.</p>

        <h3>Inheritance (`extends` and `super`)</h3>
        <p>Classes support inheritance using the `extends` keyword. A class can extend another class (the parent or superclass) to inherit its properties and methods. The `super` keyword is used within the constructor and methods of a child class to refer to the parent class.</p>
        <pre><code class="language-javascript">class Animal {
  constructor(name) {
    this.name = name;
  }

  speak() {
    console.log(`${this.name} makes a sound.`);
  }
}

// Cat class inherits from Animal
class Cat extends Animal {
  constructor(name, color) {
    // Call the parent class constructor using super()
    super(name);
    this.color = color;
  }

  // Override the speak method
  speak() {
    console.log(`${this.name} says Meow!`);
  }

  // New method specific to Cat
  getColor() {
    return `${this.name} is ${this.color}.`;
  }
}

const myCat = new Cat("Whiskers", "gray");
myCat.speak();     // Output: Whiskers says Meow! (Overridden method)
console.log(myCat.getColor()); // Output: Whiskers is gray.
// myCat.speak(); // If speak wasn't overridden, it would use Animal's speak()
</code></pre>
        <p>When a child class has a constructor, it *must* call `super()` before using `this`. `super()` calls the constructor of the parent class.</p>

        <h3>Static Methods</h3>
        <p>Static methods are methods that belong to the class itself, not to any specific instance of the class. They are defined using the `static` keyword and are typically used for utility functions or methods that don't rely on instance-specific data.</p>
        <pre><code class="language-javascript">class MathHelper {
  static add(a, b) {
    return a + b;
  }

  static multiply(a, b) {
    return a * b;
  }
}

// Call static methods directly on the class
console.log(MathHelper.add(5, 7)); // Output: 12
// const helper = new MathHelper();
// helper.add(2, 3); // Error: helper.add is not a function
</code></pre>

        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Classes Playground</span>
                    <button class="run-btn" onclick="runCode('classes-code', 'classes-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('classes-code')">Reset</button>
                </div>
                <textarea class="code-input" id="classes-code">// Experiment with defining and using classes here!

// Define a simple class
class Car {
  constructor(make, model) {
    this.make = make;
    this.model = model;
  }

  displayInfo() {
    console.log(`Car: ${this.make} ${this.model}`);
  }
}

// Create an instance
const myCar = new Car("Honda", "Civic");
myCar.displayInfo(); // Call a method

console.log("---");

// Define a class with inheritance
class ElectricCar extends Car {
  constructor(make, model, batteryRange) {
    super(make, model); // Call parent constructor
    this.batteryRange = batteryRange;
  }

  displayInfo() {
    // Override parent method
    super.displayInfo(); // Call parent's displayInfo
    console.log(`Range: ${this.batteryRange} miles`);
  }

  charge() {
    console.log("Charging...");
  }
}

const myElectricCar = new ElectricCar("Tesla", "Model 3", 300);
myElectricCar.displayInfo(); // Calls the overridden method
myElectricCar.charge(); // Calls a new method

</textarea>
            </div>
            <div class="simulation-visual" id="classes-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="classes-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Classes Challenge</h3>
        <p class="exercise-instruction">Use the playground to define a simple `Rectangle` class with a constructor that takes `width` and `height` and a method `getArea()` that returns the area. Then, create an instance of the class and call the `getArea()` method:</p>
        <ol>
            <li>Define a class named `Rectangle`.</li>
            <li>Inside the class, create a `constructor` that accepts two parameters: `width` and `height`.</li>
            <li>Inside the constructor, assign the `width` and `height` parameters to properties of the same name using `this`.</li>
            <li>Add a method named `getArea` to the class. This method should return the product of `this.width` and `this.height`.</li>
            <li>Outside the class definition, create a new instance of `Rectangle` with a width of 10 and a height of 5. Store it in a variable named `myRectangle`.</li>
            <li>Call the `getArea()` method on `myRectangle` and log the result to the terminal using `console.log()`.</li>
        </ol>
        <button class="check-btn" onclick="checkClassesExercise()">Check Solution</button>
         <div class="feedback" id="feedback-classes-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Classes Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-classes-1">
            <p><strong>1. Which keyword is used to define a class in JavaScript?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="classes-quiz-1" value="A"> `function`</label><br>
                <label><input type="radio" name="classes-quiz-1" value="B"> `object`</label><br>
                <label><input type="radio" name="classes-quiz-1" value="C"> `class`</label><br>
                <label><input type="radio" name="classes-quiz-1" value="D"> `type`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('classes-quiz-1', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-classes-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-classes-2">
            <p><strong>2. What is the name of the special method used to initialize object properties when a new instance is created?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="classes-quiz-2" value="A"> `init`</label><br>
                <label><input type="radio" name="classes-quiz-2" value="B"> `start`</label><br>
                <label><input type="radio" name="classes-quiz-2" value="C"> `constructor`</label><br>
                <label><input type="radio" name="classes-quiz-2" value="D"> `setup`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('classes-quiz-2', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-classes-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-classes-3">
            <p><strong>3. Which keyword is used to create a new instance of a class?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="classes-quiz-3" value="A"> `create`</label><br>
                <label><input type="radio" name="classes-quiz-3" value="B"> `instanceof`</label><br>
                <label><input type="radio" name="classes-quiz-3" value="C"> `new`</label><br>
                <label><input type="radio" name="classes-quiz-3" value="D"> `this`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('classes-quiz-3', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-classes-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-classes-4">
            <p><strong>4. Which keyword is used to create a class that inherits from another class?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="classes-quiz-4" value="A"> `implements`</label><br>
                <label><input type="radio" name="classes-quiz-4" value="B"> `inherits`</label><br>
                <label><input type="radio" name="classes-quiz-4" value="C"> `extends`</label><br>
                <label><input type="radio" name="classes-quiz-4" value="D"> `uses`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('classes-quiz-4', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-classes-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-classes-5">
            <p><strong>5. In a child class constructor, what keyword is used to call the parent class's constructor?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="classes-quiz-5" value="A"> `this`</label><br>
                <label><input type="radio" name="classes-quiz-5" value="B"> `parent`</label><br>
                <label><input type="radio" name="classes-quiz-5" value="C"> `super`</label><br>
                <label><input type="radio" name="classes-quiz-5" value="D"> `base`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('classes-quiz-5', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-classes-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="closures" class="lesson-section">
    <h2 class="lesson-title">Closures in JavaScript</h2>
    <div class="lesson-content">
        <p>Closures are one of the most powerful and often misunderstood concepts in JavaScript. At its core, a closure is the combination of a function bundled together (enclosed) with references to its surrounding state (the lexical environment). In simpler terms, a closure gives you access to an outer function's scope from an inner function.</p>
        <p>Closures are created every time a function is created, at function creation time. They allow a function to "remember" the environment in which it was created, even if that environment is no longer physically present in the code execution flow.</p>
        <p>Understanding closures is key to mastering advanced JavaScript patterns, such as module patterns, private variables, and working with asynchronous code.</p>

        <h3>How Closures Work</h3>
        <p>When a function is defined inside another function, the inner function has access to the variables and parameters of the outer function, even after the outer function has finished executing. This is because the inner function maintains a reference to the outer function's lexical environment.</p>
        <pre><code class="language-javascript">function createCounter() {
  let count = 0; // This is part of createCounter's lexical environment

  // The inner function (the closure)
  function increment() {
    count++; // Accessing 'count' from the outer scope
    console.log(count);
  }

  return increment; // Return the inner function
}

const counter1 = createCounter(); // counter1 is now the increment function
const counter2 = createCounter(); // counter2 is a *new* increment function with its own 'count'

counter1(); // Output: 1
counter1(); // Output: 2

counter2(); // Output: 1 (starts its own count)
counter2(); // Output: 2
</code></pre>
        <p>In this example, the `increment` function forms a closure over the `count` variable from the `createCounter` function's scope. Even after `createCounter` finishes executing, the `increment` function retains access to `count`. Each call to `createCounter` creates a new lexical environment and a new `count` variable, resulting in independent counters.</p>

        <h3>Practical Uses of Closures</h3>
        <p>Closures have many practical applications:</p>
        <ul>
            <li><strong>Data Privacy/Encapsulation:</strong> Creating private variables and methods.</li>
            <li><strong>Module Pattern:</strong> Organizing code into self-contained units.</li>
            <li><strong>Partial Application and Currying:</strong> Creating new functions from existing ones with some arguments pre-filled.</li>
            <li><strong>Event Handlers:</strong> Allowing event handlers to access variables from their surrounding scope.</li>
            <li><strong>Working with Asynchronous Operations:</strong> Maintaining access to variables after an asynchronous task completes.</li>
        </ul>

        <h4>Example: Private Variables</h4>
        <p>Closures can be used to create private variables that cannot be accessed directly from outside the function, but can be accessed and modified by inner functions.</p>
        <pre><code class="language-javascript">function createPerson(name) {
  let _name = name; // Private variable (conventionally prefixed with _)

  return {
    getName: function() {
      return _name; // Inner function can access _name
    },
    setName: function(newName) {
      _name = newName; // Inner function can modify _name
    }
  };
}

const person = createPerson("Charlie");
console.log(person.getName()); // Output: Charlie
// console.log(person._name); // Output: undefined (cannot access directly)

person.setName("David");
console.log(person.getName()); // Output: David
</code></pre>

        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Closures Playground</span>
                    <button class="run-btn" onclick="runCode('closures-code', 'closures-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('closures-code')">Reset</button>
                </div>
                <textarea class="code-input" id="closures-code">// Experiment with creating and using closures here!

// Create a function that returns a function
function multiplier(factor) {
  return function(number) {
    return number * factor;
  };
}

// Create new functions using the multiplier closure
const double = multiplier(2);
const triple = multiplier(3);

console.log("Double 5:", double(5)); // Output: Double 5: 10
console.log("Triple 5:", triple(5)); // Output: Triple 5: 15

// Try creating another closure, maybe a simple logger factory!
// function createLogger(prefix) {
//   return function(message) {
//     console.log(prefix + ": " + message);
//   };
// }
// const errorLogger = createLogger("ERROR");
// errorLogger("Something went wrong!");

</textarea>
            </div>
            <div class="simulation-visual" id="closures-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="closures-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Closures Challenge</h3>
        <p class="exercise-instruction">Use the playground to create a function factory that generates simple greeting functions. The factory function should take a greeting phrase (e.g., "Hello", "Hi") as an argument and return a function that takes a name and logs the combined greeting:</p>
        <ol>
            <li>Define a function `createGreetingFactory` that accepts one parameter: `greetingPhrase`.</li>
            <li>Inside `createGreetingFactory`, return another function. This inner function should accept one parameter: `name`.</li>
            <li>Inside the inner function, use `console.log()` to print the `greetingPhrase` (from the outer scope) followed by the `name` parameter (e.g., "Hello, Alice!").</li>
            <li>Outside the factory function, create two new greeting functions using the factory, one for "Hello" and one for "Hi".</li>
            <li>Call each of the created greeting functions with a different name and observe the output in the terminal.</li>
        </ol>
        <button class="check-btn" onclick="checkClosuresExercise()">Check Solution</button>
         <div class="feedback" id="feedback-closures-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Closures Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-closures-1">
            <p><strong>1. What is a closure in JavaScript?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="closures-quiz-1" value="A"> A type of loop</label><br>
                <label><input type="radio" name="closures-quiz-1" value="B"> A combination of a function and its surrounding state</label><br>
                <label><input type="radio" name="closures-quiz-1" value="C"> A way to declare global variables</label><br>
                <label><input type="radio" name="closures-quiz-1" value="D"> A method for styling elements</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('closures-quiz-1', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-closures-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-closures-2">
            <p><strong>2. When is a closure created?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="closures-quiz-2" value="A"> When a variable is declared</label><br>
                <label><input type="radio" name="closures-quiz-2" value="B"> Every time a function is created</label><br>
                <label><input type="radio" name="closures-quiz-2" value="C"> When a loop finishes executing</label><br>
                <label><input type="radio" name="closures-quiz-2" value="D"> Only when using the `new` keyword</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('closures-quiz-2', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-closures-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-closures-3">
            <p><strong>3. What does a closure allow an inner function to access?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="closures-quiz-3" value="A"> Only global variables</label><br>
                <label><input type="radio" name="closures-quiz-3" value="B"> Variables and parameters of the outer function's scope</label><br>
                <label><input type="radio" name="closures-quiz-3" value="C"> Variables from any other function in the program</label><br>
                <label><input type="radio" name="closures-quiz-3" value="D"> Only variables declared with `var`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('closures-quiz-3', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-closures-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-closures-4">
            <p><strong>4. Which of the following is a common use case for closures?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="closures-quiz-4" value="A"> Performing mathematical calculations</label><br>
                <label><input type="radio" name="closures-quiz-4" value="B"> Creating private variables and methods</label><br>
                <label><input type="radio" name="closures-quiz-4" value="C"> Defining HTML structure</label><br>
                <label><input type="radio" name="closures-quiz-4" value="D"> Styling CSS properties</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('closures-quiz-4', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-closures-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-closures-5">
            <p><strong>5. In the `createCounter` example, why do `counter1` and `counter2` have independent counts?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="closures-quiz-5" value="A"> Because they are declared with `const`</label><br>
                <label><input type="radio" name="closures-quiz-5" value="B"> Because each call to `createCounter` creates a new lexical environment and `count` variable for the returned function</label><br>
                <label><input type="radio" name="closures-quiz-5" value="C"> Because the `increment` function is hoisted</label><br>
                <label><input type="radio" name="closures-quiz-5" value="D"> Because they are global variables</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('closures-quiz-5', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-closures-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="hoisting" class="lesson-section">
    <h2 class="lesson-title">Hoisting in JavaScript</h2>
    <div class="lesson-content">
        <p>Hoisting is a JavaScript mechanism where variable and function declarations are moved to the top of their containing scope during the compilation phase, *before* the code is executed. This means you can use variables and call functions before they are declared in your code.</p>
        <p>However, it's important to understand that only the *declarations* are hoisted, not the *initializations* or *assignments*. The behavior of hoisting differs slightly between variables declared with `var`, `let`, and `const`, and function declarations vs. function expressions.</p>

        <h3>Hoisting with `var`</h3>
        <p>Variables declared with `var` are hoisted to the top of their function or global scope. When hoisted, they are initialized with the value `undefined`.</p>
        <pre><code class="language-javascript">console.log(myVar); // Output: undefined
var myVar = 10;
console.log(myVar); // Output: 10

// This is what the engine conceptually does:
// var myVar; // Declaration is hoisted and initialized to undefined
// console.log(myVar);
// myVar = 10; // Assignment stays in place
// console.log(myVar);
</code></pre>
        <p>While this behavior is part of JavaScript, relying on `var` hoisting can sometimes lead to confusion and unexpected bugs, which is one reason `let` and `const` were introduced.</p>

        <h3>Hoisting with `let` and `const`</h3>
        <p>Variables declared with `let` and `const` are also hoisted, but unlike `var`, they are *not* initialized. They are placed in a "Temporal Dead Zone" (TDZ) from the start of their block scope until their declaration is encountered. Attempting to access a `let` or `const` variable before its declaration results in a `ReferenceError`.</p>
        <pre><code class="language-javascript">// console.log(myLet); // ReferenceError: Cannot access 'myLet' before initialization
let myLet = 20;
console.log(myLet); // Output: 20

// console.log(myConst); // ReferenceError: Cannot access 'myConst' before initialization
const myConst = 30;
console.log(myConst); // Output: 30
</code></pre>
        <p>This TDZ behavior makes `let` and `const` safer in terms of preventing accidental usage before declaration, promoting better code clarity.</p>

        <h3>Hoisting with Function Declarations</h3>
        <p>Function declarations are fully hoisted to the top of their scope. This means you can call a function declaration before it appears in the code.</p>
        <pre><code class="language-javascript">myFunction(); // Output: Hello from function declaration!

function myFunction() {
  console.log("Hello from function declaration!");
}
</code></pre>

        <h3>Hoisting with Function Expressions</h3>
        <p>Function expressions (including arrow functions) are treated like variable declarations when it comes to hoisting. The variable holding the function is hoisted (initialized to `undefined` if using `var`, or in the TDZ if using `let` or `const`), but the function definition itself is not hoisted.</p>
        <pre><code class="language-javascript">// myFuncExpression(); // TypeError: myFuncExpression is not a function (if using var)
                            // ReferenceError: Cannot access 'myFuncExpression' before initialization (if using let/const)

var myFuncExpression = function() {
  console.log("Hello from function expression!");
};

myFuncExpression(); // Output: Hello from function expression!

// myArrowFunc(); // ReferenceError: Cannot access 'myArrowFunc' before initialization

const myArrowFunc = () => {
  console.log("Hello from arrow function!");
};

myArrowFunc(); // Output: Hello from arrow function!
</code></pre>
        <p>This is why it's generally recommended to declare functions (especially if they are function expressions) before calling them to avoid unexpected errors.</p>

        <h3>Best Practices</h3>
        <p>While understanding hoisting is important, it's a good practice to declare all your variables and functions at the top of their scope (or before they are used) to make your code easier to read and avoid potential hoisting-related issues.</p>

        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Hoisting Playground</span>
                    <button class="run-btn" onclick="runCode('hoisting-code', 'hoisting-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('hoisting-code')">Reset</button>
                </div>
                <textarea class="code-input" id="hoisting-code">// Experiment with hoisting here!

// Try calling a var variable before its declaration
console.log("Value of varVariable:", varVariable);
var varVariable = "I am a var";
console.log("Value of varVariable after declaration:", varVariable);

console.log("---");

// Try calling a let variable before its declaration (will cause an error if uncommented)
// console.log("Value of letVariable:", letVariable);
let letVariable = "I am a let";
console.log("Value of letVariable after declaration:", letVariable);

console.log("---");

// Try calling a function declaration before its definition
hoistedFunction();
function hoistedFunction() {
  console.log("This function is hoisted!");
}

console.log("---");

// Try calling a function expression before its definition (will cause an error if uncommented)
// nonHoistedFunction();
var nonHoistedFunction = function() {
  console.log("This function expression is not fully hoisted!");
};
nonHoistedFunction();

</textarea>
            </div>
            <div class="simulation-visual" id="hoisting-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="hoisting-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Hoisting Challenge</h3>
        <p class="exercise-instruction">Use the playground to demonstrate the hoisting behavior of `var` and a function declaration:</p>
        <ol>
            <li>Before declaring it, use `console.log()` to print the value of a variable named `hoistedVarExample` declared with `var`.</li>
            <li>Declare `hoistedVarExample` using `var` and assign it a string value (e.g., "I am hoisted").</li>
            <li>After the declaration, use `console.log()` to print the value again.</li>
            <li>Before defining it, call a function named `callMeEarly()`.</li>
            <li>Define the `callMeEarly()` function using a function declaration that logs a message (e.g., "This function was called before its definition!").</li>
        </ol>
        <button class="check-btn" onclick="checkHoistingExercise()">Check Solution</button>
         <div class="feedback" id="feedback-hoisting-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Hoisting Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-hoisting-1">
            <p><strong>1. What is hoisted in JavaScript?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="hoisting-quiz-1" value="A"> Only variable assignments</label><br>
                <label><input type="radio" name="hoisting-quiz-1" value="B"> Only function calls</label><br>
                <label><input type="radio" name="hoisting-quiz-1" value="C"> Variable and function declarations</label><br>
                <label><input type="radio" name="hoisting-quiz-1" value="D"> All code in the script</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('hoisting-quiz-1', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-hoisting-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-hoisting-2">
            <p><strong>2. What is the initial value of a `var` variable when it is hoisted?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="hoisting-quiz-2" value="A"> `null`</label><br>
                <label><input type="radio" name="hoisting-quiz-2" value="B"> `0`</label><br>
                <label><input type="radio" name="hoisting-quiz-2" value="C"> `undefined`</label><br>
                <label><input type="radio" name="hoisting-quiz-2" value="D"> An empty string `""`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('hoisting-quiz-2', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-hoisting-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-hoisting-3">
            <p><strong>3. What happens if you try to access a `let` or `const` variable before its declaration?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="hoisting-quiz-3" value="A"> It will have the value `undefined`</label><br>
                <label><input type="radio" name="hoisting-quiz-3" value="B"> It will cause a `ReferenceError`</label><br>
                <label><input type="radio" name="hoisting-quiz-3" value="C"> It will cause a `TypeError`</label><br>
                <label><input type="radio" name="hoisting-quiz-3" value="D"> It will work normally due to hoisting</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('hoisting-quiz-3', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-hoisting-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-hoisting-4">
            <p><strong>4. Are function declarations hoisted?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="hoisting-quiz-4" value="A"> No, never</label><br>
                <label><input type="radio" name="hoisting-quiz-4" value="B"> Yes, fully hoisted</label><br>
                <label><input type="radio" name="hoisting-quiz-4" value="C"> Only their names are hoisted</label><br>
                <label><input type="radio" name="hoisting-quiz-4" value="D"> Only in strict mode</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('hoisting-quiz-4', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-hoisting-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-hoisting-5">
            <p><strong>5. Which of the following is NOT fully hoisted like a function declaration?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="hoisting-quiz-5" value="A"> `function myFunc() { ... }`</label><br>
                <label><input type="radio" name="hoisting-quiz-5" value="B"> `const myArrowFunc = () => { ... }`</label><br>
                <label><input type="radio" name="hoisting-quiz-5" value="C"> Both A and B are fully hoisted</label><br>
                <label><input type="radio" name="hoisting-quiz-5" value="D"> Neither A nor B are fully hoisted</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('hoisting-quiz-5', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-hoisting-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="event-loop" class="lesson-section">
    <h2 class="lesson-title">The JavaScript Event Loop</h2>
    <div class="lesson-content">
        <p>JavaScript is a single-threaded language, meaning it can only execute one task at a time. This might seem limiting, especially when dealing with time-consuming operations like fetching data from a server or reading files. If JavaScript had to wait for these operations to complete before moving on, the browser would freeze, leading to a poor user experience.</p>
        <p>This is where the **Event Loop** comes in. The Event Loop is a crucial part of JavaScript's concurrency model, working with the **Call Stack**, **Web APIs**, and **Callback Queue** (also known as the Task Queue) to handle asynchronous operations without blocking the main thread.</p>

        <h3>Understanding the Components</h3>
        <p>Let's break down the key components involved:</p>
        <ul>
            <li><strong>Call Stack:</strong> This is where synchronous JavaScript code is executed. When a function is called, it's added to the top of the stack. When a function returns, it's removed from the stack. JavaScript can only process one function call at a time on the call stack.</li>
            <li><strong>Web APIs:</strong> These are APIs provided by the browser environment (or Node.js environment) that handle asynchronous tasks. Examples include `setTimeout()`, `setInterval()`, `fetch()`, DOM events (like clicks), and `XMLHttpRequest`. When an asynchronous function is called, it's passed to the relevant Web API.</li>
            <li><strong>Callback Queue (Task Queue):</strong> When a Web API finishes its asynchronous task, the associated callback function is placed in the Callback Queue. This queue holds functions that are ready to be executed.</li>
            <li><strong>Event Loop:</strong> This is the mechanism that constantly monitors the Call Stack and the Callback Queue. If the Call Stack is empty (meaning the main thread is not busy executing synchronous code), the Event Loop takes the first function from the Callback Queue and pushes it onto the Call Stack for execution.</li>
        </ul>

        <h3>How it Works: A Simplified Flow</h3>
        <ol>
            <li>Synchronous code is executed on the Call Stack.</li>
            <li>When an asynchronous function (like `setTimeout`) is encountered, it's passed to the appropriate Web API. The asynchronous function call is then removed from the Call Stack, and the Call Stack is free to execute the next piece of code.</li>
            <li>The Web API handles the asynchronous task in the background (e.g., waiting for the timer to expire, waiting for data to arrive).</li>
            <li>Once the asynchronous task is complete, the Web API places the associated callback function into the Callback Queue.</li>
            <li>The Event Loop continuously checks if the Call Stack is empty.</li>
            <li>If the Call Stack is empty, the Event Loop takes the first callback from the Callback Queue and pushes it onto the Call Stack.</li>
            <li>The callback function is then executed on the Call Stack.</li>
        </ol>
        <p>This process allows JavaScript to perform asynchronous operations without blocking the main thread, ensuring a smooth user experience.</p>

        <h3>Example: `setTimeout` and the Event Loop</h3>
        <pre><code class="language-javascript">console.log("Start"); // 1. Sync code, goes to Call Stack, executes, removed.

setTimeout(function() {
  console.log("Inside setTimeout callback"); // 3. This callback goes to the Callback Queue after 0ms.
}, 0); // 2. setTimeout is a Web API. The callback is passed to the API. setTimeout call removed from stack.

console.log("End"); // 4. Sync code, goes to Call Stack, executes, removed.

// 5. Call Stack is now empty.
// 6. Event Loop checks Callback Queue. Finds the setTimeout callback.
// 7. Event Loop pushes the callback onto the Call Stack.
// 8. Callback executes. console.log runs. Callback removed from stack.
// 9. Call Stack is empty again. Event Loop continues monitoring.

// Expected Output:
// Start
// End
// Inside setTimeout callback
</code></pre>
        <p>Even with a delay of 0ms, the `setTimeout` callback is handled asynchronously. It's passed to the Web API, placed in the Callback Queue, and only executed *after* the current synchronous code (`"Start"` and `"End"`) has finished and the Call Stack is empty.</p>

        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Event Loop Playground</span>
                    <button class="run-btn" onclick="runCode('event-loop-code', 'event-loop-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('event-loop-code')">Reset</button>
                </div>
                <textarea class="code-input" id="event-loop-code">// Experiment with synchronous and asynchronous code to see the event loop in action!

console.log("Synchronous task 1");

setTimeout(function() {
  console.log("Asynchronous task (from setTimeout)");
}, 1000); // This callback goes to the queue after 1 second

Promise.resolve("Promise resolved!").then(function(result) {
  console.log("Asynchronous task (from Promise):", result);
}); // This callback goes to the Microtask Queue (higher priority than Callback Queue)

console.log("Synchronous task 2");

// The order of output demonstrates the event loop's behavior:
// Sync tasks first, then Microtasks (Promises), then regular Tasks (setTimeout).

</textarea>
            </div>
            <div class="simulation-visual" id="event-loop-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="event-loop-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Event Loop Challenge</h3>
        <p class="exercise-instruction">Use the playground to demonstrate the order of execution with `console.log` and `setTimeout`:</p>
        <ol>
            <li>Add a `console.log("First message");` at the beginning of the script.</li>
            <li>Add a `setTimeout` call with a callback function that logs "Message from setTimeout (0ms delay)" and a delay of 0 milliseconds.</li>
            <li>Add a `console.log("Second message");` after the `setTimeout` call.</li>
            <li>Run the code and observe the order of the messages in the terminal. Explain why the message from `setTimeout` appears last.</li>
        </ol>
        <button class="check-btn" onclick="checkEventLoopExercise()">Check Solution</button>
         <div class="feedback" id="feedback-event-loop-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Event Loop Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-event-loop-1">
            <p><strong>1. What is the primary role of the JavaScript Event Loop?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="event-loop-quiz-1" value="A"> To execute synchronous code</label><br>
                <label><input type="radio" name="event-loop-quiz-1" value="B"> To manage asynchronous operations without blocking the main thread</label><br>
                <label><input type="radio" name="event-loop-quiz-1" value="C"> To parse HTML and CSS</label><br>
                <label><input type="radio" name="event-loop-quiz-1" value="D"> To handle user input directly</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('event-loop-quiz-1', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-event-loop-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-event-loop-2">
            <p><strong>2. Where is synchronous JavaScript code executed?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="event-loop-quiz-2" value="A"> The Callback Queue</label><br>
                <label><input type="radio" name="event-loop-quiz-2" value="B"> Web APIs</label><br>
                <label><input type="radio" name="event-loop-quiz-2" value="C"> The Call Stack</label><br>
                <label><input type="radio" name="event-loop-quiz-2" value="D"> The Event Loop</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('event-loop-quiz-2', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-event-loop-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-event-loop-3">
            <p><strong>3. What happens to a callback function after a Web API finishes its asynchronous task?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="event-loop-quiz-3" value="A"> It's immediately executed</label><br>
                <label><input type="radio" name="event-loop-quiz-3" value="B"> It's placed in the Call Stack</label><br>
                <label><input type="radio" name="event-loop-quiz-3" value="C"> It's placed in the Callback Queue</label><br>
                <label><input type="radio" name="event-loop-quiz-3" value="D"> It's discarded</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('event-loop-quiz-3', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-event-loop-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-event-loop-4">
            <p><strong>4. When does the Event Loop move a callback from the Callback Queue to the Call Stack?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="event-loop-quiz-4" value="A"> Immediately after the callback is placed in the queue</label><br>
                <label><input type="radio" name="event-loop-quiz-4" value="B"> When the Call Stack is empty</label><br>
                <label><input type="radio" name="event-loop-quiz-4" value="C"> After a fixed time interval</label><br>
                <label><input type="radio" name="event-loop-quiz-4" value="D"> When the user interacts with the page</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('event-loop-quiz-4', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-event-loop-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-event-loop-5">
            <p><strong>5. Is JavaScript a single-threaded or multi-threaded language?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="event-loop-quiz-5" value="A"> Multi-threaded</label><br>
                <label><input type="radio" name="event-loop-quiz-5" value="B"> Single-threaded</label><br>
                <label><input type="radio" name="event-loop-quiz-5" value="C"> It depends on the browser</label><br>
                <label><input type="radio" name="event-loop-quiz-5" value="D"> It is neither single nor multi-threaded</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('event-loop-quiz-5', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-event-loop-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="prototypes" class="lesson-section">
    <h2 class="lesson-title">Prototypes in JavaScript</h2>
    <div class="lesson-content">
        <p>JavaScript is often described as a prototype-based language. While the <code>class</code> syntax provides a more familiar way to work with objects and inheritance, the underlying mechanism is still based on prototypes. Every JavaScript object has a prototype, which is another object that it inherits properties and methods from.</p>
        <p>Understanding prototypes is essential for grasping how inheritance truly works in JavaScript, how built-in objects inherit methods (like array methods or string methods), and how to build more complex object structures.</p>

        <h3>What is a Prototype?</h3>
        <p>When you try to access a property or method on an object, JavaScript first looks for that property directly on the object itself. If it doesn't find it, it looks on the object's prototype. If it's still not found, it looks on the prototype's prototype, and so on, up what's called the **prototype chain**, until it reaches the end of the chain (which is `null`).</p>
        <pre><code class="language-javascript">const animal = {
  eats: true,
  walk() {
    console.log("Animal walks.");
  }
};

const rabbit = {
  jumps: true
};

// Set rabbit's prototype to animal
Object.setPrototypeOf(rabbit, animal);

console.log(rabbit.eats); // Output: true (inherited from animal)
rabbit.walk();          // Output: Animal walks. (inherited from animal)
</code></pre>
        <p>In this example, `rabbit` inherits `eats` and `walk` from `animal` because `animal` is set as `rabbit`'s prototype.</p>

        <h3>The Prototype Chain</h3>
        <p>Most objects in JavaScript inherit from `Object.prototype`. This is the top of the standard prototype chain (except for objects created with `Object.create(null)`). `Object.prototype` contains fundamental methods like `toString()`, `hasOwnProperty()`, etc.</p>
        <pre><code class="language-javascript">const myObject = {}; // Created using object literal

console.log(myObject.toString()); // Output: [object Object] (inherited from Object.prototype)
console.log(myObject.hasOwnProperty('toString')); // Output: false (toString is on the prototype, not the object itself)
console.log(myObject.hasOwnProperty('myProperty')); // Output: false (no such property)
</code></pre>
        <p>The prototype chain for `myObject` looks something like: `myObject` -> `Object.prototype` -> `null`.</p>

        <h3>Accessing and Modifying Prototypes</h3>
        <p>While the `__proto__` property (double underscore) is a common way to access an object's prototype, it is considered a legacy feature and its direct use is discouraged. The standard way to get and set an object's prototype is using `Object.getPrototypeOf()` and `Object.setPrototypeOf()`.</p>
        <pre><code class="language-javascript">const person = { name: "Eva" };
const prototypeOfPerson = Object.getPrototypeOf(person);
console.log(prototypeOfPerson === Object.prototype); // Output: true

const anotherObject = { greet: () => console.log("Hello!") };
// Set anotherObject as person's prototype (less common, but possible)
// Object.setPrototypeOf(person, anotherObject);
// person.greet(); // Output: Hello!
</code></pre>
        <p>Modifying the prototype of an existing object using `Object.setPrototypeOf()` can have performance implications and is generally less common than setting up the prototype chain during object creation (e.g., using constructor functions or classes).</p>

        <h3>Adding Properties and Methods to a Prototype</h3>
        <p>You can add properties and methods directly to a constructor function's `prototype` property. Objects created with that constructor will then inherit these properties and methods.</p>
        <pre><code class="language-javascript">function Car(make, model) {
  this.make = make;
  this.model = model;
}

// Add a method to the Car prototype
Car.prototype.getDetails = function() {
  return `${this.make} ${this.model}`;
};

// Add a property to the Car prototype
Car.prototype.wheels = 4;

const car1 = new Car("Ford", "Focus");
const car2 = new Car("Honda", "Civic");

console.log(car1.getDetails()); // Output: Ford Focus (method from prototype)
console.log(car2.wheels);     // Output: 4 (property from prototype)

// Check if the property is on the instance or the prototype
console.log(car1.hasOwnProperty('make'));     // Output: true (own property)
console.log(car1.hasOwnProperty('getDetails')); // Output: false (prototype property)
</code></pre>
        <p>This is the mechanism that classes use under the hood. When you define methods in a class, they are added to the class's `prototype` property.</p>

        <h3>Own Properties vs. Prototype Properties</h3>
        <p>An object's "own" properties are those defined directly on the object instance. Prototype properties are those inherited from the prototype chain. The `hasOwnProperty()` method (inherited from `Object.prototype`) can be used to check if a property is an object's own property.</p>

        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Prototypes Playground</span>
                    <button class="run-btn" onclick="runCode('prototypes-code', 'prototypes-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('prototypes-code')">Reset</button>
                </div>
                <textarea class="code-input" id="prototypes-code">// Experiment with prototypes here!

// Define a simple object to be a prototype
const vehicle = {
  isVehicle: true,
  start() {
    console.log("Vehicle started.");
  }
};

// Define a constructor function
function Car(make, model) {
  this.make = make;
  this.model = model;
}

// Set the prototype of Car instances to vehicle
Object.setPrototypeOf(Car.prototype, vehicle);

// Add a method to the Car prototype
Car.prototype.getDetails = function() {
  return `${this.make} ${this.model}`;
};


// Create a new Car instance
const myCar = new Car("Toyota", "Corolla");

// Access inherited properties and methods
console.log("Is vehicle:", myCar.isVehicle); // Inherited from vehicle
myCar.start(); // Inherited from vehicle

// Access method from Car prototype
console.log("Details:", myCar.getDetails());

// Check for own vs. prototype properties
console.log("Has own 'make'?", myCar.hasOwnProperty('make'));
console.log("Has own 'isVehicle'?", myCar.hasOwnProperty('isVehicle')); // It's on the prototype chain

// Try adding another object to the prototype chain!

</textarea>
            </div>
            <div class="simulation-visual" id="prototypes-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="prototypes-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Prototypes Challenge</h3>
        <p class="exercise-instruction">Use the playground to create a simple object `animal` with a `speak` method. Then, create another object `dog` and set `animal` as its prototype. Finally, call the `speak` method on the `dog` object:</p>
        <ol>
            <li>Declare a constant object `animal` with a property `species` set to "unknown" and a method `speak()` that logs "The animal makes a sound.".</li>
            <li
>Declare a constant object `dog` with a property `breed` set to "Labrador".</li>
            <li>Use `Object.setPrototypeOf()` to set `animal` as the prototype of `dog`.</li>
            <li>Call the `speak()` method on the `dog` object (`dog.speak()`). Observe that it inherits and runs the method from the `animal` prototype.</li>
            <li>Log `dog.species` to the console to show inheritance of properties.</li>
        </ol>
        <button class="check-btn" onclick="checkPrototypesExercise()">Check Solution</button>
         <div class="feedback" id="feedback-prototypes-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Prototypes Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-prototypes-1">
            <p><strong>1. What is the underlying mechanism for inheritance in JavaScript?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="prototypes-quiz-1" value="A"> Class-based inheritance</label><br>
                <label><input type="radio" name="prototypes-quiz-1" value="B"> Prototype-based inheritance</label><br>
                <label><input type="radio" name="prototypes-quiz-1" value="C"> Mixins</label><br>
                <label><input type="radio" name="prototypes-quiz-1" value="D"> Interfaces</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('prototypes-quiz-1', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-prototypes-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-prototypes-2">
            <p><strong>2. Where does JavaScript look for a property if it's not found directly on an object?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="prototypes-quiz-2" value="A"> In the global scope</label><br>
                <label><input type="radio" name="prototypes-quiz-2" value="B"> On the object's prototype</label><br>
                <label><input type="radio" name="prototypes-quiz-2" value="C"> In the Call Stack</label><br>
                <label><input type="radio" name="prototypes-quiz-2" value="D"> In the Callback Queue</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('prototypes-quiz-2', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-prototypes-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-prototypes-3">
            <p><strong>3. What is the name of the chain of objects JavaScript traverses to find a property or method?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="prototypes-quiz-3" value="A"> Scope chain</label><br>
                <label><input type="radio" name="prototypes-quiz-3" value="B"> Event loop</label><br>
                <label><input type="radio" name="prototypes-quiz-3" value="C"> Prototype chain</label><br>
                <label><input type="radio" name="prototypes-quiz-3" value="D"> DOM tree</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('prototypes-quiz-3', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-prototypes-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-prototypes-4">
            <p><strong>4. Which method is used to check if a property is an object's own property (not inherited)?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="prototypes-quiz-4" value="A"> `Object.getPrototypeOf()`</label><br>
                <label><input type="radio" name="prototypes-quiz-4" value="B"> `hasOwnProperty()`</label><br>
                <label><input type="radio" name="prototypes-quiz-4" value="C"> `instanceof`</label><br>
                <label><input type="radio" name="prototypes-quiz-4" value="D"> `typeof`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('prototypes-quiz-4', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-prototypes-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-prototypes-5">
            <p><strong>5. What is the recommended way to get an object's prototype in modern JavaScript?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="prototypes-quiz-5" value="A"> Using the `__proto__` property</label><br>
                <label><input type="radio" name="prototypes-quiz-5" value="B"> Using `Object.getPrototypeOf()`</label><br>
                <label><input type="radio" name="prototypes-quiz-5" value="C"> Using `Object.setPrototypeOf()`</label><br>
                <label><input type="radio" name="prototypes-quiz-5" value="D"> Using the `prototype` property directly on the instance</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('prototypes-quiz-5', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-prototypes-quiz-5"></div>
        </div>

        
    </div>
</section>

<section id="debugging" class="lesson-section">
    <h2 class="lesson-title">Debugging in JavaScript</h2>
    <div class="lesson-content">
        <p>Debugging is the process of finding and resolving errors (bugs) in your code. It's an indispensable skill for any programmer. No matter how experienced you are, you will encounter bugs, and knowing how to effectively debug will save you significant time and frustration.</p>
        <p>In JavaScript, debugging often involves using browser developer tools, strategically placing messages in your code, and understanding common error types. This section will introduce you to the most useful debugging techniques and tools.</p>

        <h3>Identifying Errors</h3>
        <p>Errors in JavaScript typically appear in the browser's developer console. When an error occurs, the console provides information about the type of error, the file and line number where it happened, and sometimes a call stack showing the sequence of function calls leading to the error.</p>
        <p>Common errors you might see include `ReferenceError`, `TypeError`, `SyntaxError`, and others we discussed in the Error Handling section.</p>

        <h3>Using Browser Developer Tools</h3>
        <p>Modern web browsers come with powerful built-in developer tools that are essential for debugging:</p>
        <ul>
            <li><strong>Console:</strong> The most basic tool. Used for logging messages, inspecting values, and running small code snippets.</li>
            <li><strong>Sources/Debugger:</strong> Allows you to view your source code, set breakpoints, step through code execution line by line, and inspect the values of variables at different points.</li>
            <li><strong>Elements:</strong> Useful for inspecting and modifying the HTML structure and CSS styles of your page, which can sometimes help diagnose rendering issues related to your JavaScript.</li>
            <li><strong>Network:</strong> Helps you monitor network requests (like fetching data), which is crucial when debugging issues with asynchronous operations.</li>
        </ul>
        <p>You can usually open developer tools by pressing `F12` or right-clicking on a page element and selecting "Inspect" or "Inspect Element".</p>

        <h3>`console.log()` and Friends</h3>
        <p>One of the simplest and most common debugging techniques is using `console.log()` to print the values of variables or messages to the console at different points in your code. This helps you understand the state of your program as it runs.</p>
        <pre><code class="language-javascript">let count = 5;
console.log("Initial count:", count); // Log the initial value

count = count * 2;
console.log("Count after multiplication:", count); // Log the value after an operation

if (count > 10) {
  console.log("Count is greater than 10.");
} else {
  console.log("Count is not greater than 10.");
}
</code></pre>
        <p>Other useful `console` methods include:</p>
        <ul>
            <li>`console.warn()`: Logs a warning message.</li>
            <li>`console.error()`: Logs an error message and often includes a stack trace.</li>
            <li>`console.table()`: Displays tabular data as a table in the console.</li>
        </ul>

        <h3>Breakpoints and Stepping Through Code</h3>
        <p>Setting breakpoints in the Sources/Debugger panel allows you to pause the execution of your JavaScript code at a specific line. Once execution is paused, you can:</p>
        <ul>
            <li>Inspect the current values of variables.</li>
            <li>Step over the next line of code.</li>
            <li>Step into a function call.</li>
            <li>Step out of the current function.</li>
            <li>Continue execution until the next breakpoint or the end of the script.</li>
        </ul>
        <p>This provides much finer control and insight into how your code is running compared to just using `console.log()`.</p>

        <h3>Common Debugging Strategies</h3>
        <ul>
            <li><strong>Understand the Error Message:</strong> Read the console error carefully. The type of error and the line number are the first clues.</li>
            <li><strong>Isolate the Problem:</strong> Try to narrow down the part of the code that is causing the error. Comment out sections of code or use `console.log()` to pinpoint where the issue occurs.</li>
            <li><strong>Reproduce the Bug:</strong> Can you reliably make the bug happen? Understanding the steps to reproduce it is crucial for fixing it.</li>
            <li><strong>Check Your Assumptions:</strong> Are variables holding the values you expect? Is a function being called when you think it is?</li>
            <li><strong>Use the Debugger:</strong> Don't just guess; use breakpoints and step through the code to see exactly what is happening.</li>
            <li><strong>Explain the Problem:</strong> Try explaining the bug to someone else (or even rubber duck debugging by explaining it to an inanimate object). Articulating the problem can often reveal the solution.</li>
        </ul>

        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Debugging Playground</span>
                    <button class="run-btn" onclick="runCode('debugging-code', 'debugging-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('debugging-code')">Reset</button>
                </div>
                <textarea class="code-input" id="debugging-code">// Use console.log to debug this code!

function calculateTotal(price, quantity) {
  // console.log("Price:", price); // Debugging step 1
  // console.log("Quantity:", quantity); // Debugging step 2

  if (quantity > 0) {
    let total = price * quantity;
    // console.log("Calculated total:", total); // Debugging step 3
    return total;
  } else {
    // console.warn("Quantity is not positive."); // Debugging step with warning
    return 0;
  }
}

let itemPrice = 15;
let itemQuantity = "3"; // This might cause an issue!

let orderTotal = calculateTotal(itemPrice, itemQuantity);

console.log("Order Total:", orderTotal); // What do you expect the output to be? Why?

// Use your browser's developer console to see the output and any errors.
// Try setting a breakpoint inside the calculateTotal function!

</textarea>
            </div>
            <div class="simulation-visual" id="debugging-vis">
                 <div class="simulation-placeholder">Terminal Output Below</div>
                 <div class="terminal" id="debugging-terminal"></div>
            </div>
        </div>
        <h3 class="exercise-title"><i>✓</i> Debugging Challenge</h3>
        <p class="exercise-instruction">The code in the playground has a bug that causes the `orderTotal` to be calculated incorrectly. Use `console.log()` or breakpoints in your browser's developer tools to find and fix the bug:</p>
        <ol>
            <li>Run the initial code in the playground and observe the output in the terminal.</li>
            <li>Identify why the `orderTotal` is not the expected value (15 * 3 = 45).</li>
            <li>Use `console.log()` statements inside the `calculateTotal` function to inspect the values of `price` and `quantity` just before the multiplication.</li>
            <li>(Optional) Set a breakpoint on the line `let total = price * quantity;` and inspect the variable values in the debugger.</li>
            <li>Based on your findings, modify the `itemQuantity` variable declaration to fix the bug.</li>
            <li>Run the corrected code and verify that the `Order Total` is now 45.</li>
        </ol>
        <button class="check-btn" onclick="checkDebuggingExercise()">Check Solution</button>
         <div class="feedback" id="feedback-debugging-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Debugging Quizzes</h3>
        <p class="exercise-instruction">Answer the following questions to unlock the next section:</p>

        <div class="quiz" id="quiz-debugging-1">
            <p><strong>1. What is the primary goal of debugging?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="debugging-quiz-1" value="A"> To make code run faster</label><br>
                <label><input type="radio" name="debugging-quiz-1" value="B"> To add new features to code</label><br>
                <label><input type="radio" name="debugging-quiz-1" value="C"> To find and fix errors in code</label><br>
                <label><input type="radio" name="debugging-quiz-1" value="D"> To write documentation for code</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('debugging-quiz-1', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-debugging-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-debugging-2">
            <p><strong>2. Which browser developer tool is commonly used for logging messages and inspecting values?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="debugging-quiz-2" value="A"> Elements panel</label><br>
                <label><input type="radio" name="debugging-quiz-2" value="B"> Network panel</label><br>
                <label><input type="radio" name="debugging-quiz-2" value="C"> Sources panel</label><br>
                <label><input type="radio" name="debugging-quiz-2" value="D"> Console panel</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('debugging-quiz-2', 'D')">Check Answer</button>
            <div class="feedback" id="feedback-debugging-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-debugging-3">
            <p><strong>3. What does setting a breakpoint in the debugger allow you to do?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="debugging-quiz-3" value="A"> Automatically fix errors</label><br>
                <label><input type="radio" name="debugging-quiz-3" value="B"> Pause code execution at a specific line</label><br>
                <label><input type="radio" name="debugging-quiz-3" value="C"> Highlight syntax errors</label><br>
                <label><input type="radio" name="debugging-quiz-3" value="D"> Measure code performance</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('debugging-quiz-3', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-debugging-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-debugging-4">
            <p><strong>4. Which `console` method is best suited for logging error messages with a stack trace?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="debugging-quiz-4" value="A"> `console.log()`</label><br>
                <label><input type="radio" name="debugging-quiz-4" value="B"> `console.warn()`</label><br>
                <label><input type="radio" name="debugging-quiz-4" value="C"> `console.info()`</label><br>
                <label><input type="radio" name="debugging-quiz-4" value="D"> `console.error()`</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('debugging-quiz-4', 'D')">Check Answer</button>
            <div class="feedback" id="feedback-debugging-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-debugging-5">
            <p><strong>5. If you see a `ReferenceError` in the console, what does it typically mean?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="debugging-quiz-5" value="A"> An operation was performed on an incorrect data type</label><br>
                <label><input type="radio" name="debugging-quiz-5" value="B"> A variable or function was accessed before it was declared or is out of scope</label><br>
                <label><input type="radio" name="debugging-quiz-5" value="C"> There is a syntax mistake in the code</label><br>
                <label><input type="radio" name="debugging-quiz-5" value="D"> A number is outside its allowed range</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('debugging-quiz-5', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-debugging-quiz-5"></div>
        </div>

        
    </div>
</section>


<section id="final" class="lesson-section">
    <h2 class="lesson-title">Final Project: Build a Calculator</h2>
    <div class="lesson-content">
        <p>Congratulations on reaching the final project of your JavaScript Adventure! You've learned about variables, data types, operators, control flow (conditionals and loops), functions, objects, arrays, DOM manipulation, events, asynchronous programming, error handling, modules, classes, and prototypes.</p>
        <p>Now, you'll synthesize these concepts by building a functional web-based calculator. This project will solidify your understanding of interacting with the DOM, handling user input via events, performing calculations, and managing application state.</p>

        <h3>Project Files:</h3>
        <p>We provide you with the HTML structure and basic CSS for the calculator interface. Your task is to write the JavaScript logic to make the buttons work and perform calculations.</p>
        <ul>
            <li><code>calcwithoutJS.html</code>: This is your starting point. It contains the HTML and CSS for the calculator interface, but no JavaScript functionality. You will add your code to this file.</li>
            <li><code>calcwithJS.html</code>: This file contains the complete, working solution (HTML, CSS, and JavaScript). You can use this as a reference or to see the final result.</li>
        </ul>

        <div style="margin: 20px 0; padding: 15px; border: 1px solid var(--border-color); border-radius: 8px; background-color: var(--bg-primary);">
             <h4>Download Starting HTML:</h4>
             <p>Click the button below to download the `calcwithoutJS.html` file. This is where you will write your JavaScript code.</p>
             <a href="calcwithoutJS.html" download="calcwithoutJS.html" class="check-btn" style="display: inline-block; margin-top: 10px; background-color: var(--accent-blue); color: white; text-decoration: none; padding: 10px 15px;">Download calcwithoutJS.html</a>
        </div>

        <div style="margin: 20px 0; padding: 15px; border: 1px solid var(--border-color); border-radius: 8px; background-color: var(--bg-primary);">
             <h4>Preview Completed Calculator:</h4>
             <p>You can interact with the fully functional calculator here to see the desired outcome:</p>
             <iframe src="calcwithJS.html" style="width: 100%; height: 400px; border: 1px solid var(--border-color); border-radius: 4px; margin-top: 10px;"></iframe>
        </div>


        <h3>Step-by-Step Guide:</h3>
        <p>Add your JavaScript code within the <code>&lt;script&gt;</code> tags in your `calcwithoutJS.html` file (or link to a separate `.js` file). Follow these steps:</p>
        <ol>
            <li><strong>Get Element References:</strong> Use DOM selection methods (`getElementById`, `querySelectorAll`) to get references to the calculator display input and all the buttons (numbers, operators, decimal, clear, equals).</li>
            <li><strong>Initialize State Variables:</strong> Declare variables to manage the calculator's state. You'll need variables to store the current number being entered, the first operand of a calculation, the selected operator, and potentially a flag to track if you're waiting for the second operand. Initialize the display value to '0'.</li>
            <li><strong>Implement Display Update:</strong> Create a function to update the text shown in the display input field based on your state variables. Call this function whenever the display needs to reflect a change.</li>
            <li><strong>Handle Number Input:</strong> Add event listeners to the number buttons. When a number button is clicked, append its value to the current input and update the display. Handle edge cases like leading zeros.</li>
            <li><strong>Handle Decimal Input:</strong> Add an event listener to the decimal button. Append a decimal point to the current input only if one doesn't already exist.</li>
            <li><strong>Handle Clear:</strong> Add an event listener to the clear button. Reset all state variables and the display to their initial values.</li>
            <li><strong>Handle Operators:</strong> Add event listeners to the operator buttons. When an operator is clicked:
                <ul>
                    <li>Store the current input as the first operand.</li>
                    <li>Store the selected operator.</li>
                    <li>Set a flag indicating that the next number input should start a new number (the second operand).</li>
                    <li>Update the display to show the first operand followed by the operator.</li>
                </ul>
            </li>
            <li><strong>Handle Equals:</strong> Add an event listener to the equals button.
                <ul>
                    <li>Get the current input as the second operand.</li>
                    <li>Perform the calculation using the stored first operand, operator, and the second operand.</li>
                    <li>Display the result.</li>
                    <li>Reset the state variables for a new calculation.</li>
                </ul>
            </li>
            <li><strong>Implement Calculation Logic:</strong> Create a separate function or object to handle the actual arithmetic operations (+, -, \*, /).</li>
            <li><strong>Add Error Handling:</strong> Implement checks, especially for division by zero, and display an appropriate message ("Error") in the display if an invalid operation occurs.</li>
        </ol>

        <div class="playground">
            <div class="code-editor">
                <div class="code-editor-header">
                    <span class="code-editor-title">Your Calculator JavaScript Code (Practice Area)</span>
                    <button class="run-btn" onclick="runCode('final-code', 'final-vis')">Run Code (Simulated)</button>
                    <button class="reset-btn" onclick="resetCode('final-code')">Reset</button>
                </div>
                <textarea class="code-input" id="final-code">// Use this area to draft or practice parts of your JavaScript code.
// The full code should go into your downloaded calcwithoutJS.html file.

// Example: Getting the display element
// const display = document.getElementById('calculator-display');
// console.log("Display element obtained.");

// Example: Adding a click listener to a button (syntax practice)
// const myButton = document.getElementById('some-button-id');
// if (myButton) {
//   myButton.addEventListener('click', () => {
//     console.log("Button clicked!");
//   });
// }

// Add your code below this line:


</textarea>
            </div>
            <div class="simulation-visual" id="final-vis">
                 <div class="simulation-placeholder">Terminal Output Below (for console.log simulation)</div>
                 <div class="terminal" id="final-terminal"></div>
            </div>
        </div>
         <h3 class="exercise-title"><i>✓</i> Final Project Challenge: Build a Calculator!</h3>
        <p class="exercise-instruction">Complete the JavaScript code for the calculator using the `calcwithoutJS.html` file you downloaded. Implement all the required functionality as outlined in the step-by-step guide. Once you are satisfied with your working calculator, click the "Check Solution" button below to mark this project as attempted and complete the course!</p>
        <button class="check-btn" onclick="checkFinalProjectExercise()">Check Solution</button>
         <div class="feedback" id="feedback-final-challenge"></div>
    </div>

    <div class="exercise">
        <h3 class="exercise-title"><i>✓</i> Final Project Quizzes</h3>
        <p class="exercise-instruction">Answer these questions based on the concepts you'll apply in the calculator project:</p>

        <div class="quiz" id="quiz-final-1">
            <p><strong>1. What is the primary technology you will use to make the calculator buttons respond to user clicks?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="final-quiz-1" value="A"> CSS Selectors</label><br>
                <label><input type="radio" name="final-quiz-1" value="B"> DOM Manipulation</label><br>
                <label><input type="radio" name="final-quiz-1" value="C"> Event Handling</label><br>
                <label><input type="radio" name="final-quiz-1" value="D"> Asynchronous JavaScript</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('final-quiz-1', 'C')">Check Answer</button>
            <div class="feedback" id="feedback-final-quiz-1"></div>
        </div>

        <div class="quiz" id="quiz-final-2">
            <p><strong>2. How will you typically get a reference to the calculator display element in your JavaScript code?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="final-quiz-2" value="A"> <code>document.querySelector('.calculator-display')</code></label><br>
                <label><input type="radio" name="final-quiz-2" value="B"> <code>document.getElementsByClassName('calculator-display')</code></label><br>
                <label><input type="radio" name="final-quiz-2" value="C"> <code>document.getElementById('calculator-display')</code></label><br>
                <label><input type="radio" name="final-quiz-2" value="D"> Any of the above methods could work.</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('final-quiz-2', 'D')">Check Answer</button>
            <div class="feedback" id="feedback-final-quiz-2"></div>
        </div>

        <div class="quiz" id="quiz-final-3">
            <p><strong>3. What is the purpose of state variables like `firstOperand` and `operator` in the calculator logic?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="final-quiz-3" value="A"> To store the final result of the calculation.</label><br>
                <label><input type="radio" name="final-quiz-3" value="B"> To keep track of the calculation's progress and the operation to perform.</label><br>
                <label><input type="radio" name="final-quiz-3" value="C"> To style the calculator buttons.</label><br>
                <label><input type="radio" name="final-quiz-3" value="D"> To handle asynchronous network requests.</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('final-quiz-3', 'B')">Check Answer</button>
            <div class="feedback" id="feedback-final-quiz-3"></div>
        </div>

        <div class="quiz" id="quiz-final-4">
            <p><strong>4. When a number button is clicked after an operator has been selected, how should the display typically behave?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="final-quiz-4" value="A"> The number should replace the currently displayed value.</label><br>
                <label><input type="radio" name="final-quiz-4" value="B"> The number should be appended to the currently displayed value.</label><br>
                <label><input type="radio" name="final-quiz-4" value="C"> The display should be cleared.</label><br>
                <label><input type="radio" name="final-quiz-4" value="D"> The calculation should be performed immediately.</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('final-quiz-4', 'A')">Check Answer</button>
            <div class="feedback" id="feedback-final-quiz-4"></div>
        </div>

        <div class="quiz" id="quiz-final-5">
            <p><strong>5. What JavaScript feature could be used to group the arithmetic operations (+, -, \*, /) for easier access based on the operator symbol?</strong></p>
            <div class="quiz-options">
                <label><input type="radio" name="final-quiz-5" value="A"> An Array</label><br>
                <label><input type="radio" name="final-quiz-5" value="B"> A Loop</label><br>
                <label><input type="radio" name="final-quiz-5" value="C"> A Conditional Statement</label><br>
                <label><input type="radio" name="final-quiz-5" value="D"> An Object (using operator symbols as keys)</label>
            </div>
            <button class="check-btn" onclick="checkQuiz('final-quiz-5', 'D')">Check Answer</button>
            <div class="feedback" id="feedback-final-quiz-5"></div>
        </div>

       
    </div>
</section>


        <div class="progress-container">
            <h3 class="progress-title">Your Progress</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <p class="progress-text"><span id="progress-percent">0</span>% Complete</p>
        </div>

        <div class="achievement-badge" id="achievement-badge">
            <span class="badge-icon">🏆</span>
            <span class="badge-text">New Achievement Unlocked!</span>
        </div>
    </div>

    <button class="floating-btn" id="note-tablet-toggle" title="Open Notes">
        <i class="fas fa-clipboard"></i>
    </button>

    <div class="note-tablet-panel" id="note-tablet-panel">
        <div class="note-tablet-header">
            <h4>My Notes & Scratchpad</h4>
            <button id="close-note-tablet" title="Close Notes">&times;</button>
        </div>
        <div class="note-tablet-content">
            <div class="note-tablet-controls" style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #e0dcd7; align-items: center;">
                <button id="add-heading-btn" title="Add Heading" style="background-color: #f8f5f2; color: #3a3a3a; border: 1px solid #e0dcd7; padding: 6px 10px; border-radius: 5px; cursor: pointer; font-size: 0.9rem; min-width: 30px; text-align: center; transition: all 0.2s ease;">H</button>
                <button id="add-list-btn" title="Add List Item" style="background-color: #f8f5f2; color: #3a3a3a; border: 1px solid #e0dcd7; padding: 6px 10px; border-radius: 5px; cursor: pointer; font-size: 0.9rem; min-width: 30px; text-align: center; transition: all 0.2s ease;">• List</button>
                <button id="add-bold-btn" title="Bold Text" style="background-color: #f8f5f2; color: #3a3a3a; border: 1px solid #e0dcd7; padding: 6px 10px; border-radius: 5px; cursor: pointer; font-size: 0.9rem; min-width: 30px; text-align: center; transition: all 0.2s ease;"><b>B</b></button>
                <button id="add-italic-btn" title="Italic Text" style="background-color: #f8f5f2; color: #3a3a3a; border: 1px solid #e0dcd7; padding: 6px 10px; border-radius: 5px; cursor: pointer; font-size: 0.9rem; min-width: 30px; text-align: center; transition: all 0.2s ease;"><i>I</i></button>
                <button id="add-underline-btn" title="Underline Text" style="background-color: #f8f5f2; color: #3a3a3a; border: 1px solid #e0dcd7; padding: 6px 10px; border-radius: 5px; cursor: pointer; font-size: 0.9rem; min-width: 30px; text-align: center; transition: all 0.2s ease;"><u>U</u></button>
                <button id="add-hr-btn" title="Insert Horizontal Rule" style="background-color: #f8f5f2; color: #3a3a3a; border: 1px solid #e0dcd7; padding: 6px 10px; border-radius: 5px; cursor: pointer; font-size: 0.9rem; min-width: 30px; text-align: center; transition: all 0.2s ease;">HR</button>
                <button id="clear-notes-btn" title="Clear All Notes" style="background-color: #dc3545; color: white; border: 1px solid #dc3545; padding: 6px 10px; border-radius: 5px; cursor: pointer; font-size: 0.9rem; min-width: 30px; text-align: center; transition: all 0.2s ease;">Clear</button>
            </div>
            <textarea id="note-textarea" placeholder="Write your notes here..."></textarea>
            <div class="note-code-playground">
                 <div class="code-editor-header">
                    <span class="code-editor-title">Code Scratchpad</span>
                    <button class="run-btn" onclick="runCode('note-code-input', 'note-code-vis')">Run Code</button>
                    <button class="reset-btn" onclick="resetCode('note-code-input')">Reset</button>
                </div>
                <textarea class="code-input" id="note-code-input" placeholder="// Write and run small code snippets here..."></textarea>
                 <div class="simulation-visual" id="note-code-vis">
                     <div class="terminal" id="note-code-terminal"></div>
                 </div>
            </div>
        </div>
        <div class="note-tablet-footer">
            <button id="download-notes-btn" class="check-btn">Download Notes</button>
        </div>
    </div>

    <footer>
        <button id="toggle-achievements-btn" class="footer-btn">
            Achievements <i class="fas fa-chevron-up" id="achievements-toggle-icon"></i>
        </button>
        <div id="achievements-panel" class="achievements-panel">
             <h4>Unlocked Achievements:</h4>
             <ul id="achievement-list">
                 </ul>
        </div>
    </footer>

    <script>
       let unlockedSections = ['intro'];
        // Track correct answers for quizzes by their name attribute, grouped by section
        let sectionQuizCorrect = {
            'intro': {
                'intro-quiz-1': false,
                'intro-quiz-2': false,
                'intro-quiz-3': false,
                'intro-quiz-4': false,
                'intro-quiz-5': false
            },
            'variables': {
                'variables-quiz-1': false,
                'variables-quiz-2': false,
                'variables-quiz-3': false,
                'variables-quiz-4': false,
                'variables-quiz-5': false
            },
            'operators': {
                'operators-quiz-1': false,
                'operators-quiz-2': false,
                'operators-quiz-3': false,
                'operators-quiz-4': false,
                'operators-quiz-5': false
            },
            'data-types': {
                'data-types-quiz-1': false,
                'data-types-quiz-2': false,
                'data-types-quiz-3': false,
                'data-types-quiz-4': false,
                'data-types-quiz-5': false
            },
            'functions': {
                'functions-quiz-1': false,
                'functions-quiz-2': false,
                'functions-quiz-3': false,
                'functions-quiz-4': false,
                'functions-quiz-5': false
            },
            'arrays': {
                'arrays-quiz-1': false,
                'arrays-quiz-2': false,
                'arrays-quiz-3': false,
                'arrays-quiz-4': false,
                'arrays-quiz-5': false
            },
            'objects': {
                'objects-quiz-1': false,
                'objects-quiz-2': false,
                'objects-quiz-3': false,
                'objects-quiz-4': false,
                'objects-quiz-5': false
            },
            'conditionals': {
                'conditionals-quiz-1': false,
                'conditionals-quiz-2': false,
                'conditionals-quiz-3': false,
                'conditionals-quiz-4': false,
                'conditionals-quiz-5': false
            },
            'loops': {
                'loops-quiz-1': false,
                'loops-quiz-2': false,
                'loops-quiz-3': false,
                'loops-quiz-4': false,
                'loops-quiz-5': false
            },
            'dom-manipulation': {
                'dom-manipulation-quiz-1': false,
                'dom-manipulation-quiz-2': false,
                'dom-manipulation-quiz-3': false,
                'dom-manipulation-quiz-4': false,
                'dom-manipulation-quiz-5': false
            },
            'events': {
                'events-quiz-1': false,
                'events-quiz-2': false,
                'events-quiz-3': false,
                'events-quiz-4': false,
                'events-quiz-5': false
            },
            'promises': {
                'promises-quiz-1': false,
                'promises-quiz-2': false,
                'promises-quiz-3': false,
                'promises-quiz-4': false,
                'promises-quiz-5': false
            },
            'async-await': {
                'async-await-quiz-1': false,
                'async-await-quiz-2': false,
                'async-await-quiz-3': false,
                'async-await-quiz-4': false,
                'async-await-quiz-5': false
            },
            'error-handling': {
                'error-handling-quiz-1': false,
                'error-handling-quiz-2': false,
                'error-handling-quiz-3': false,
                'error-handling-quiz-4': false,
                'error-handling-quiz-5': false
            },
            'modules': {
                'modules-quiz-1': false,
                'modules-quiz-2': false,
                'modules-quiz-3': false,
                'modules-quiz-4': false,
                'modules-quiz-5': false
            },
            'classes': {
                'classes-quiz-1': false,
                'classes-quiz-2': false,
                'classes-quiz-3': false,
                'classes-quiz-4': false,
                'classes-quiz-5': false
            },
            'closures': {
                'closures-quiz-1': false,
                'closures-quiz-2': false,
                'closures-quiz-3': false,
                'closures-quiz-4': false,
                'closures-quiz-5': false
            },
            'hoisting': {
                'hoisting-quiz-1': false,
                'hoisting-quiz-2': false,
                'hoisting-quiz-3': false,
                'hoisting-quiz-4': false,
                'hoisting-quiz-5': false
            },
            'event-loop': {
                'event-loop-quiz-1': false,
                'event-loop-quiz-2': false,
                'event-loop-quiz-3': false,
                'event-loop-quiz-4': false,
                'event-loop-quiz-5': false
            },
            'prototypes': {
                'prototypes-quiz-1': false,
                'prototypes-quiz-2': false,
                'prototypes-quiz-3': false,
                'prototypes-quiz-4': false,
                'prototypes-quiz-5': false
            },
            'debugging': {
                'debugging-quiz-1': false,
                'debugging-quiz-2': false,
                'debugging-quiz-3': false,
                'debugging-quiz-4': false,
                'debugging-quiz-5': false
            },
            'final': {
                'final-quiz-1': false,
                'final-quiz-2': false,
                'final-quiz-3': false,
                'final-quiz-4': false,
                'final-quiz-5': false
            }
        };
        // List of unlocked achievement names
        let achievements = [];

        // Mapping of section IDs to the next section ID to unlock
        // !!! IMPORTANT: Update this map for each new course to define the learning path !!!
        const nextSectionMap = {
            'intro': 'variables',
            'variables': 'operators',
            'operators': 'data-types',
            'data-types': 'functions',
            'functions': 'arrays',
            'arrays': 'objects',
            'objects': 'conditionals',
            'conditionals': 'loops',
            'loops': 'dom-manipulation',
            'dom-manipulation': 'events',
            'events': 'promises',
            'promises': 'async-await',
            'async-await': 'error-handling',
            'error-handling': 'modules',
            'modules': 'classes',
            'classes': 'closures',
            'closures': 'hoisting',
            'hoisting': 'event-loop',
            'event-loop': 'prototypes',
            'prototypes': 'debugging',
            'debugging': 'final',
            'final': null // Final section doesn't unlock another section
        };

        // Mapping of section IDs to achievement titles for completing quizzes
        // !!! IMPORTANT: Update these titles for each new course !!!
        const sectionAchievementMap = {
            'intro': 'Introduction Master',
            'variables': 'Variable Virtuoso',
            'operators': 'Operator Overlord',
            'data-types': 'Data Types Dynamo',
            'functions': 'Function Fanatic',
            'arrays': 'Array Ace',
            'objects': 'Object Oracle',
            'conditionals': 'Conditionals Commander',
            'loops': 'Loop Legend',
            'dom-manipulation': 'DOM Manipulation Maestro',
            'events': 'Event Expert',
            'promises': 'Promise Prodigy',
            'async-await': 'Async/Await Aficionado',
            'error-handling': 'Error Handling Hero',
            'modules': 'Module Mastermind',
            'classes': 'Class Connoisseur',
            'closures': 'Closure Champion',
            'hoisting': 'Hoisting Honcho',
            'event-loop': 'Event Loop Luminary',
            'prototypes': 'Prototype Pioneer',
            'debugging': 'Debugging Detective',
            'final': 'Course Champion' // Overall champion for completing the final project/course
        };
// --- Exercise Check Functions ---
// Implement the logic for each section's coding challenge

// Check function for the Variables challenge
function checkVariablesExercise() {
    const code = document.getElementById('variables-code').value;
    const feedback = document.getElementById('feedback-variables-challenge');

    if (!feedback) {
        console.error('Feedback element not found for variables challenge.');
        return;
    }

    // Check if the code includes declarations for myColor (let), currentYear (const), and myName (var)
    const hasMyColorLet = /let\s+myColor\s*=/m.test(code);
    const hasCurrentYearConst = /const\s+currentYear\s*=/m.test(code);
    const hasMyNameVar = /var\s+myName\s*=/m.test(code);
    const logsMyColor = /console\.log\(\s*myColor\s*\)/m.test(code);
    const logsCurrentYear = /console\.log\(\s*currentYear\s*\)/m.test(code);
    const logsMyName = /console\.log\(\s*myName\s*\)/m.test(code);


    if (hasMyColorLet && hasCurrentYearConst && hasMyNameVar && logsMyColor && logsCurrentYear && logsMyName) {
        showFeedback(feedback, 'Challenge complete! You declared and logged the variables correctly.', 'success');
        // Optional: Unlock an achievement for this challenge
        // unlockAchievement('Variables Challenge Master');
    } else {
        let message = 'Keep trying! Make sure you declare the variables with the correct keywords and log them.';
        if (!hasMyColorLet) message += '\n- Missing `let myColor = ...`';
        if (!hasCurrentYearConst) message += '\n- Missing `const currentYear = ...`';
        if (!hasMyNameVar) message += '\n- Missing `var myName = ...`';
        if (!logsMyColor) message += '\n- Missing `console.log(myColor)`';
        if (!logsCurrentYear) message += '\n- Missing `console.log(currentYear)`';
        if (!logsMyName) message += '\n- Missing `console.log(myName)`';

        showFeedback(feedback, message, 'error');
    }
}

// Check function for the Operators challenge
function checkOperatorsExercise() {
    const code = document.getElementById('operators-code').value;
    const feedback = document.getElementById('feedback-operators-challenge');

    if (!feedback) {
        console.error('Feedback element not found for operators challenge.');
        return;
    }

    // Check if the code includes the required calculations and logs
    const hasNumAVar = /let\s+numA\s*=/m.test(code);
    const hasNumBVar = /let\s+numB\s*=/m.test(code);
    const hasProductCalc = /let\s+product\s*=\s*numA\s*\*\s*numB\s*;/m.test(code);
    const hasRemainderCalc = /let\s+remainder\s*=\s*numA\s*%\s*numB\s*;/m.test(code);
    const hasIsAGreater = /let\s+isAGreater\s*=\s*numA\s*>\s*numB\s*;/m.test(code);
    const hasIsBLessOrEqual = /let\s+isBLessOrEqual\s*=\s*numB\s*<=\s*6\s*;/m.test(code); // Checking against 6 as per instruction
    const hasFinalCondition = /let\s+finalCondition\s*=\s*isAGreater\s*&&\s*isBLessOrEqual\s*;/m.test(code);
    const logsProduct = /console\.log\(\s*['"]?Product['"]?\s*,\s*product\s*\)/m.test(code);
    const logsRemainder = /console\.log\(\s*['"]?Remainder['"]?\s*,\s*remainder\s*\)/m.test(code);
    const logsIsAGreater = /console\.log\(\s*['"]?isAGreater['"]?\s*,\s*isAGreater\s*\)/m.test(code);
    const logsIsBLessOrEqual = /console\.log\(\s*['"]?isBLessOrEqual['"]?\s*,\s*isBLessOrEqual\s*\)/m.test(code);
    const logsFinalCondition = /console\.log\(\s*['"]?finalCondition['"]?\s*,\s*finalCondition\s*\)/m.test(code);


    if (hasNumAVar && hasNumBVar && hasProductCalc && hasRemainderCalc && hasIsAGreater && hasIsBLessOrEqual && hasFinalCondition && logsProduct && logsRemainder && logsIsAGreater && logsIsBLessOrEqual && logsFinalCondition) {
        showFeedback(feedback, 'Challenge complete! You used operators and logged the results correctly.', 'success');
        // unlockAchievement('Operator Challenge Master');
    } else {
         let message = 'Keep trying! Make sure you perform all the required calculations and log the results.';
         if (!hasNumAVar || !hasNumBVar) message += '\n- Declare numA and numB.';
         if (!hasProductCalc) message += '\n- Calculate and store the product.';
         if (!hasRemainderCalc) message += '\n- Calculate and store the remainder.';
         if (!hasIsAGreater) message += '\n- Calculate and store isAGreater.';
         if (!hasIsBLessOrEqual) message += '\n- Calculate and store isBLessOrEqual (checking against 6).';
         if (!hasFinalCondition) message += '\n- Calculate and store finalCondition using logical AND.';
         if (!logsProduct || !logsRemainder || !logsIsAGreater || !logsIsBLessOrEqual || !logsFinalCondition) message += '\n- Log all the required variables.';
         showFeedback(feedback, message, 'error');
    }
}

// Check function for the Data Types challenge
function checkDataTypesExercise() {
    const code = document.getElementById('data-types-code').value;
    const feedback = document.getElementById('feedback-data-types-challenge');

    if (!feedback) {
        console.error('Feedback element not found for data types challenge.');
        return;
    }

    // Check if the code includes declarations for each data type and logs their type
    const hasString = /let\s+\w+\s*=\s*['"`].*?['"`];/m.test(code);
    const hasNumber = /let\s+\w+\s*=\s*\d+(\.\d+)?;/m.test(code);
    const hasBoolean = /let\s+\w+\s*=\s*(true|false);/m.test(code);
    const hasNull = /let\s+\w+\s*=\s*null;/m.test(code);
    const hasUndefined = /let\s+\w+;/m.test(code) && !/let\s+\w+\s*=/m.test(code); // Declared but not assigned
    const hasSymbol = /const\s+\w+\s*=\s*Symbol\(.*?\);/m.test(code);
    const hasBigInt = /const\s+\w+\s*=\s*\d+n;/m.test(code);
    const hasObjectLiteral = /let\s+\w+\s*=\s*\{.*?\};/m.test(code);
    const hasArray = /let\s+\w+\s*=\s*\[.*?\];/m.test(code);
    const hasFunction = /let\s+\w+\s*=\s*function\(.*?\)\s*\{.*?\};/m.test(code) || /let\s+\w+\s*=\s*\(.*?\)\s*=>\s*\{.*?\};/m.test(code) || /function\s+\w+\(.*?\) \{.*?\}/m.test(code);

    // Simple check for logging typeof each (this is less precise but a start)
    const logsTypes = /console\.log\(.*?typeof\s+\w+.*?\);/gm.test(code);


    if (hasString && hasNumber && hasBoolean && hasNull && hasUndefined && hasSymbol && hasBigInt && hasObjectLiteral && hasArray && hasFunction && logsTypes) {
        showFeedback(feedback, 'Challenge complete! You experimented with different data types and logged their types.', 'success');
        // unlockAchievement('Data Types Challenge Master');
    } else {
         let message = 'Keep trying! Make sure you declare variables for each data type and log their type using `typeof`.';
         if (!hasString) message += '\n- Declare a String variable.';
         if (!hasNumber) message += '\n- Declare a Number variable.';
         if (!hasBoolean) message += '\n- Declare a Boolean variable.';
         if (!hasNull) message += '\n- Declare a null variable.';
         if (!hasUndefined) message += '\n- Declare an undefined variable.';
         if (!hasSymbol) message += '\n- Declare a Symbol variable.';
         if (!hasBigInt) message += '\n- Declare a BigInt variable.';
         if (!hasObjectLiteral) message += '\n- Declare an Object literal.';
         if (!hasArray) message += '\n- Declare an Array.';
         if (!hasFunction) message += '\n- Declare a Function.';
         if (!logsTypes) message += '\n- Log the type of each variable using `typeof`.';

         showFeedback(feedback, message, 'error');
    }
}


// Check function for the Functions challenge
function checkFunctionsExercise() {
    const code = document.getElementById('functions-code').value;
    const feedback = document.getElementById('feedback-functions-challenge');

    if (!feedback) {
        console.error('Feedback element not found for functions challenge.');
        return;
    }

    // Check if the code defines a function addNumbers that takes two args and returns their sum
    const definesAddNumbers = /function\s+addNumbers\s*\(\s*\w+\s*,\s*\w+\s*\)\s*\{.*?return\s*\w+\s*\+\s*\w+;?\s*\}/m.test(code) ||
                              /const\s+addNumbers\s*=\s*function\s*\(\s*\w+\s*,\s*\w+\s*\)\s*\{.*?return\s*\w+\s*\+\s*\w+;?\s*\}/m.test(code) ||
                              /const\s+addNumbers\s*=\s*\(\s*\w+\s*,\s*\w+\s*\)\s*=>\s*.*?(\w+\s*\+\s*\w+);?/m.test(code);

    // Check if the code calls addNumbers
    const callsAddNumbers = /addNumbers\s*\(.*?\)/m.test(code);

    // Check if the code logs the result of calling addNumbers
    const logsResult = /console\.log\(.*addNumbers\(.*?\).*\)/m.test(code) ||
                       /let\s+\w+\s*=\s*addNumbers\(.*?\);.*?console\.log\(.*?\w+.*?\)/m.test(code);


    if (definesAddNumbers && callsAddNumbers && logsResult) {
        showFeedback(feedback, 'Challenge complete! You defined and used the function correctly.', 'success');
        // unlockAchievement('Function Challenge Master');
    } else {
         let message = 'Keep trying! Make sure you define the `addNumbers` function, call it, and log the result.';
         if (!definesAddNumbers) message += '\n- Define a function named `addNumbers` that takes two arguments and returns their sum.';
         if (!callsAddNumbers) message += '\n- Call the `addNumbers` function.';
         if (!logsResult) message += '\n- Log the result returned by the function.';
         showFeedback(feedback, message, 'error');
    }
}

// Check function for the DOM Manipulation challenge
function checkDOMManipulationExercise() {
    const code = document.getElementById('dom-manipulation-code').value;
    const feedback = document.getElementById('feedback-dom-manipulation-challenge');
    const outputDiv = document.getElementById('output'); // Get the actual output div in the simulation

    if (!feedback || !outputDiv) {
        console.error('Feedback element or output div not found for DOM manipulation challenge.');
        return;
    }

    // Reset the output div before checking to ensure the check is based on the current code execution
    outputDiv.innerHTML = 'Initial content of the output div.';
    outputDiv.style.color = ''; // Reset styles if needed
    outputDiv.style.border = '1px dashed #ccc';
    outputDiv.style.padding = '10px';
    outputDiv.style.backgroundColor = ''; // Reset background color

    // --- Simulate the code execution to check DOM changes ---
    // WARNING: Running arbitrary user code with eval() is dangerous in a real application.
    // This is for a simplified learning environment.
    try {
        // Create a new function scope to prevent variables from leaking
        const simulateDOMChanges = new Function('outputDiv', code);
        simulateDOMChanges(outputDiv); // Pass the actual output div to the simulated code

        // --- Check the state of the outputDiv after simulation ---
        const textContentCorrect = outputDiv.textContent.includes("Content updated by the challenge!");
        const hasNewParagraph = outputDiv.querySelector('p') !== null;
        const newParagraph = outputDiv.querySelector('p');
        const newParagraphTextCorrect = newParagraph ? newParagraph.textContent.includes("This paragraph was dynamically added.") : false;
        const newParagraphBgYellow = newParagraph ? newParagraph.style.backgroundColor === 'yellow' : false;


        if (textContentCorrect && hasNewParagraph && newParagraphTextCorrect && newParagraphBgYellow) {
            showFeedback(feedback, 'Challenge complete! You manipulated the DOM correctly.', 'success');
            // unlockAchievement('DOM Manipulation Challenge Master');
        } else {
             let message = 'Keep trying! Make sure you select the output div, change its text, create and append a new paragraph, and set its background color.';
             if (!textContentCorrect) message += '\n- Change the text content of the output div.';
             if (!hasNewParagraph) message += '\n- Create and append a new paragraph element.';
             if (hasNewParagraph && !newParagraphTextCorrect) message += '\n- Set the text content of the new paragraph.';
             if (hasNewParagraph && !newParagraphBgYellow) message += '\n- Set the background color of the new paragraph to yellow.';
             showFeedback(feedback, message, 'error');
        }

    } catch (e) {
        showFeedback(feedback, `Error during code simulation: ${e.message}`, 'error');
        console.error('DOM Manipulation Simulation Error:', e);
    }
}


// Check function for the Promises challenge
function checkPromisesExercise() {
    const code = document.getElementById('promises-code').value;
    const feedback = document.getElementById('feedback-promises-challenge');

    if (!feedback) {
        console.error('Feedback element not found for promises challenge.');
        return;
    }

    // Check if the code creates a new Promise
    const createsPromise = /new\s+Promise\s*\(/m.test(code);

    // Check if the Promise uses setTimeout inside the executor
    const usesSetTimeoutInPromise = /new\s+Promise\s*\(\s*\(?\s*\w+\s*,\s*\w+\s*\)?\s*=>\s*\{.*?setTimeout\(.*?\w+\s*\(.*?\).*?\).*?\}/ms.test(code); // Checks for setTimeout calling resolve/reject

    // Check if the Promise is consumed with .then()
    const usesThen = /\.then\s*\(/m.test(code);

    // Check if the Promise is consumed with .finally()
    const usesFinally = /\.finally\s*\(/m.test(code);


    if (createsPromise && usesSetTimeoutInPromise && usesThen && usesFinally) {
        showFeedback(feedback, 'Challenge complete! You created and consumed the Promise correctly.', 'success');
        // unlockAchievement('Promises Challenge Master');
    } else {
         let message = 'Keep trying! Make sure you create a Promise, simulate a delay with `setTimeout` inside it, and consume it using `.then()` and `.finally()`.';
         if (!createsPromise) message += '\n- Create a new Promise.';
         if (!usesSetTimeoutInPromise) message += '\n- Use `setTimeout` inside the Promise executor to simulate a delay and call `resolve()`.';
         if (!usesThen) message += '\n- Use the `.then()` method to handle the resolved Promise.';
         if (!usesFinally) message += '\n- Use the `.finally()` method.';
         showFeedback(feedback, message, 'error');
    }
}

// Check function for the Async/Await challenge
function checkAsyncAwaitExercise() {
    const code = document.getElementById('async-await-code').value;
    const feedback = document.getElementById('feedback-async-await-challenge');

    if (!feedback) {
        console.error('Feedback element not found for async/await challenge.');
        return;
    }

    // Check if the code defines an async function (runSequentialTasks is provided)
    // We need to check if 'await' is used before the calls to delayedTask within that function
    const usesAwaitBeforeFirstTask = /async\s+function\s+runSequentialTasks\s*\(\s*\)\s*\{.*?await\s+delayedTask\(.*?\).*?\}/ms.test(code);
    const usesAwaitBeforeSecondTask = /async\s+function\s+runSequentialTasks\s*\(\s*\)\s*\{.*?await\s+delayedTask\(.*?\).*?await\s+delayedTask\(.*?\).*?\}/ms.test(code); // Checks for two awaited calls


    if (usesAwaitBeforeFirstTask && usesAwaitBeforeSecondTask) {
        showFeedback(feedback, 'Challenge complete! You used async and await to run tasks sequentially.', 'success');
        // unlockAchievement('Async/Await Challenge Master');
    } else {
         let message = 'Keep trying! Make sure you use the `await` keyword before each call to `delayedTask` inside the `runSequentialTasks` function.';
         if (!usesAwaitBeforeFirstTask || !usesAwaitBeforeSecondTask) message += '\n- Use `await` before both calls to `delayedTask`.';
         showFeedback(feedback, message, 'error');
    }
}

// Check function for the Error Handling challenge
function checkErrorHandlingExercise() {
    const code = document.getElementById('error-handling-code').value;
    const feedback = document.getElementById('feedback-error-handling-challenge');

    if (!feedback) {
        console.error('Feedback element not found for error handling challenge.');
        return;
    }

    // Check if the code defines a safeDivide function that throws on division by zero
    const definesSafeDivide = /function\s+safeDivide\s*\(\s*\w+\s*,\s*\w+\s*\)\s*\{.*?if\s*\(.*?\s*===\s*0\s*\).*?throw\s+new\s+Error\(.*?\).*?return\s*.*?\s*\/\s*.*?;?\s*\}/ms.test(code);

    // Check if the code uses a try...catch block
    const usesTryCatch = /try\s*\{.*?\}\s*catch\s*\(\s*\w+\s*\)\s*\{.*?\}/ms.test(code);

    // Check if safeDivide is called inside the try block
    const callsSafeDivideInTry = /try\s*\{.*?safeDivide\(.*?\).*?\}/ms.test(code);

    // Check if the error is logged in the catch block
    const logsErrorInCatch = /catch\s*\(\s*\w+\s*\)\s*\{.*?console\.error\(.*?\).*?\}/ms.test(code);


    if (definesSafeDivide && usesTryCatch && callsSafeDivideInTry && logsErrorInCatch) {
        showFeedback(feedback, 'Challenge complete! You implemented error handling correctly.', 'success');
        // unlockAchievement('Error Handling Challenge Master');
    } else {
         let message = 'Keep trying! Make sure you define `safeDivide` to throw an error on division by zero, and use a `try...catch` block to call it and log the error.';
         if (!definesSafeDivide) message += '\n- Define the `safeDivide` function to throw an error if the second argument is 0.';
         if (!usesTryCatch) message += '\n- Use a `try...catch` block.';
         if (!callsSafeDivideInTry) message += '\n- Call `safeDivide` inside the `try` block.';
         if (!logsErrorInCatch) message += '\n- Log the error inside the `catch` block.';
         showFeedback(feedback, message, 'error');
    }
}

// Check function for the Modules challenge
function checkModulesExercise() {
    const code = document.getElementById('modules-code').value;
    const feedback = document.getElementById('feedback-modules-challenge');

    if (!feedback) {
        console.error('Feedback element not found for modules challenge.');
        return;
    }

    // Check for the presence of the required export/import syntax
    const exportsMaxRetries = /export\s+const\s+MAX_RETRIES\s*=/m.test(code);
    const exportsFormatDate = /export\s+function\s+formatDate\s*\(.*?\)/m.test(code) || /export\s+const\s+formatDate\s*=\s*function\s*\(.*?\)/m.test(code) || /export\s+const\s+formatDate\s*=\s*\(.*?\)\s*=>/m.test(code);
    const exportsDefaultObject = /export\s+default\s*\{.*?\};/m.test(code);
    const importsNamed = /import\s*\{\s*MAX_RETRIES\s*,\s*formatDate\s*\}\s*from\s*['"].*?['"];/m.test(code);
    const importsDefault = /import\s+\w+\s*from\s*['"].*?['"];/m.test(code) && /import\s+appConfiguration\s*from/m.test(code); // Checks for default import and specifically named appConfiguration


    if (exportsMaxRetries && exportsFormatDate && exportsDefaultObject && importsNamed && importsDefault) {
        showFeedback(feedback, 'Challenge complete! You practiced the module export and import syntax.', 'success');
        // unlockAchievement('Modules Challenge Master');
    } else {
         let message = 'Keep trying! Make sure you write out the correct syntax for all the required exports and imports.';
         if (!exportsMaxRetries) message += '\n- Write the syntax for exporting MAX_RETRIES.';
         if (!exportsFormatDate) message += '\n- Write the syntax for exporting formatDate.';
         if (!exportsDefaultObject) message += '\n- Write the syntax for a default export of an object literal.';
         if (!importsNamed) message += '\n- Write the syntax for importing MAX_RETRIES and formatDate using named import.';
         if (!importsDefault) message += '\n- Write the syntax for importing the default export as appConfiguration.';
         showFeedback(feedback, message, 'error');
    }
}

// Check function for the Classes challenge
function checkClassesExercise() {
    const code = document.getElementById('classes-code').value;
    const feedback = document.getElementById('feedback-classes-challenge');

    if (!feedback) {
        console.error('Feedback element not found for classes challenge.');
        return;
    }

    // Check if the code defines a Rectangle class with a constructor and getArea method
    const definesRectangleClass = /class\s+Rectangle\s*\{.*?\}/ms.test(code);
    const hasConstructor = /class\s+Rectangle\s*\{.*?constructor\s*\(.*?\).*?\}/ms.test(code);
    const constructorSetsProps = /class\s+Rectangle\s*\{.*?constructor\s*\(\s*\w+\s*,\s*\w+\s*\).*?this\.\w+\s*=\s*\w+;.*?this\.\w+\s*=\s*\w+;.*?\}/ms.test(code); // Basic check for assigning params to this
    const hasGetAreaMethod = /class\s+Rectangle\s*\{.*?getArea\s*\(\s*\)\s*\{.*?return\s+this\.\w+\s*\*\s*this\.\w+;?\s*\}.*?\}/ms.test(code);

    // Check if an instance is created and getArea is called and logged
    const createsInstance = /new\s+Rectangle\s*\(.*?\)/m.test(code);
    const callsGetAreaOnInstance = /\w+\.getArea\s*\(\s*\)/m.test(code);
    const logsGetAreaResult = /console\.log\(.*?\w+\.getArea\s*\(\s*\).*?\)/m.test(code) || /let\s+\w+\s*=\s*\w+\.getArea\s*\(\s*\);.*?console\.log\(.*?\w+.*?\)/m.test(code);


    if (definesRectangleClass && hasConstructor && constructorSetsProps && hasGetAreaMethod && createsInstance && callsGetAreaOnInstance && logsGetAreaResult) {
        showFeedback(feedback, 'Challenge complete! You defined and used the class correctly.', 'success');
        // unlockAchievement('Classes Challenge Master');
    } else {
         let message = 'Keep trying! Make sure you define the `Rectangle` class with a constructor and `getArea` method, create an instance, and log the area.';
         if (!definesRectangleClass) message += '\n- Define the `Rectangle` class.';
         if (!hasConstructor || !constructorSetsProps) message += '\n- Add a constructor that takes width and height and assigns them.';
         if (!hasGetAreaMethod) message += '\n- Add a `getArea` method that returns the area.';
         if (!createsInstance) message += '\n- Create a new instance of `Rectangle`.';
         if (!callsGetAreaOnInstance || !logsGetAreaResult) message += '\n- Call `getArea()` on the instance and log the result.';
         showFeedback(feedback, message, 'error');
    }
}

// Check function for the Closures challenge
function checkClosuresExercise() {
    const code = document.getElementById('closures-code').value;
    const feedback = document.getElementById('feedback-closures-challenge');

    if (!feedback) {
        console.error('Feedback element not found for closures challenge.');
        return;
    }

    // Check if the code defines a function createGreetingFactory
    const definesFactory = /function\s+createGreetingFactory\s*\(\s*\w+\s*\)\s*\{.*?\}/ms.test(code);

    // Check if the factory returns a function
    const factoryReturnsFunction = /function\s+createGreetingFactory\s*\(\s*\w+\s*\)\s*\{.*?return\s+function\s*\(.*?\).*?\}/ms.test(code) ||
                                   /function\s+createGreetingFactory\s*\(\s*\w+\s*\)\s*\{.*?return\s*\(\s*\w+\s*\)\s*=>.*?}/ms.test(code);

    // Check if the inner function uses the outer scope variable (greetingPhrase) and the inner param (name) in console.log
    const innerFunctionLogsCorrectly = /function\s+createGreetingFactory\s*\(\s*(\w+)\s*\)\s*\{.*?return\s+function\s*\(\s*(\w+)\s*\)\s*\{.*?console\.log\(.*?\1.*?\2.*?\).*?\}/ms.test(code) ||
                                        /function\s+createGreetingFactory\s*\(\s*(\w+)\s*\)\s*\{.*?return\s*\(\s*(\w+)\s*\)\s*=>\s*.*?console\.log\(.*?\1.*?\2.*?\).*?\}/ms.test(code);

    // Check if two functions are created using the factory
    const createsTwoFunctions = /\s*=\s*createGreetingFactory\(.*?\);.*?=\s*createGreetingFactory\(.*?\);/ms.test(code);

    // Check if both created functions are called
    const callsBothFunctions = /\w+\(.*\);.*?\w+\(.*\);/ms.test(code) && /\s*=\s*createGreetingFactory\(.*?\);.*?(\w+)\(.*\);.*?\s*=\s*createGreetingFactory\(.*?\);.*?(\w+)\(.*\);/ms.test(code); // Basic check for two function calls after factory calls


    if (definesFactory && factoryReturnsFunction && innerFunctionLogsCorrectly && createsTwoFunctions && callsBothFunctions) {
        showFeedback(feedback, 'Challenge complete! You created and used a closure factory.', 'success');
        // unlockAchievement('Closures Challenge Master');
    } else {
         let message = 'Keep trying! Make sure you define the `createGreetingFactory`, it returns a function that logs the greeting and name, create two functions with the factory, and call both.';
         if (!definesFactory || !factoryReturnsFunction) message += '\n- Define `createGreetingFactory` that returns a function.';
         if (!innerFunctionLogsCorrectly) message += '\n- Ensure the returned function logs the greeting phrase and the name.';
         if (!createsTwoFunctions) message += '\n- Create two functions using `createGreetingFactory`.';
         if (!callsBothFunctions) message += '\n- Call both of the functions you created.';
         showFeedback(feedback, message, 'error');
    }
}

// Check function for the Hoisting challenge
function checkHoistingExercise() {
    const code = document.getElementById('hoisting-code').value;
    const feedback = document.getElementById('feedback-hoisting-challenge');

    if (!feedback) {
        console.error('Feedback element not found for hoisting challenge.');
        return;
    }

    // Check for console.log before var declaration
    const logsBeforeVar = /console\.log\(.*?hoistedVarExample.*?\);.*?var\s+hoistedVarExample\s*=/ms.test(code);

    // Check for var declaration and assignment
    const declaresAndAssignsVar = /var\s+hoistedVarExample\s*=/m.test(code);

    // Check for console.log after var declaration
    const logsAfterVar = /var\s+hoistedVarExample\s*=\s*.*?;.*?console\.log\(.*?hoistedVarExample.*?\);/ms.test(code);

    // Check for function call before function declaration
    const callsFunctionBeforeDeclaration = /callMeEarly\s*\(\s*\);.*?function\s+callMeEarly\s*\(\s*\)\s*\{.*?\}/ms.test(code);

    // Check for function declaration
    const definesFunctionDeclaration = /function\s+callMeEarly\s*\(\s*\)\s*\{.*?\}/m.test(code);


    if (logsBeforeVar && declaresAndAssignsVar && logsAfterVar && callsFunctionBeforeDeclaration && definesFunctionDeclaration) {
        showFeedback(feedback, 'Challenge complete! You demonstrated hoisting with var and function declarations.', 'success');
        // unlockAchievement('Hoisting Challenge Master');
    } else {
         let message = 'Keep trying! Make sure you demonstrate hoisting for a `var` variable (logging before and after declaration) and a function declaration (calling before definition).';
         if (!logsBeforeVar || !declaresAndAssignsVar || !logsAfterVar) message += '\n- Demonstrate `var` hoisting by logging before and after declaration.';
         if (!callsFunctionBeforeDeclaration || !definesFunctionDeclaration) message += '\n- Demonstrate function declaration hoisting by calling the function before its definition.';
         showFeedback(feedback, message, 'error');
    }
}

// Check function for the Event Loop challenge
function checkEventLoopExercise() {
    const code = document.getElementById('event-loop-code').value;
    const feedback = document.getElementById('feedback-event-loop-challenge');

    if (!feedback) {
        console.error('Feedback element not found for event loop challenge.');
        return;
    }

    // Check for the required console.log and setTimeout calls in the correct order
    const hasFirstLog = /console\.log\(.*?["']First message["'].*?\);/m.test(code);
    const hasSetTimeout = /setTimeout\s*\(\s*function\s*\(?\s*\)?\s*\{.*?console\.log\(.*?["']Message from setTimeout.*?["'].*?\);?\s*\}\s*,\s*0\s*\);/ms.test(code); // Checks for setTimeout with 0ms delay and a console.log inside
    const hasSecondLog = /console\.log\(.*?["']Second message["'].*?\);/m.test(code);

    // Simple check for the order (this is a basic regex check, more complex parsing would be needed for full validation)
    const orderCorrect = new RegExp(
        /console\.log\(.*?["']First message["'].*?\);/m.source +
        /.*?setTimeout\s*\(\s*function\s*\(?\s*\)?\s*\{.*?console\.log\(.*?["']Message from setTimeout.*?["'].*?\);?\s*\}\s*,\s*0\s*\);/ms.source +
        /.*?console\.log\(.*?["']Second message["'].*?\);/m.source,
        'ms'
    ).test(code);


    if (hasFirstLog && hasSetTimeout && hasSecondLog && orderCorrect) {
        showFeedback(feedback, 'Challenge complete! You demonstrated the event loop behavior.', 'success');
        // unlockAchievement('Event Loop Challenge Master');
    } else {
         let message = 'Keep trying! Make sure you have the two `console.log` statements and the `setTimeout` call (with 0ms delay and a console.log inside) in the correct order.';
         if (!hasFirstLog) message += '\n- Add the first `console.log("First message");`.';
         if (!hasSetTimeout) message += '\n- Add the `setTimeout` call with a 0ms delay and a `console.log` inside.';
         if (!hasSecondLog) message += '\n- Add the second `console.log("Second message");`.';
         if (!orderCorrect && hasFirstLog && hasSetTimeout && hasSecondLog) message += '\n- Check the order of your statements.';
         showFeedback(feedback, message, 'error');
    }
}

// Check function for the Prototypes challenge
function checkPrototypesExercise() {
    const code = document.getElementById('prototypes-code').value;
    const feedback = document.getElementById('feedback-prototypes-challenge');

    if (!feedback) {
        console.error('Feedback element not found for prototypes challenge.');
        return;
    }

    // Check if the code defines the animal object with species and speak method
    const definesAnimal = /const\s+animal\s*=\s*\{.*?species:\s*['"].*?['"].*?speak:\s*function\s*\(?\s*\)?\s*\{.*?\}.*?\}/ms.test(code) ||
                          /const\s+animal\s*=\s*\{.*?species:\s*['"].*?['"].*?speak\s*\(\s*\)\s*\{.*?\}.*?\}/ms.test(code); // Allow method shorthand

    // Check if the code defines the dog object with breed
    const definesDog = /const\s+dog\s*=\s*\{.*?breed:\s*['"].*?['"].*?\}/ms.test(code);

    // Check if animal is set as dog's prototype
    const setsPrototype = /Object\.setPrototypeOf\s*\(\s*dog\s*,\s*animal\s*\);/m.test(code);

    // Check if speak is called on the dog object
    const callsSpeakOnDog = /dog\.speak\s*\(\s*\);/m.test(code);

    // Check if dog.species is logged
    const logsDogSpecies = /console\.log\(.*?dog\.species.*?\);/m.test(code);


    if (definesAnimal && definesDog && setsPrototype && callsSpeakOnDog && logsDogSpecies) {
        showFeedback(feedback, 'Challenge complete! You worked with prototypes correctly.', 'success');
        // unlockAchievement('Prototypes Challenge Master');
    } else {
         let message = 'Keep trying! Make sure you define the `animal` and `dog` objects, set `animal` as `dog`\'s prototype, call `dog.speak()`, and log `dog.species`.';
         if (!definesAnimal) message += '\n- Define the `animal` object with `species` and `speak` method.';
         if (!definesDog) message += '\n- Define the `dog` object with `breed`.';
         if (!setsPrototype) message += '\n- Use `Object.setPrototypeOf()` to set `animal` as `dog`\'s prototype.';
         if (!callsSpeakOnDog) message += '\n- Call the `speak()` method on the `dog` object.';
         if (!logsDogSpecies) message += '\n- Log `dog.species` to the console.';
         showFeedback(feedback, message, 'error');
    }
}

// Check function for the Debugging challenge
function checkDebuggingExercise() {
    const code = document.getElementById('debugging-code').value;
    const feedback = document.getElementById('feedback-debugging-challenge');

    if (!feedback) {
        console.error('Feedback element not found for debugging challenge.');
        return;
    }

    // The challenge is to fix the code. The original bug is itemQuantity being a string.
    // The fix is to change itemQuantity to a number.
    // We need to check if the line 'let itemQuantity = "3";' has been changed
    // to 'let itemQuantity = 3;' or similar number assignment.

    const itemQuantityFixed = /let\s+itemQuantity\s*=\s*3;?/.test(code); // Checks if itemQuantity is assigned the number 3

    // We could also check if the console.log statements for debugging were added,
    // but the primary goal is fixing the bug.

    if (itemQuantityFixed) {
        showFeedback(feedback, 'Challenge complete! You found and fixed the bug.', 'success');
        // unlockAchievement('Debugging Detective');
    } else {
         let message = 'Keep trying! The bug is that `itemQuantity` is a string instead of a number. Change its value to the number `3` to fix the calculation.';
         showFeedback(feedback, message, 'error');
    }
}

// --- Code Execution Simulation Functions ---
// These functions handle running code from the playground editors
// and displaying output in the terminal.

// Run code and update visualization/terminal
function runCode(editorId, visId) {
    const code = document.getElementById(editorId).value;
    const terminal = document.querySelector(`#${visId} .terminal`);
    // Add other visualization elements you need to access

    // Clear terminal
    if (terminal) terminal.innerHTML = '';

    // --- Simulation Logic ---
    // Implement the logic to simulate the code execution based on the course topic.
    // This might involve:
    // - Parsing the code (simple string checks or more complex parsing)
    // - Simulating operations (e.g., server requests, data processing)
    // - Updating the visualization elements
    // - Adding output to the terminal

    // Example: Simple simulation based on console.log
    try {
        // Use a sandboxed environment for running user code in a real application!
        // For this template, we'll just simulate console.log output.
        // This approach is basic and might not handle all console methods or complex code.
        const consoleLogs = code.match(/console\.log\((.*?)\)/g);
        if (consoleLogs) {
            consoleLogs.forEach(log => {
                // Extract the content inside console.log()
                const logContentMatch = log.match(/console\.log\((.*?)\)/);
                let logContent = logContentMatch && logContentMatch[1] ? logContentMatch[1].trim() : '';

                // Attempt to evaluate simple literals (strings, numbers, booleans)
                // WARNING: eval() is dangerous. This is a simplified simulation.
                try {
                    // Safely evaluate simple JSON-like values
                    if (/^['"].*?['"]$/.test(logContent) || /^\d+(\.\d+)?$/.test(logContent) || /^(true|false)$/.test(logContent) || /^null$/.test(logContent) || /^undefined$/.test(logContent)) {
                         logContent = eval(logContent);
                    } else if (/^\{.*?\}$/.test(logContent) || /^\[.*?\]$/.test(logContent)) {
                        // For objects/arrays, just show the code representation
                         logContent = logContent; // Keep as string representation
                    } else {
                         // For variables or expressions, just show the code representation
                         logContent = logContent; // Keep as string representation
                    }
                } catch (e) {
                    // If evaluation fails, just show the original code
                    logContent = logContentMatch && logContentMatch[1] ? logContentMatch[1].trim() : '';
                }


                // Add the simulated output to the terminal
                addTerminalLine(terminal, `> ${logContent}`, 'system');
            });
        } else {
             addTerminalLine(terminal, 'No console.log statements found to simulate.', 'system');
        }

        // Add more specific simulation logic here based on the section/challenge
        // Example: If editorId is 'section1-code', add logic specific to section 1's challenge.
        // This part would need to be expanded for more complex simulations per section.

    } catch (e) {
        // Catch errors that occur during the simulation itself (e.g., syntax errors in the code)
        addTerminalLine(terminal, `Execution Error: ${e.message}`, 'error');
        console.error('Code Execution Error:', e);
    }
}

    </script>
    <script  src="courseScript.js"></script>
</body>
</html>